-- phpMyAdmin SQL Dump
-- version 4.8.0
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: 2018-09-22 18:35:01
-- 服务器版本： 5.7.18
-- PHP Version: 5.6.30

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `bdm289907541_db`
--

-- --------------------------------------------------------

--
-- 表的结构 `csessioninfo`
--

CREATE TABLE IF NOT EXISTS `csessioninfo` (
  `open_id` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `uuid` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `skey` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_visit_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `session_key` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_info` varchar(2048) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`open_id`),
  KEY `openid` (`open_id`) USING BTREE,
  KEY `skey` (`skey`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='会话管理用户信息';

--
-- 转存表中的数据 `csessioninfo`
--

INSERT INTO `csessioninfo` (`open_id`, `uuid`, `skey`, `create_time`, `last_visit_time`, `session_key`, `user_info`) VALUES
('oswfy5LBjcNSiZo-jKlbuoBER3kg', 'f7884d77-d574-45ce-a261-c5e6cb6402ad', '28d14a94f57be0f2794601a91e0cd567aadc9bc8', '2018-09-07 02:55:27', '2018-09-07 06:26:12', '7iOO+ZTFGT22HvSCnE+Fbw==', '{\"openId\":\"oswfy5LBjcNSiZo-jKlbuoBER3kg\",\"nickName\":\"Yang\",\"gender\":1,\"language\":\"zh_CN\",\"city\":\"Bundaberg\",\"province\":\"Queensland\",\"country\":\"AU\",\"avatarUrl\":\"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKuoDZibZdibS9DNEqAbHqJbqFeLVvH0qo5lkzcia3vJ0Qb5ibF8hbd6cRmmHYfbR6mNqiaq8KZgZYUxkA/132\",\"unionId\":\"oGcPU1AkhlqqiSraBh7J6SSqZoTI\",\"watermark\":{\"timestamp\":1536291535,\"appid\":\"wxa57690ac52c01299\"}}');

-- --------------------------------------------------------

--
-- 表的结构 `hos_article`
--

CREATE TABLE IF NOT EXISTS `hos_article` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(128) NOT NULL,
  `author` varchar(30) DEFAULT NULL COMMENT '作者',
  `description` text COMMENT '文章描述',
  `content` text COMMENT '文章内容（html）',
  `md` text COMMENT 'markdown结构',
  `author_id` int(11) NOT NULL COMMENT '作者id',
  `banner_img` text COMMENT 'banner图（文章的最后一张图）',
  `dateline` int(11) DEFAULT '0' COMMENT '提交时间',
  `fuck_date` int(11) DEFAULT NULL,
  `tags` varchar(128) DEFAULT NULL COMMENT '标签、主题',
  `agree` int(11) DEFAULT '0' COMMENT '赞同数',
  `disagree` int(11) DEFAULT '0' COMMENT '反对数',
  PRIMARY KEY (`id`),
  KEY `fk_authorId` (`author_id`)
) ENGINE=MyISAM AUTO_INCREMENT=1233 DEFAULT CHARSET=utf8 COMMENT='文章表';

--
-- 转存表中的数据 `hos_article`
--

INSERT INTO `hos_article` (`id`, `title`, `author`, `description`, `content`, `md`, `author_id`, `banner_img`, `dateline`, `fuck_date`, `tags`, `agree`, `disagree`) VALUES
(106, '图片测试', 'Greak Neir', '', '<p>图片测试<br>\n<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAU8AAAKDCAIAAAAVbR/3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAABP6SURBVHja7N17mFT1ffjx75nZmQF2WVyuy+4CEbyD4CXc8ZZf5OYtiho0Kqg1xmusTTVGrUnTJLWJtV4isRptfiYajTU1zS9qQFCDxKbhZiN3RMJtue7CsrPMzu6Z/rEpEiD9q7v8dvp6/ceZfZ55nvk8b845M+d8TzTqtBEB+F8g4SMAtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2gG1g9oBtQNqB9QOqB1QO6B2QO2A2kHtPgJQO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHVA7qB1QO6B2QO2A2gG1A2oH1A6oHdTuIwC1A2oH1A6oHVA7oHZA7YDaAbWD2gG1A2oH1A6oHVA7oHZA7YDaAbWD2gG1A2oH1A6oHVA7oHZA7YDaAbWD2gG1A2oH1A6oHVA7oHZA7YDaAbWD2gG1A2oH1A6oHVA7oHZA7YDaAbWD2gG1A2oH1A6oHTgiSjryzaIoGjd+wsXTLh027ORcc/Pu3fVvzp796k//ub6+3iSgvSWr+1d22JvddMutd3/lvp49e61b9+GQY47Zt2/fKaeeOnHSlPcWLNizZ49hQJEcyQ8fMeKamdctWrjwCzdcf9df/Hl9Xd3zzz130w1/1tTU9Fd//fVUKmUYUCS1TzjjzBDCV++/d83qVblcLkRRviW/fv1HTzz+6LBhJ9cMGGAYUCS1V1XXbNjw+61ba0MIyWQyhJBIJEIImzdv2r59+4CBAw0DiqT2QhynSj4+XI+iKJfLhRCGDDmmb9++27ZuMwwoktpXr17Vv6qqb79+bf9syeePOebYKVPPu++Bry774Hcfrl1rGFAktS9auDCE8PkbbwohFAoh15y76poZX/36N1atXPn1rz3Q3JwzDGhX0ajTRnTYm9XUDAghbNy4IYQwZuy48h491q5Zs+7DtXEcmwQUT+2lpaXdSksLcZxKp0MI+ebmQiHEhbikpKSkpGRrba3moV113LV0U847/5qZ17a0tBy0PZ/PJxPJa2dc1eACGyiO2nfv3r1l8+ampqb9WwqFQq9evY4/4cTFixYe+r8A0Flrn/3G67PfeP2gjel05rEnZr2/dElTNmsY0K6O8D1wzc25l3/y0hWfu6p3nz6GAcVcewihvq4unc4ce+xxhgFFciSfyWS6du3aesAX74U47lfZ/8KLPhNC2LbNtXRQLLVf+JmLr54xsxAX9m+J47i8R4+ysrJfvv7a2jWrDQOKpPampqYd27f/0aYo2rhx47y5c37+s5+ZBLS3Dr2WDjiCOm7tmqHDTp563gWhUGi76fUgqVRqxCmn9u3bd8eOHYVCwWDgf1zHfSc/ZszYm2+97ZHvzho9Zuyhr7a2tk6aPOWpZ34wdNgwU4HOXXshFEIIixct/Ma3Hhw5avRBr8ZxPPfN2fv27RszdpypQOeuPYoSIYS/fuD+1atXPfrdWZOnTD3oD1YsX7Fj+/bhI04xFejctbepq6v7ypfven/pkq/9zTdnXHt925JVbdLpVCaTcc4ORVJ7Op2p27Xr7i/d+fZb826+9bYHv/P3p51+eiKR6Nat9No/+3yfvn2XLF5kKtAeSjr8HQshhPr6+nu/fNfNt95+5VVXn3HmWU3ZbJRIdOnSZfWqVa/94uemAp279oNWjM/n8488/NDSJYs/fe7EwUOGhBCWL1/+3A+e3bxpk6lA5659/q/e2bNn90H3sb81b+5b8+YeddRRiURy166d5gHt54hdS1de3iOZTIQQ9uVybm6HIjxvHzrs5LPOOaemZkBl//4lyWSIon1NTTt37Fj30bq5c+asWb3KSKDT79ujKLrlti9+9oor0ulMCKFtSelCISQSibZT+my28R+/N+uFH/3QVKBz79s/fe7Eq2fMXLRw4QvPP/e79/+jvr5u//8ClZX9h48YcfWMmXfc+aXNmza9/dY8g4FOXPuYseP27Nl9x203tz0Q6kCbNm3ctGnj8mXLnn72B+dfcJHaoT103NU1Xbp2ra+rPzT1/bZurW1oaOhe3t1UoHPX/tG6DwcOGjRx8pQoig59NZPJXHnVNVXV1e8vXWIq0B467lu6qurqx574Xk3NgMWLFm7evHn/VTSJZKKqqnrQoE+cNHToyhXL7/rSnbVbthgMdOLaQwg1NQNuue32MePGdetWetBLdXV1b86Z/fSTs+rq6kwFOn3tbfr1qxw4aFD/qqpUSSpKRNlsdvOmTatWrsxmG80D2k/H3xUTtm6tPexiVUC7SvgIQO2A2gG1A2oH/tfUfvn0K/7+kcf+mz8oKSn5zsOPXDPzWlOB9tBxv8BVVPQcPnzEyFGj4wMe83qg7t27Dx02bOOGDaYCnbv25uZc9/LyR78760/9QRRFURTt3bvXVKBz155KpZqbc89+/+k4Lhx6X0wcF0pLu10y7bIuXbqYCnTu2nO55rVr1j7z9FN/6g+6du36yVGj47jVVKA9dNx18hU9e5aWlv43p+XJZHLgoEGNjY3btm41GOjEtScSiUyXLqmS1GFfbWjY40HOUCRH8uddcOH0K648aD35QiG0trYkEsnbb/lCQ0ODeUA77nE77igiilLpdHSAEEJFRcWwk4en06k/9bMc0PmO5NsO5g+qukePHo/NevLtefO+/9SThgFFsm8PIRy6A9+9e/eLz//oc1dfU1FRYRhQPLUfVm1tbWlp6bHHHW8Y0K467lu6ZDKZSqXi+OMv3guFuFfv3v/n3HNDCA0NewwDiqT2KVPPu+TSyw6sPS7EvXv3rq6uee/XC1auWGEYUCS1l5aW9e3b76CNe/fu/cfvzXrpxRd8Jw/t7Yg90Rko2n17IpE47FNi2rS2ujweiqX2a2Zed+NNNx8UfBzHTU1NmUzm/Mnn1tfXmwcUQ+3rP1r39ry5rQecnxfiuGevXqd/cuSCd+fv27fPMKBIap8398235s096NaXsrKyh/7h0Q/XrlU7tPvZdEe+2aF3ue3du/eVl39y+fTpvfv0MQwontoPq76+Pp3ODB48xDCgSI7k0+l0pkuX+I+/e89kukyaMjWEsGvXLsOAIqn9oosvuf6GG3MHnJ8XCoX+VVUhhDdef239R+sMA4qk9vr6+jWrV+Xz+fBfv64nk8n/eH/p0iWLX/vF/2vbDrSfDl2pqqSkpLm5OYRQVlYWJRL55mZfxUMR7tvjOG5ubh45avTI0aOPP/6EVCq1a+fOZcs+mDtndm2tx7lDEe3bQwgzZl530623RVG0bevWbDZbXVOTSqXWr//ovnvuXrVypWFAkdQ+bvyEhx99/N9/828PffvB2i1b4jhOpVKjx4y9/4GvrVmz5gs3XHfQApVAZz2SHz/hjGy28a6/uDObbWzbksvl3pwzu3t5+T333j/oE0evXbPaPKD9dNzVNUdVVGzbum1/6vtt3LChUCj069fPMKBIat++bdvAQYMOvUJ26LCToyjauNGjXaF9Jav7V3bMO+VyuYmTp4weM6ahoaGxsTGdSQ8cOPCCiy6+/obPL1r425dfetHyNdCuOvQ7+fMvvOgr9/1VMpnMZhvjuJBOp9LpzPtLl957z12e/QZFVXsIoWbAgEmTphx3wgnJRGL37t2/+bf33nj9NWOAIqz9UCNHjf70xEmPP/oPDXssMg3tqORIvXG/fpVnn/Opz1wybfCQISGEWY8/ahhQVLWXlZWNGjP2jDPOnDh5SklJydo1q5//4XO/eudti9JB8dReVV192eXTR5x66oknnpTP53/x83+dN/fNFcuX79q10xigqGqfet4FV151dQjh5ZdefObpp3bu3OHTh47Ucb+3x3HcpUuXysr+Q4cNO/roo8u6d29qanIADx2mo7+TP/a448aNm3DZZ6f36du3vr5+5Yrlr/70lV8vWHDoFbVA5679D+cPJSWjRo85/8KLTjv9kxUVFdls44VTJzc0NJgHFMN5+4FaWloWvDt/wbvzBwwcOHbc+PETzkgmk4YBxbNvz2QyZ53zqZqamiWLFy9ZvGj/hfGZTCafz7tOHopk396rV+9vPvh3p5x6Wts//+8/PTvru4+FEC67fPrgIUMe+vaDbUvWAe2k4+54vXjapaecetoTjz92x223zJ0ze/qVV5544kltX9R/5pJp5eXlhgFFsm//xNFH19bW/uDZ74cQln3wu1+c/ebwU0754IPfrV69Ko7jTxw9eMcOv8BDUezbd+3cEUWh7YnODQ0N7y9dOmDgwBBC23J06XTaMKBIav+Xn75SKIQJZ54VQojjeNPGDZWV/UMIAwcNSiQSWy0yDUVzJN+jx1Et+fy99z/wy1Gj4tb4+BNO7N2n999882/PnTR5+bJlGzZYqQqKpfaThw/vV1mZzzdffMm0tgP4QiGcefY5ixYufOThh5qbc4YB7arjfm+vqKjo26+y5cDnvUVRCGHz5k1N2axJQPHs2+vq6urq6g7d3qtX71tvv+Pbf/tNw4AiqT2EcMyxx5111tmlZaWFwsd79+qaAWef86koCk3ZptraLT//2atNTU0GA5249pOGDv3Gt/6uqrr6sK9Ou/TyEMKqlSvnzP6l2qFz1z556nlV1dUPfusbi37722TJH943n28eOXL0nX951+233FRfV5fL5fbs3m0q0Llr79O7T+2WLa+8/JODtldVVSeTybVrVlvZAtpVx11ds3LlykQiUVZWdtD21tbWnTt3RomEYUC76rhf4NLpdLdu3Q67Ay8rK8tms1EUpVKplpYWj3aGzn0kP/6MMydOnJQsKYlCdOD2Qii0trTce8/dp53+yVtu++K/vvov//zySwYDnbj26urqseMnhP0/vv1x8FEUdenatWbAgPIebn2FTn4k361baffu3VtbW1rjuO1YPRFFyWRJIpkIIezYvj2TyXQvL2/KZhsbrUgJnXnfns02ti0sO2DgwKFDh6XS6Z07dixdsnh/27lcLrd9u5FAp689hHD04MFf/sp9bYtVFQqFtnvdv//Uk//0zDPuioHiqb2quvo7Dz/Sr1/liy/8aOWKFblcrlfvPiNHjbr+hhuTyeSTs56wCiUUSe0TJ02pqRnwxVtvfu/XC/ZvfOXll+6+596rZ1z74+d/dNh7ZoD/KR13Tcuxxx234fe/PzD1EEI+n39zzuxkMnnCiScZBhRJ7U3Z7KEX0oUQMplMCMGDYqB4al+27IOKnj2vnjGza7dubVuiKOpfVXXNtdc17Nmz/qN1hgFFct7+y9dfGzt2/K2333HupMm//fffNOeaKysrJ5x5Vmlp6QP332vfDu2tQ58M1b28/PLPXjFl6nlta0vHcfzerxf85MUfL3h3vklAUdX+h5OHRKJr165RFLW2tlq4AorwSL5nz16V/Subm/OFOI4Lcdt5exQlEokohPDh2rWtra3mAcVQ++SpU2+48QuH3s3a3JyPojD90ml79li1Boqi9t+vX//u/Pn7Djh0LxQKvfv0GTd+wjtvveXKWSie2uf/6p35v3rn0O0PP/r4ltrN+/btMwxoV0d+fahXf/rKZZdPr+zf3zCgyGtvampKJBKDBw8xDCiSI/nS0tLyHj3i1o9vdIsLcXV1zRWfuyqEsGnjRsOAIql92mWX33DjTSF8vFJVofCHi+Rf+vEL69d/ZBhQJLXn8/nGxsa2FSz227592+w33vjx8z80CWhvR+BaOuCI8MwGUDugdkDtgNoBtQNqB9QOqB1QO6gdUDugdkDtgNoBtQNqB9QOqB04vKhQKPgUwL4dUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOqB3UDqgdUDugdkDtgNoBtQNqB9QOagfUDqgdUDugdkDtgNoBtQNqB9QOagfUDqgdUDugdkDtgNoBtQNqB9QOagfUDqgdUDugdkDtgNoBtQNqB9QOagfUDqgdUDugdkDtgNoBtQNqB9QOagfUDqgdUDugdkDtgNoBtQNqB9QOagfUDqgdUDugdkDtgNoBtQNqB9QOagfUDqgdUDvw/5P/HAA7h7MqHSU8WAAAAABJRU5ErkJggg==\" alt=\"图片\" rel=\"./0\"></p>\n', '图片测试\n![图片](./0)', 37, '', 1523754719, 1546275661, '时尚', 0, 0),
(110, '鸟巢发布会后，你觉得老罗和他的锤子凉了吗 ', 'Greak Neir', '', '<p>昨晚的锤子发布会，大部分人的裤裆都湿了。不是因为被罗永浩的颠覆设备吓尿，而是因为北京突发的雷阵雨。<br>\n很遗憾没有去到现场看，但想想这个天气，看直播也挺好，至少不会被淋湿。</p>\n<p>很多人说鸟巢这场发布会关乎锤子的性命，这个在 6 年内经历了风风雨雨终于活下来的手机厂商，能不能成就看这一把了。<br>\n而在看过这场发布会后，很多人在发布会中就给锤子，也给罗永浩做了判决：罗永浩和锤子都要凉了。</p>\n<p><img src=\"//img3.myhsw.cn/2018-07-20/bp2ae813.png\" alt=\"图片\"></p>\n<p>你觉得老罗真的凉了吗？<br>\n昨天发布的R1和Smartisan TNT Station，你们期待吗？</p>', '昨晚的锤子发布会，大部分人的裤裆都湿了。不是因为被罗永浩的颠覆设备吓尿，而是因为北京突发的雷阵雨。\n很遗憾没有去到现场看，但想想这个天气，看直播也挺好，至少不会被淋湿。\n\n很多人说鸟巢这场发布会关乎锤子的性命，这个在 6 年内经历了风风雨雨终于活下来的手机厂商，能不能成就看这一把了。\n而在看过这场发布会后，很多人在发布会中就给锤子，也给罗永浩做了判决：罗永浩和锤子都要凉了。\n\n你觉得老罗真的凉了吗？\n昨天发布的R1和Smartisan TNT Station，你们期待吗？\n\n![图片](//img3.myhsw.cn/2018-07-20/bp2ae813.png)\n', 37, '//img3.myhsw.cn/2018-07-20/bp2ae813.png', 1526645997, 1546275661, '游戏', 1478, 7741),
(175, '草稿演示', '系统测试账号', '', '<p><strong>这是草稿演示</strong></p>\n', '**这是草稿演示**', 63, '', 1537329218, 1546275661, '客户端测试', 0, 0),
(176, '关于不可枚举属性', 'zhongshiji', '', '<div class=\"markdown-text\"><p>在MDN上看到这样一个例子：</p>\n<pre class=\"prettyprint\"><code>var obj = Object.create({foo: 1}, { &#x2F;&#x2F; foo 是个继承属性。\n    bar: {\n        value: 2  &#x2F;&#x2F; bar 是个不可枚举属性。\n    },\n    baz: {\n        value: 3,\n        enumerable: true  &#x2F;&#x2F; baz 是个自身可枚举属性。\n    }\n});\n\nvar copy = Object.assign({}, obj);\nconsole.log(copy); &#x2F;&#x2F; { baz: 3 }\n</code></pre><p>里面为什么说bar是个不可枚举属性呢？\n网上搜索的答案看不太懂。</p>\n</div>', '', 63, '', 1537329458, 1546275661, '客户端测试', 0, 0),
(109, ' 域名未出错', 'Greak Neir', '', '<p>域名未出错<br>\n~~<br>\n域名未出错~~<br>\n<img src=\"//192.168.1.186/console/upload/49add012ae3503d58d9fc4a1c508e207.jpg\" alt=\"图片\"></p>\n<p><img src=\"//192.168.1.186/console/upload/9a4841fb3dac6f55972de6512bc1fb14.jpg\" alt=\"图片\"></p>\n<p><img src=\"//192.168.1.186/console/upload/9a4841fb3dac6f55972de6512bc1fb14.jpg\" alt=\"图片\"></p>\n<p><img src=\"//192.168.1.186/console/upload/05d4d507c5e8e7f7d8dd679893abb9ab.jpg\" alt=\"图片\"></p>\n', '\n域名未出错\n~~\n域名未出错~~\n![图片](//192.168.1.186/console/upload/49add012ae3503d58d9fc4a1c508e207.jpg)\n\n\n![图片](//192.168.1.186/console/upload/9a4841fb3dac6f55972de6512bc1fb14.jpg)\n\n\n![图片](//192.168.1.186/console/upload/9a4841fb3dac6f55972de6512bc1fb14.jpg)\n\n\n![图片](//192.168.1.186/console/upload/05d4d507c5e8e7f7d8dd679893abb9ab.jpg)\n\n', 37, '', 1523786214, 2082762000, '编程', 153543, 1564),
(111, '备份', 'Greak Neir', '', '<p>备份# 备份<ins>备份</ins> #</p>\n', '备份# 备份++备份++ #', 37, '', 1527504657, 1546275661, '玩机技巧,游戏', 0, 0),
(167, '本项目github', '仁贾_陆', '', '<p>github请戳:<a href=\"https://github.com/Tyrone2333/hos\">https://github.com/Tyrone2333/hos</a></p>\n<p>感谢!</p>\n<p><img src=\"//127.0.0.1:10010/static/images/c62bd60eb75872dc1589497d895cc9c961f1ece9.png\" alt=\"图片\"></p>\n', 'github请戳:[https://github.com/Tyrone2333/hos](https://github.com/Tyrone2333/hos)\n\n感谢!\n\n\n![图片](//127.0.0.1:10010/static/images/c62bd60eb75872dc1589497d895cc9c961f1ece9.png)', 1, 'http://www.dushizz.top:10010/static/images/github.png', 1533816252, 1546275661, '客户端测试,编程', 0, 0),
(164, 'img test ', '仁贾_陆', '', '<p><strong>这是草稿演示</strong></p>\n<p><img src=\"//127.0.0.1:10010/static/images/e3a7ca5b2f30f294a86df3e53e879b60fabc51ff.png\" alt=\"7ZIDKNOYCQQF_Y5LU99WWT.png\" /></p>\n<p><img src=\"//127.0.0.1:10010/static/images/0de5283880fc0b5c68b1487602a964907ae3e9e5.jpg\" alt=\"Best Friend_.jpg\" /></p>\n<h3>单行的标题</h3>\n<p><strong>粗体</strong><br />\n<code>console.log(\'行内代码\')</code><br />\n<code>js\\n code \\n</code> 标记代码块<br />\n<a href=\"%E9%93%BE%E6%8E%A5\" target=\"_blank\">内容</a><br />\n<img src=\"%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5\" alt=\"文字说明\" /></p>\n<blockquote>\n<p>ii<br />\n<em>eoe</em></p>\n</blockquote>\n', '**这是草稿演示**\n\n![7ZIDKNOYCQQF_Y5LU99WWT.png](//127.0.0.1:10010/static/images/e3a7ca5b2f30f294a86df3e53e879b60fabc51ff.png)\n\n![Best Friend_.jpg](//127.0.0.1:10010/static/images/0de5283880fc0b5c68b1487602a964907ae3e9e5.jpg)\n\n### 单行的标题\n**粗体**\n`console.log(\'行内代码\')`\n```js\\n code \\n``` 标记代码块\n[内容](链接)\n![文字说明](图片链接)\n\n> ii\n*eoe*', 1, '//127.0.0.1:10010/static/images/0de5283880fc0b5c68b1487602a964907ae3e9e5.jpg', 1533194879, 1546275661, '客户端测试', 0, 0),
(169, '办公室 文件 test', '仁贾_陆', '', '<p><strong>这是草稿演示</strong><img src=\"//127.0.0.1:10010/static/images/b0b88ac1d8600471936063e5392bde80bac8b9f0.png\" alt=\"0.png\" /></p>\n<p><em>办公室 文件 test</em></p>\n', '**这是草稿演示**![0.png](//127.0.0.1:10010/static/images/b0b88ac1d8600471936063e5392bde80bac8b9f0.png)\n\n*办公室 文件 test*', 1, '//127.0.0.1:10010/static/images/b0b88ac1d8600471936063e5392bde80bac8b9f0.png', 1534298349, 1546275661, '客户端测试,编程', 0, 0),
(1071, 'xhr RequetHeader设置问题', 'chapgaga', '', '<div class=\"markdown-text\"><p>xhr.setRequetHeader(‘Cookie’, document.cookie)没有异常\n调用xhr.send()请求，F12 Network标签查看该网络请求，<strong><em>发现RequestHeader中没有Cookie字段，这个问题如何解决？</em></strong></p>\n<p>网上有人遇到过这个问题\n<a href=\"https://stackoverflow.com/questions/15198231/why-cookies-and-set-cookie-headers-cant-be-set-while-making-xmlhttprequest-usin\">https://stackoverflow.com/questions/15198231/why-cookies-and-set-cookie-headers-cant-be-set-while-making-xmlhttprequest-usin</a></p>\n<p>暂时没找到解决办法</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1065, '大神们谁有egg.js的富文本编辑器推荐一个', 'bupafengyu', '', '<div class=\"markdown-text\"><p>大神们谁有egg.js的富文本编辑器推荐一个</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1066, 'nodejs请求连接池', 'lzy2014love', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>nodejs的请求连接池怎么管理的？\n</code></pre><p>来自酷炫的 <a href=\"https://github.com/TakWolf/CNode-Material-Design\">CNodeMD</a></p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1067, 'npm本地安装express框架,依赖包也会在相同的node_moudles目录下', 'shiyuemengxiang', '', '<div class=\"markdown-text\"><p>使用npm install express安装模块到本地,则模块的依赖包全部在express同级目录下,看上去很乱,而使用全局安装npm install express -g,则express的依赖则在express内的node_moudles,这样看上去没有那么乱!有朋友知道什么原因吗?让本地安装和全局的目录一样,依赖包在安装的模块内部!</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1068, '关于Underscore.js源码中isUndefined方法实现，以下两种方法是否完全相同？', 'xuanyuan', '', '<div class=\"markdown-text\"><pre class=\"prettyprint language-javascript\"><code>var isUndefined = function (obj) {\n    return obj === void 0;\n}\nvar isUndefined = function (obj) {\n    return obj === undefined;\n}\n</code></pre></div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1056, '有没有参考的完整项目，谢谢大家', 'pengjiajie', '', '<div class=\"markdown-text\"><p>刚接触node.js用Express初始化项目后，写接口有没有什么标准，返回的数据格式要什么样的，接口文档要怎么生成，感觉自己写的乱七八糟。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1057, 'egg框架使用egg-view-handlebars 使用求解？', 'xuj2017', '', '<div class=\"markdown-text\"><p>egg项目模板引擎选择handlebars,官网提供的是<code>egg-view-handlebars</code>这个库，但是在使用过程中发现些问题：\n1.这个库默认<code>app/view/partials</code>作为局部页文件夹，但是我在使用中无法引用到局部页，提示<code>The partial navigation could not be found</code></p>\n<pre class=\"prettyprint language-javasctipr\"><code> &#x2F;&#x2F; 目录\n. view\n  . index.hbs\n  . partials\n    . navigation.hbs\n&#x2F;&#x2F;index.hbs\n{{&gt; navigation}}\n</code></pre><p>这个是因为写法不对吗，需要怎么写？\n2.库中好像没有提供模板页<code>layout.hbs</code>相关注册功能   自定义helper在egg怎么注册？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1058, '现在有什么好的实现office转pdf的方案吗', 'loo41', '', '<div class=\"markdown-text\"><p>网上普遍都说OpenOffice\n实现就是node去调接口</p>\n<p>我想问的是现在有什么更方便的方法吗？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1059, '18年很火的小程序之虚拟支付错误码{\"errcode\":40101,\"errmsg\":\"openid missing\"}', 'luckyqqk', '', '<div class=\"markdown-text\"><p>有小程序虚拟支付经验的小伙伴们会很了解微信公众平台的api位置,\n最近正好在接虚拟支付,拿查询虚拟币的接口为例:\n<a href=\"https://developers.weixin.qq.com/minigame/dev/document/midas-payment/midasGetBalance.html\">官方查询虚拟币接口文档</a>\n申请账号那些就不在这讨论了,我遇到的问题,和想求助的也是接口的调用.\ntalk is easy, show you the code.(废话不多说,上代码)\n<img src=\"//static.cnodejs.org/FrWexp45q74jy3bjpkWrQMTkjzpY\" alt=\"getbalance.png\">\n按照官方文档,进行sig,mp_sig加密.代码如下:\n<img src=\"//static.cnodejs.org/Fo4isjAhou3rQun9fnOO3MJPaT58\" alt=\"sha256.png\">\n最后就是<code>https.post</code>的代码啦:\n<img src=\"//static.cnodejs.org/FqUQi0YX2kOul5ttVhpjcNbZbqSP\" alt=\"httpPost.png\">\n其中拼接各个参数的时候一定要仔细阅读官方文档,这里很容易因为疏忽就遗漏、错写或者传错值.\n好了,经过检查,参数应该没问题了,运行测试:</p>\n<pre class=\"prettyprint\"><code>{\n    &quot;errcode&quot;:40101,\n    &quot;errmsg&quot;:&quot;openid missing&quot;\n}\n</code></pre><p>刚看到这个回馈,我很坦然,因为有错误码说明连接通了,查看具体问题就好了.\n于是去官方文档查看错误码,发现根本就没有40101,我就开始紧张了…\n经过不懈的努力,我终于来论坛求助了,哈哈哈!\n烦请小伙伴们看看,是不是哪里写错了?\n或者有遇到40101的小伙伴分享一下经验,求助,萌谢!</p>\n</div>', '', 63, '//static.cnodejs.org/FrWexp45q74jy3bjpkWrQMTkjzpY', 1537347916, 1546275661, '客户端测试', 0, 0),
(1060, '网络爬虫，页面图片截取', 'quanpf2481', '', '<div class=\"markdown-text\"><p>想用node js爬取网站上的有用数据，并截取网站页面的某个部分\n比如，<a href=\"http://kj.13322.com/pk10_history_dtoday.html\">http://kj.13322.com/pk10_history_dtoday.html</a>\n这个网站，我想截取开奖结果，同时截取开奖的图片如下图所示\n<img src=\"//static.cnodejs.org/Fgt_AE6jp2TEj14jx5RFSr_5Hy8h\" alt=\"untitled1.png\">\n用node js应该怎么做呢？？有没有推荐的例子，新手，谢谢各位！！！</p>\n</div>', '', 63, '//static.cnodejs.org/Fgt_AE6jp2TEj14jx5RFSr_5Hy8h', 1537347916, 1546275661, '客户端测试', 0, 0),
(1061, '用koa-session这个包却获取不到ctx.session的值', 'coderzzp', '', '<div class=\"markdown-text\"><p>用koa2写接口，我在登陆成功的接口里写了类似如下代码</p>\n<blockquote>\n<p>exports.signIn = async (ctx, next) =&gt; {\n	//如果登陆成功\n	ctx.session.user=’…’\n}</p>\n</blockquote>\n<p>但是接下来我在另一个接口中却获取不到ctx.session这个值，中间件的使用方式以及options都与官网一致，看样子也是支持koa2的</p>\n<blockquote>\n<p>const session = require(‘koa-session’);\nconst Koa = require(‘koa’);\nconst app = new Koa();</p>\n<p>app.keys = [‘some secret hurr’];</p>\n</blockquote>\n<blockquote>\n<p>const CONFIG = {\nkey: ‘koa:sess’, /** (string) cookie key (default is koa:sess) <em>/\n/</em>* (number || ‘session’) maxAge in ms (default is 1 days) <em>/\n/</em>* ‘session’ will result in a cookie that expires when session/browser is closed <em>/\n/</em>* Warning: If a session cookie is stolen, this cookie will never expire <em>/\nmaxAge: 86400000,\noverwrite: true, /</em>* (boolean) can overwrite or not (default true) <em>/\nhttpOnly: true, /</em>* (boolean) httpOnly or not (default true) <em>/\nsigned: true, /</em>* (boolean) signed or not (default true) <em>/\nrolling: false, /</em>* (boolean) Force a session identifier cookie to be set on every response. The expiration is reset to the original maxAge, resetting the expiration countdown. (default is false) <em>/\nrenew: false, /</em>* (boolean) renew session when session is nearly expired, so we can always keep user logged in. (default is false)*/\n};</p>\n<p>app.use(session(CONFIG, app));\n// or if you prefer all default config, just use =&gt; app.use(session(app));</p>\n</blockquote>\n<p>环境如下：</p>\n<blockquote>\n<p>“node”: &quot;8.9.3&quot;\n“koa”: “^2.2.0”,\n“koa-session”: “^5.0.0”</p>\n</blockquote>\n<p>请问是哪里出了问题么</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1069, 'egg.js中通过fs加载html界面，但由于ctx.set(\'Content-Type\',\'text/html\')的mime类型限制，配套的css和js都无法正常加载', 'hanqizheng', '', '<div class=\"markdown-text\"><p>求大佬解答</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1070, 'cnpm 搭建的详细步骤', 'csnikey', '', '<div class=\"markdown-text\"><p>国内的资料比较少，求一份企业cnpm仓库搭建的参考资料或者教程。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1062, 'npm unpublish删除自己模块失败', 'MyNodeJs', '', '<div class=\"markdown-text\"><p>npm unpublish删除自己模块失败\n是什么原因？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1063, 'webgl 与 puppeteer', 'burning0xb', '', '<div class=\"markdown-text\"><p>有人测试过后端用puppeteer跑webgl动画，用webrtc来录制的效率吗 比方说并发这种 多大并发会影响到帧率这样子</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1064, '除了官网外，还有哪可以学习egg？', 'xuj2017', '', '<div class=\"markdown-text\"><p>最近需要做个node服务端项目，准备选择egg框架，除了官网外还有什么地方可以学习egg？有没有相应的实战视频或者项目？谢谢！！</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1053, '关于google自动广告的操作', 'cllgeek', '', '<div class=\"markdown-text\"><p>像google这种自动广告模式怎么设置操作呢，希望了解的人解答，谢谢<img src=\"//static.cnodejs.org/Fr9a46T9sjjHviS1n6HkI2v5ZG5Y\" alt=\"1.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fr9a46T9sjjHviS1n6HkI2v5ZG5Y', 1537347916, 1546275661, '客户端测试', 0, 0),
(1054, '如何理解http代理服务器的cltSocket的消费流的流向', '695954085', '', '<div class=\"markdown-text\"><p><a href=\"http://xn--nodejs-hp7i71de91i.cn\">以下是nodejs.cn</a>，http模块讲解的示例代码</p>\n<pre class=\"prettyprint\"><code>const http = require(&#x27;http&#x27;);\nconst net = require(&#x27;net&#x27;);\nconst url = require(&#x27;url&#x27;);\n\n&#x2F;&#x2F; 创建一个 HTTP 代理服务器\nconst proxy = http.createServer((req, res) =&gt; {\n  res.writeHead(200, { &#x27;Content-Type&#x27;: &#x27;text&#x2F;plain&#x27; });\n  res.end(&#x27;okay&#x27;);\n});\nproxy.on(&#x27;connect&#x27;, (req, cltSocket, head) =&gt; {\n  &#x2F;&#x2F; 连接到一个服务器\n  const srvUrl = url.parse(&#96;http:&#x2F;&#x2F;${req.url}&#96;);\n  const srvSocket = net.connect(srvUrl.port, srvUrl.hostname, () =&gt; {\n    cltSocket.write(&#x27;HTTP&#x2F;1.1 200 Connection Established\\r\\n&#x27; +\n                    &#x27;Proxy-agent: Node.js-Proxy\\r\\n&#x27; +\n                    &#x27;\\r\\n&#x27;);\n    srvSocket.write(head);\n    srvSocket.pipe(cltSocket);\n    cltSocket.pipe(srvSocket);\n  });\n});\n\n&#x2F;&#x2F; 代理服务器正在运行\nproxy.listen(1337, &#x27;127.0.0.1&#x27;, () =&gt; {\n\n  &#x2F;&#x2F; 发送一个请求到代理服务器\n  const options = {\n    port: 1337,\n    hostname: &#x27;127.0.0.1&#x27;,\n    method: &#x27;CONNECT&#x27;,\n    path: &#x27;www.google.com:80&#x27;\n  };\n\n  const req = http.request(options);\n  req.end();\n\n  req.on(&#x27;connect&#x27;, (res, socket, head) =&gt; {\n    console.log(&#x27;已连接！&#x27;);\n\n    &#x2F;&#x2F; 通过代理服务器发送一个请求\n    socket.write(&#x27;GET &#x2F; HTTP&#x2F;1.1\\r\\n&#x27; +\n                 &#x27;Host: www.google.com:80\\r\\n&#x27; +\n                 &#x27;Connection: close\\r\\n&#x27; +\n                 &#x27;\\r\\n&#x27;);\n    socket.on(&#x27;data&#x27;, (chunk) =&gt; {\n      console.log(chunk.toString());\n    });\n    socket.on(&#x27;end&#x27;, () =&gt; {\n      proxy.close();\n    });\n  });\n});\n</code></pre><p>我不了解socket,cltSocket,srvSocket的数据流向？\ncltSocket，是不是有两个消费端，分别是socket，srvSocket？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1055, 'Mac安装了nvm后command not found', 'im-here', '', '<div class=\"markdown-text\"><p>安装命令<code>curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.32.1/install.sh | bash</code>\n重启过终端也不行。\n但是我执行如下命令后，有效了</p>\n<pre class=\"prettyprint\"><code>export NVM_DIR=~&#x2F;.nvm\nsource ~&#x2F;.nvm&#x2F;nvm.sh\n</code></pre><p>但是关了重启终端后又提示command not found</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1052, '项目上线测试 OPTIONNS问题', 'xiaoyu311', '', '<div class=\"markdown-text\"><p>Response for preflight is invalid (redirect) 项目上线测试 请求报错 怎么解决</p>\n<p><img src=\"//static.cnodejs.org/FtjFXH_OXPyjlCVk4GsHtZzBwGcK\" alt=\"image.png\"></p>\n<p>这是本地测试的错误</p>\n</div>', '', 63, '//static.cnodejs.org/FtjFXH_OXPyjlCVk4GsHtZzBwGcK', 1537347916, 1546275661, '客户端测试', 0, 0),
(1048, '寻找介绍nodejs高并发架构设计书籍或博客', 'hfqf', '', '<div class=\"markdown-text\"><p>使用express+mongo开发了个系统，目前到了一定阶段，需要考虑高并发设计等难点，自己找了很久，都是些零零碎碎的，不像java有专门的书籍。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1049, 'vue-cli关于es6的问题', 'yuanshuai007', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>let a=1;\nfor(let i=0;i&lt;3;i++){\n    console.log(a);\n    let a=2;\n}\n</code></pre><p>在浏览器的控制台中运行会报错，原因我知道。\n在vue-cli中运行会输出undefined,2,2。如果我把loader中的babel注释掉结果还是一样的</p>\n<p>我想问的是为什么会这样？如何让vue-cli直接运行es6（让结果和控制台中的一样）？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1051, '为什么webpack4里分离出css后，修改css代码后，css文件和js文件的hash都变化？', 'ziwei3749', '', '<div class=\"markdown-text\"><p>公司让我从0搭建一个webpack环境，我想着用一个webpack4,但是遇到一个hash问题，想请教大家</p>\n<p>问题描述 ： webpack<a href=\"/user/4\">@4</a>用mini-css-extract-plugin单独分离了css</p>\n<p>然后修改css代码后，引用css的那个js文件的hash也跟着发生了变化。</p>\n<p>但是我css设置了contenthash, js也设置了chunkhash</p>\n<pre class=\"prettyprint language-js\"><code>   new MiniCssExtractPlugin({\n      filename: &#x27;static&#x2F;css&#x2F;[name].[contenthash:8].css&#x27;\n    })\n</code></pre><pre class=\"prettyprint language-js\"><code>  output: {\n    path: path.resolve(__dirname, &#x27;..&#x2F;dist&#x27;),\n    filename: &#x27;static&#x2F;js&#x2F;[name].[chunkhash:8].js&#x27;,\n    publicPath: &#x27;&#x2F;&#x27;\n  },\n</code></pre><p>虽然不清楚，我觉得这个跟manifest可能没有关系，但是以防万一也单独分离了runtime的代码</p>\n<pre class=\"prettyprint language-js\"><code>  optimization: {\n    splitChunks: {\n      chunks: &#x27;all&#x27;\n    },\n    runtimeChunk: true\n  },\n</code></pre><p>然后我修改css文件里的一个样式，css/js 文件的hash都变化。。可是我期望的是只有css变化，</p>\n<p>另外也拿<a href=\"/user/vue\">@vue</a>/cli测试了一下，因为我想着它也是基于webpack4的嘛</p>\n<p><img src=\"//static.cnodejs.org/FjIxIALr7KOu8aF7wY1W68eSnf19\" alt=\"屏幕快照 2018-07-27 16.49.39.png\"></p>\n<p>这个是一个新创建的官方项目，然后我直接打包</p>\n<p>然后修改了.vue文件里的一行css代码，然后再次打包</p>\n<p>2次结果如图</p>\n<p>依旧是css和js的 hash值都发生了变化。这个正常吗？我觉得希望的效果是只有css文件变化才对呀。</p>\n<p>补充： webpack@3.10.0的版本有测试过，是没问题的。单独分离出来的css的改动，不会造成js的chunkhash变化</p>\n<p>不知道大家是否有遇到过这个问题，如果没遇到就当给大家提个醒，遇到过的话，帮帮我。。</p>\n<p>补充一个我遇到问题的webpack4的demo，只是简单的配置了css分离，clone后，运行npm run build就行\n<a href=\"https://github.com/ziwei3749/webpack-4-demo\">https://github.com/ziwei3749/webpack-4-demo</a></p>\n</div>', '', 63, '//static.cnodejs.org/FjIxIALr7KOu8aF7wY1W68eSnf19', 1537347916, 1546275661, '客户端测试', 0, 0),
(1050, 'read stream 造成内存增长?', 'joey3060', '', '<div class=\"markdown-text\"><p>目前专案需求是 从csv档 汇入资料 并写到 资料库\n大略的代码如下</p>\n<pre class=\"prettyprint\"><code>const csv = require(&#x27;fast-csv&#x27;);\nconst fs = require(&#x27;fs-extra&#x27;);\nconst stream = fs.createReadStream(path.resolve(&#x27;example.csv&#x27;))\n.pipe(csv.parse({ headers: true }))\n.transform((row) =&gt; {\n   &#x2F;&#x2F; 做一些资料的processing\n  return {\n    &#x2F;&#x2F; 略.....\n  };\n})\n.on(&#x27;readable&#x27;, () =&gt; {\n  let row;\n  while (null !== (row = stream.read())) {\n     &#x2F;&#x2F; 将资料塞入资料库的操作\n    }\n  }\n})\n.on(&#x27;end&#x27;, () =&gt; {\n  Promise.all(allPromises).then(() =&gt; {\n    console.log(&#x27;---------- BULK IMPORT SUCCESS ----------&#x27;);\n    console.log(&#96;---------- Imported ${allPromises.length} cards ----------&#96;);\n    console.log(&#x27;memory increased by&#x27;, Math.round((process.memoryUsage().rss - before) &#x2F; 1024 &#x2F; 1024), &#x27;MB&#x27;);\n    process.exit();\n  }).catch((err) =&gt; {\n    throw err;\n  })\n});\n</code></pre><p>在本地端跑都没事，但放到公司的dev server上 就出了问题，错误是进程直接被Killed\n使用free -m发现目前server上 memory 只剩下2xx MB</p>\n<p>查了许多资料，不知道上述代码哪里会造成记忆体的问题，毕竟我没有设read size 应该不会造成缓冲区过大\n不知道是哪个观念没打通 帮帮我…</p>\n<p>另外 我知道V8的内存在32 bit下 约0.7G 64bitˋ是 1.4G\n如果linux 整体的能使用的记忆体 只剩2xx MB 那分配给V8的记忆体量是?</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1046, '关于mongodb中分组查询？', 'LiChangyi', '', '<div class=\"markdown-text\"><p>我有三个集合，学生集合，班级集合，课程集合。。只有学生集合里面包含了班级的id以及课程的id,其他没有任何关联，，现在我想要查询出每个班级选每门课程的<strong>数量</strong>，应该要如何写查询语句。谢谢</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1047, 'node菜鸡求大神教教我如何改这段代码！！！！蟹蟹 蟹蟹', 'Daxong', '', '<div class=\"markdown-text\"><blockquote>\n<p>var data = []\nfor (var index = 0 ; index &lt; catalogss.length ; index ++) {\nfor (let i = 0 ; i &lt; wordsArray.length ; i++ ){\nCatalog.aggregate([\n{$match: {“catalog”: catalogss[index],“books.vocabulary”: {\n$in:[wordsArray[i]]\n}}},\n{&quot;$project&quot;: {\n_id:&quot;$catalog&quot;,\nsize:{&quot;$size&quot;:&quot;$books.vocabulary&quot;}\n}}\n]).exec((err,docs) =&gt; {\nif (err){\nconsole.err(err)\n}\nconsole.log(docs)\ndata.push(docs[0])\n})\n}\n}\n这段代码中，执行query的部分是异步的，我还不会用，希望可以得到帮助～～\n<img src=\"//static.cnodejs.org/FkcS8yrDxJbkg35n08WBgDX-8gEB\" alt=\"代码.png\"></p>\n</blockquote>\n</div>', '', 63, '//static.cnodejs.org/FkcS8yrDxJbkg35n08WBgDX-8gEB', 1537347916, 1546275661, '客户端测试', 0, 0),
(1044, 'node 对文件进行 MD5 值的生成为什么要取头尾 chunk 进行计算', 'zhangxiang958', '', '<div class=\"markdown-text\"><p>目前的需求是对文件做 MD5， 对于大文件来说，全量数据地做 MD5 值可能会慢，而对于对文件进行抽样数据后进行 MD5 值的生成采用取文件头尾数据段进行计算比较好还是在每个文件中取固定的 5 段数据段进行计算比较好？为什么？</p>\n<p>另外看到这篇文章 <a href=\"https://patents.google.com/patent/CN105635324A/zh\">https://patents.google.com/patent/CN105635324A/zh</a> 中提及取文件头尾数据段会更精准，我想知道这是为什么？\n链接打不开可以看下面的图片：\n<img src=\"//static.cnodejs.org/FuS6UTuRHR2XFuKbK-FCMnyy8f4H\" alt=\"image.png\">\n<img src=\"//static.cnodejs.org/FrqFrwD4C9mNoEfXIWdt4JeCxIS4\" alt=\"image.png\">\n为什么文件的头尾数据更具有代表性？为什么文件头尾的数据能保证文件的唯一性与正确性？</p>\n</div>', '', 63, '//static.cnodejs.org/FuS6UTuRHR2XFuKbK-FCMnyy8f4H', 1537347916, 1546275661, '客户端测试', 0, 0),
(1045, 'egg 里头，如何访问 mysql 的数据？', 'JZLeung', '', '<div class=\"markdown-text\"><p>但是我主要的数据库是 mongodb。</p>\n<p>而用户数据则是存放在 mysql 中的。那么我该如何去获取用户数据？</p>\n<p>已知 uid 获取用户信息。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1036, '请问superagent怎么模拟页面点击呢？', 'yoohohoho', '', '<div class=\"markdown-text\"><p>需求就是<br>\n请求到一个页面的数据后，怎么模拟点击把同一类型（区域）的异步数据都请求下来？\n文档写的太简单了，不太明白\n是重定向吗？怎么用呢？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1037, 'webSocket 技术选型  Netty(Java)对比socket.io(Node.js) 各有什么优势', 'lvgithub', '', '<div class=\"markdown-text\"><p>webSocket 技术选型  Netty(Java)<a href=\"http://xn--socket-o27kp16h.io\">对比socket.io</a>(Node.js) 各有什么优势？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1038, 'eggjs 一次请求执行了多次接口函数', 'kyleCodein', '', '<div class=\"markdown-text\"><p>线上的一个抽奖项目(eggjs+mysql),偶发性地在数据库中出现重复数据。观察请求日志，发现有的请求打印了了两到三次，导致同时重复地请求了一个接口函数，出现重复数据了。请问这种情况是因为koa下，并发请求阻塞导致的吗，该如何解决？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1039, 'Egg.js+ TS 中关于config.security 中的配置，VScode一直报错', 'qinianqing', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FokVELrKwnUuu5Gdscx0SdSBJ9rD\" alt=\"error.png\">\n用egg.js+TS搭建的一套系统，但是在安全配置上面，vsCODE一直警告，配置类型不对，项目可以正常运行上线，但是一直划红线，请问有没有大佬碰到这种问题？</p>\n</div>', '', 63, '//static.cnodejs.org/FokVELrKwnUuu5Gdscx0SdSBJ9rD', 1537347916, 1546275661, '客户端测试', 0, 0),
(1040, 'mysql如何应对大数据量？', 'zhengboah', '', '<div class=\"markdown-text\"><p>mysql，如果业务数据量非常大，如何进行数据库和表的设计呢？ 比如分库分表？  如何进行分表了，如何进行多表查询呢？ 谢谢！</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1041, '除了webrtc还有哪些可以实现一对一视频聊天的方案？', 'yakczh', '', '<div class=\"markdown-text\"><p>一对一</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1042, '如何从0到1搭建一个完整的node.js服务器（自己可以随意造轮子，瞎折腾）', 'lpm0205', '', '<div class=\"markdown-text\"><p>工作也有一段时间了，但是对于服务器这块，不管是在写php还是写Node的过程中，都没有太涉及到，公司现有的服务器都是已经安装好了的，希望自己能从头搭一个，从买云服务器，安装centos开始，有过这种经历的大哥们给点意见参考被。（一直有想法，总是被搁置，希望能迈出去）</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1043, 'Express框架中app.get()超过3个，数据返回空值', 'melovemingming', '', '<div class=\"markdown-text\"><p>Express框架中app.get()超过3个，数据返回空值，就需要重新定义框架的类，为什么？</p>\n<pre class=\"prettyprint\"><code>&#x2F;*server.js*&#x2F;\nvar express = require(&#x27;express&#x27;);	&#x2F;&#x2F; 引入express框架\nvar app = express();\nvar fs = require(&#x27;fs&#x27;);	 &#x2F;&#x2F; 引入文件模块\n\n\n&#x2F;&#x2F; 创建获取用户列表路由\napp.get(&#x27;&#x2F;listUsers&#x27;, (req, res) =&gt; {\n   fs.readFile( __dirname + &quot;&#x2F;&quot; + &quot;users.json&quot;, &#x27;utf8&#x27;, (err, data) =&gt; {\n       console.log( data );\n       res.end( data );\n   });\n})\n\n&#x2F;&#x2F; 创建添加用户路由请求\napp.get(&#x27;&#x2F;addClient&#x27;, (req, res) =&gt; {\n	&#x2F;&#x2F; 读取已存在的数据\n	fs.readFile( __dirname + &quot;&#x2F;&quot; + &quot;users.json&quot;, &quot;utf8&quot;, (err, data) =&gt; {\n		if (err) {\n			return console.log(err);\n		};\n\n		&#x2F;&#x2F; 添加用户\n		var user = {\n		&quot;user4&quot;: {\n		&quot;name&quot;:&quot;mohit&quot;,\n		&quot;password&quot;:&quot;password4&quot;,\n		&quot;profession&quot;:&quot;teacher&quot;,\n		&quot;id&quot;:4\n				}\n		}\n\n		data = JSON.parse(data);	&#x2F;&#x2F; 将传入的JSON转换为对象格式\n		data[&quot;user4&quot;] = user[&quot;user4&quot;];	\n		console.log(data);\n		res.end( JSON.stringify(data) );	&#x2F;&#x2F; 将对象转换成为JSON格式\n	});\n});\n\n&#x2F;&#x2F; 添加显示用户详情路由\napp.get(&#x27;&#x2F;:id&#x27;, (req, res) =&gt; {\n	&#x2F;&#x2F; 首先读取已存在的用户\n	fs.readFile( __dirname + &#x27;&#x2F;&#x27; + &quot;users.json&quot;, &#x27;utf8&#x27;, (err, data) =&gt; {\n		data = JSON.parse( data );\n		var user = data[&quot;user&quot; + req.params.id]	&#x2F;&#x2F; 获取get得到的值\n		console.log( user );\n		res.end( JSON.stringify(user) );\n	})\n})\n\nvar app = express();	&#x2F;&#x2F; 不清楚为什么这里要重新定义？\n&#x2F;&#x2F; 删除用户\napp.get(&#x27;&#x2F;deleteUser&#x27;, (req, res) =&gt; {\n\n   &#x2F;&#x2F; 首先获取用户信息\n   fs.readFile( __dirname + &quot;&#x2F;&quot; + &quot;users.json&quot;, &#x27;utf8&#x27;, (err, data) =&gt; {\n       data = JSON.parse( data );\n       delete data[&quot;user&quot; + 2];\n       \n       console.log( data );\n       res.end( JSON.stringify(data));\n   });\n})\n\n&#x2F;&#x2F; 启动server\nvar server = app.listen(1937, () =&gt; {\n	console.log(server.address());\n})\n\n</code></pre><p>代码如上</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1031, 'node有没有什么权限框架？', 'lzjlvlzj', '', '<div class=\"markdown-text\"><p>node有没有什么权限框架 或者有没有类似的列子。</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1032, 'html5 安卓手机端上传图片问题', 'shinygang', '', '<div class=\"markdown-text\"><p>&lt;input type=“file” accept=“image/*” capture=“camera” class=“file” data-trigger=“tkzpic”&gt;\n这样操作，在部分安卓手机上，点击拍照后页面自动刷新啦，没法触发上传。求解救。capture=“camera” 这个拍照部分安卓手机有问题，谁遇到过 ？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1033, '如何能用 https 访问反向代理的 node 服务器？', 'hanzichi', '', '<div class=\"markdown-text\"><p>简单地用 koa-generator 生成了一个项目，然后 <code>npm start</code>，此时可以用 localhost:3000 访问项目，我希望用 <a href=\"https://www.demo.com\">https://www.demo.com</a> 来访问，目前用 nginx 做了反向代理，但是只能实现用 <a href=\"http://www.demo.com\">www.demo.com</a> 访问，如何能用 <a href=\"https://www.demo.com\">https://www.demo.com</a> 访问？需要看些什么资料？求大神指导下，谢谢</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1035, 'egg form-data提交如果没有文件报错 cant found upload file', 'dogLin', '', '<div class=\"markdown-text\"><p><strong>问题：</strong>\n1.如果使用mutipart/formdata提交表单，表单如果没有文件的话，egg中<code>ctx.getFileStream()</code>会报错<code>cant found upload file</code>,那这样就无法获得stream对象，就无法获取其它的字段。怎么解决？（那个因为前端那边的需求是传文件和字段，文件是可以不提交的）\n2.前端使用的是Angular4写的，用的FormData对象提交文件和字段，为什么egg中<code>ctx.getFileStream()</code>获得的stream中fields字段是空的。</p>\n<p><strong>请求的截图</strong>\n<img src=\"http://otpd02xrz.bkt.clouddn.com/18-1-10/65224021.jpg\" alt>\n<strong>问题2中前端的代码</strong></p>\n<pre class=\"prettyprint language-js\"><code>sendplayRequest() {\n  let formData: FormData = new FormData();\n  if(this.playRequest.file){\n  	formData.append(&quot;file&quot;,this.playRequest.file)\n  }\n  formData.set(&quot;MsgTitle&quot;,this.playRequest.MsgTitle)\n  this.apiService.PlayRequest(formData).subscribe(res =&gt; {\n  console.log(res);\n  })\n}\n\nPlayRequest(formData: FormData){\n  return this.http\n  .post(this.host + &quot;&#x2F;play&quot;,formData)\n  .map(res =&gt; res.json());\n}\n</code></pre><p><strong>发出的请求头</strong>\n<img src=\"http://otpd02xrz.bkt.clouddn.com/18-1-10/44959813.jpg\" alt></p>\n<p><strong>服务端代码：</strong></p>\n<pre class=\"prettyprint language-js\"><code>const config = ctx.app.config;\n&#x2F;&#x2F;获取上传的表单文件流以及表单字段\nlet stream;\ntry{\n  stream = await ctx.getFileStream();\n}catch(e) {\n  console.log(e);\n  return await next()\n}\nconsole.log(stream.fields;)\n</code></pre><p>综上，希望有大神可以帮我解惑</p>\n</div>', '', 63, 'http://otpd02xrz.bkt.clouddn.com/18-1-10/65224021.jpg', 1537347915, 1546275661, '客户端测试', 0, 0),
(1034, '问一下这个网站，是镜像还是钓鱼的？', 'Xixi20160512', '', '<div class=\"markdown-text\"><p><a href=\"http://cnodejs.qiniudn.com/topic/58f6bc4abbaf2f3f569bdfe9\">http://cnodejs.qiniudn.com/topic/58f6bc4abbaf2f3f569bdfe9</a></p>\n<p><img src=\"//static.cnodejs.org/Fojbf3sj6E-a9kI_WlnlpZ73FeYL\" alt=\"image.png\"></p>\n<p>界面一样，然后帖子主题和内容就只有时间对不上。</p>\n</div>', '', 63, '//static.cnodejs.org/Fojbf3sj6E-a9kI_WlnlpZ73FeYL', 1537347915, 1546275661, '客户端测试', 0, 0),
(1030, 'nodejs有比较完善的权限框架吗', 'itbasketplayer', '', '<div class=\"markdown-text\"><p>使用passport的时候，发现它顶多算一套认证框架，无法做到比较方便的权限管理，像java的shiro那样，只能自己去维护权限。这一块nodejs有比较好的modelus推荐呢？接触Nodejs才一周，急需各位经验升级。</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1029, 'express req.params出现混乱的问题', 'souldjl', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fuv04TyB8KzOpmqecoDSsYLLUBWW\" alt=\"9979F12078EC9350CD977AF3990BCD39.png\">\n如图，很奇怪，不知道为什么会出现这个问题 ？</p>\n<pre class=\"prettyprint language-javascript\"><code>console.log(&#x27;find one post query&#x27;,query)\n    mongodb.findOne(query,&#x27;posts&#x27;,function (err,doc) {\n          if(err){\n              return callback(err)\n          }\n          console.log(&#x27;find one post&#x27;,doc)\n        &#x2F;&#x2F;解析 markdown 为 html\n        &#x2F;&#x2F; doc = doc[0];\n         doc.post = markdown.toHTML(doc.post);\n        callback(null, doc);&#x2F;&#x2F;返回查询的一篇文章\n    })\n	&#96;&#96;&#96;\n	#### 报错信息\n	&#96;&#96;&#96;javascript\n	find one post null\n&#x2F;Users&#x2F;apix&#x2F;Desktop&#x2F;express-blog&#x2F;node_modules&#x2F;mongodb&#x2F;lib&#x2F;utils.js:123\n    process.nextTick(function() { throw err; });\n                                  ^\n\nTypeError: Cannot read property &#x27;post&#x27; of null\n</code></pre></div>', '', 63, '//static.cnodejs.org/Fuv04TyB8KzOpmqecoDSsYLLUBWW', 1537347915, 1546275661, '客户端测试', 0, 0),
(1028, '获取一个网站的数据或图片的方法', 'quanpf2481', '', '<div class=\"markdown-text\"><p>各位大神，获取网站上的实时数据或者图片，有哪些方法呢？我目前想到的就是网络爬虫了？？各位有什么好的想法嘛？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1015, '在react代码中通过import 加载nodejs内置模块crypto后有些方法不能使用？', 'spursy', '', '<div class=\"markdown-text\"><p>需要在前端使用DH加密，我在react 代码中通过import加载crypto模块后，发现有些方法与通过improt方式加载的不一致</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1016, 'Vue，React，Angular，最应该精通的是哪个框架呢？', 'chapgaga', '', '<div class=\"markdown-text\"><p>一个个学过来，会疯掉的：（</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1017, '怎么看待pwa 会成为未来吗 还有flutter', 'Magic-zhu', '', '<div class=\"markdown-text\"><p>再选看往哪个方向发展  有点迷茫</p>\n<p>来自酷炫的 <a href=\"https://github.com/TakWolf/CNode-Material-Design\">CNodeMD</a></p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1018, 'node js  调用python', 'quanpf2481', '', '<div class=\"markdown-text\"><p>想在node中调用已经写好的python文件，应该怎么样来操作呢？？谢谢</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1027, 'pm2的watch设置为false后不生效（配图）', 'PandaTsui', '', '<div class=\"markdown-text\"><p><strong>问题描述：</strong>\n在线上环境，有个http api接口会去新建和删除文件，每次用户请求时，pm2会自动检测到该目录的变化，然后重启项目。\n导致用户端返回502 (Bad Gateway)错误。\n我已经把watch关闭，为何仍然会检测这个目录？请大家指点，如图所示。</p>\n<p><strong>pm2 list启动信息，见下图：</strong></p>\n<p><img src=\"//static.cnodejs.org/FhOoSirtW8X0i7fu0z7xfb-iH4mS\" alt=\"关闭.png\"></p>\n<p><strong>pm2 log报错信息, 见下图：</strong></p>\n<p><img src=\"//static.cnodejs.org/FkHvPX1vzHJGptMxVBkWjD4eihWv\" alt=\"关闭2.png\"></p>\n<p><strong>pm2配置文件，见下图：</strong></p>\n<p><img src=\"//static.cnodejs.org/FnBbLI4RmR75BGq_-Hn3J81MDw7k\" alt=\"image.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FhOoSirtW8X0i7fu0z7xfb-iH4mS', 1537347915, 1546275661, '客户端测试', 0, 0),
(1026, '拼接 Buffer 生成 mp3文件，可能由于编码问题造成的丢失.', 'TongDaDa', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>    Promise.all([this.translateEnglishPronounce(sentence), baiduAudioCompond(sentence_translate)]).then(async (res) = {\n                        if (!res) { throw TypeError(&quot;To makes audio that the type not have response.&quot;) }\n                        const [senAudioBuf, SenTraAudioBuf] = res;\n                        const isEndSentence = i === maxSentenceNum - 1;\n                        sentences = Buffer.concat([sentences, senAudioBuf, SenTraAudioBuf])\n\n                        fs.writeFileSync(path.join(__dirname,&quot;word.mp3&quot;), senAudioBuf); \n                        fs.writeFileSync(path.join(__dirname,&quot;trans.mp3&quot;), SenTraAudioBuf);\n\n                        decodeToAudioBuff(Buffer.concat([SenTraAudioBuf, senAudioBuf])).then((audioBuff) =&gt; {\n                            fs.writeFileSync(path.join(__dirname,&quot;ttt.mp3&quot;), audioBuff );\n                        })\n</code></pre><p>上面代码是请求google(word.mp3)和百度(trans.mp3)的语音接口他们都返回 mp3/mpeg 格式的数据，我单独存储两个接口返回的数据为mp3文件时，单独播放都是有正确内容的.</p>\n<p>可问题是，使用 Buffer.concat 拼接两个buffer出现了文件大小叠加上去，但是播放出来的却只有Google的接口的声音(ttt.mp3)。令我百思不得其解啊。我需要怎样转换这里的编码？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1025, 'Sequelize，怎么设置时间字段默认值CURRENT_TIMESTAMP和ON_UPDATE_CURRENT_TIMESTAMP', 'PerfectDemo', '', '<div class=\"markdown-text\"><p>旧项目数据库迁移到Sequelize， 但找遍文档也没发现怎么设置时间字段的默认值</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1022, '请问如何通过nodejs让头发变多，不再脱发。', 'RajanZhan', '', '<div class=\"markdown-text\"><p>本人英俊潇洒\n翩翩爱上写代码\n年方二十有三\n不料头发掉的心里发毛\n请问个各位如何解决这个bug</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1023, '同时精通很多种编程语言是否可能？', 'chapgaga', '', '<div class=\"markdown-text\"><p>比如Node，前端三件套，PHP，Golang，J2EE，Ruby，Python，Golang，C++，.Net全都精通，这样的人有么</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1024, 'mock.js怎样创建不重复的数', 'yuanshuai007', '', '<div class=\"markdown-text\"><p>比如说{‘data|5’:[’<a href=\"/user/integer\">@integer</a>(0,10)’]},怎样保证data里面的数不重复。不能用new Set(data)或数组遍历。就用mock.js里面方法，可不可以。在mock.js里面的文档,我没有找到。</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1021, 'nodejs作为静态资源服务器的上行带宽问题', 'forevercjl', '', '<div class=\"markdown-text\"><p>最近使用nodejs（express）搭建了一个静态资源服务器（windows环境）</p>\n<p>用ab工具  -c 60 -n 600 xxx/files/a.jpg 测试的时候，发现node进程的上行带宽跑到5M/S就上不去了，实际上路由给限制的是20M/S</p>\n<p>请问这个性能瓶颈跟什么有关系？如何提高？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1020, 'redis 大key（大约200M） 写入，为什么会内存暴涨？', 'JustforNode', '', '<div class=\"markdown-text\"><p>如题，服务器是64G内存，16个cpu，\nredis有一个大约200M左右的有序集合，每次读取其中一个元素，然后更新它相对应的分值，在访问量稍稍大一点的时候，就会内存暴涨，实测会在几分钟之内redis内存占用会从几百兆飙到30多个G。\n我的疑惑是，这个有序集合最大只有200M，所以不论怎样频繁的读写，都只是操作这200M的内存而已，为什么会占用那么高的内存呢？有大佬能给解惑一下吗？谢谢！</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1019, '读Node.js readline.js 源码 有一段代码, 不理解!', 'maosiyu', '', '<div class=\"markdown-text\"><p><a href=\"https://github.com/nodejs/node/blob/master/lib/internal/readline.js\">readline.js</a></p>\n<pre class=\"prettyprint language- javascript\"><code>var kEscape = &#x27;\\x1b&#x27;;\nfunction CSI(strings, ...args) {\n  let ret = &#96;${kEscape}[&#96;;\n  for (var n = 0; n &lt; strings.length; n++) {\n    ret += strings[n];\n    if (n &lt; args.length)\n      ret += args[n];\n  }\n  return ret;\n}\n\nCSI.kEscape = kEscape;\nCSI.kClearToBeginning = CSI&#96;1K&#96;; &#x2F;&#x2F; 这种写法是什么意思?\nCSI.kClearToEnd = CSI&#96;0K&#96;;\nCSI.kClearLine = CSI&#96;2K&#96;;\nCSI.kClearScreenDown = CSI&#96;0J&#96;;\n</code></pre></div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1009, 'egg form表单请求', 'Helovebai', '', '<div class=\"markdown-text\"><p>用的formidable插件，但是form.parse不会执行。代码如下：</p>\n<pre class=\"prettyprint\"><code>	const form = new formidable.IncomingForm();\n    form.parse(this.ctx.req, async function(err, fields, files) {\n      if (err) {\n        throw err;\n      }\n      const { fileType, fileName } = fields;\n      const { file } = files.files;\n      await Fun(fileType, fileName, file);\n    });\n</code></pre></div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1010, '在学小程序，Cnode的api有没有做敏感词屏蔽', 'Chen-Page', '', '<div class=\"markdown-text\"><p>最近在学微信小程序，准备用来练一下手，这里的api服务端有没有敏感词屏蔽这些功能？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1011, 'npm publish 问题 npm ERR! You do not have permission to publish “zlc”', 'zhanghuai', '', '<div class=\"markdown-text\"><p>我npm上发布了一个package，已经发布了几个版本，<img src=\"//static.cnodejs.org/Fj6mpvMp5RiQ3NX6zBmluTZzStck\" alt=\"image.png\"></p>\n<p>今天npm publish 的时候提示 npm ERR! You do not have permission to publish “zlc”. Are you logged in as the correct user? : zlc</p>\n<p>在npm账户上发现自己发的包没了<img src=\"//static.cnodejs.org/FpBC3WmtsQ3GxxOhkAkuHKAMboI0\" alt=\"image.png\"></p>\n<p>求帮助</p>\n</div>', '', 63, '//static.cnodejs.org/Fj6mpvMp5RiQ3NX6zBmluTZzStck', 1537347915, 1546275661, '客户端测试', 0, 0),
(1012, '前后端分离，端口号不同，必须同一个端口才能显示对应的图片', 'wiscgazf', '', '<div class=\"markdown-text\"><p>现在是前后端分离，前端vue后端nodejs，用vue做的管理平台，node作为服务端，前端用的端口是80，后端用的是30001，我把图片放在node后端本地文件夹下static/upload下  ，当我把图片返回给前端时，是/static/upload/img的形式，前端浏览器自己获取域名和端口信息，和后端服务器的端口不一样是没法显示图片，不然前端就得写死域名端口，但是这样不利于代码维护，有什么解决方法吗？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1013, 'redis存储用户基本信息 是用单hash 还是每个用户一个hash?', 'leiwei1991', '', '<div class=\"markdown-text\"><p>用户基本信息 userInfo: {uid:xxx,name:xxx,age:xxx,…}</p>\n<ol>\n<li>\n<p>当用户较少时(以一百万用户为分界吧)，单redis实例，单key   hset user  uid  JSON.stringify(userInfo)\n在某个场景下会拉取10~100个用户信息,  用hmget单次查询就能够取到所有的信息。这是单key的优势。</p>\n</li>\n<li>\n<p>如果用户量太大的话，会用上redis的集群，单key存储数据太大也不太好，这个时候会采用每个用户一个key hset user:uidxxx   name xxx age xxx。\n这样的话，对redis查询次数就会增加不少</p>\n</li>\n</ol>\n<p>单次拉取10~100个用户信息, 这个场景下用redis有什么好的解决方案吗？ 主要是考虑性能问题\n求大佬解惑，谢谢！</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1014, 'pm2 cluster方案的执行效率为什么不及 node的单进程、多进程？', 'qiulanzhu', '', '<div class=\"markdown-text\"><h3>环境：</h3>\n<p><img src=\"//static.cnodejs.org/Fs_BIQLmNRvk2fY2eaWnHhWMIHCh\" alt=\"cpu信息.png\"></p>\n<h3>问题描述：</h3>\n<p>采用单进程、多进程、pm2 cluster方案分别测试node同一功能程序。\n为什么pm2 cluster方案的吞吐量反而小于单进程的吞吐量？\n测试结果：\n单进程吞吐量：473.5\n多进程吞吐量：749.21\npm2 cluster吞吐量：207.74</p>\n<h2>单进程方案</h2>\n<p>single.js</p>\n<pre class=\"prettyprint\"><code>var http = require(&#x27;http&#x27;);\nvar server = http.createServer(function(req, res){\n	res.writeHead(200, {&#x27;Content-Type&#x27;: &#x27;text&#x2F;plain&#x27;});\n\n	for(var i = 0; i &lt; 10; i++){\n		for(var j=0; j&lt;10; j++){\n			console.log(&#x27;.&#x27;);\n		}\n	}\n	res.end(&#x27;handled by child, pid is &#x27; + process.pid + &#x27;\\n&#x27;);\n});\n\nserver.listen(1337);\n</code></pre><p>在终端1中执行：node single.js\n在终端2中执行：ab -n 10000 -c 500 -k <a href=\"http://127.0.0.1:1337/\">http://127.0.0.1:1337/</a>\n采用测试工具ab，-n 10000表示请求总数为10000, -c 500表示并发用户数为500\n测试结果如下图：\n<img src=\"//static.cnodejs.org/Fq3HdV0QD98JkKgRWoRtxcyruKdD\" alt=\"单进程.png\"></p>\n<h2>多进程方案</h2>\n<p>parent.js</p>\n<pre class=\"prettyprint\"><code>var cp = require(&#x27;child_process&#x27;);\nvar child1 = cp.fork(&#x27;child.js&#x27;);\nvar child2 = cp.fork(&#x27;child.js&#x27;);\n\nvar server = require(&#x27;net&#x27;).createServer();\nserver.listen(1337, function(){\n	child1.send(&#x27;server&#x27;, server);\n	child2.send(&#x27;server&#x27;, server);\n\n	server.close();\n});\n</code></pre><p>child.js</p>\n<pre class=\"prettyprint\"><code>var http = require(&#x27;http&#x27;);\nvar server = http.createServer(function(req, res){\n	res.writeHead(200, {&#x27;Content-Type&#x27;: &#x27;text&#x2F;plain&#x27;});\n\n	for(var i = 0; i &lt; 10; i++){\n		for(var j=0; j&lt;10; j++){\n			console.log(&#x27;.&#x27;);\n		}\n	}\n	res.end(&#x27;handled by child, pid is &#x27; + process.pid + &#x27;\\n&#x27;);\n});\n\nprocess.on(&#x27;message&#x27;, function(m, tcp){\n	if(m === &#x27;server&#x27;){\n		tcp.on(&#x27;connection&#x27;, function(socket){\n			server.emit(&#x27;connection&#x27;, socket);\n		})\n	}\n})\n</code></pre><p>在终端1中执行：node parent.js\n在终端2中执行：ab -n 10000 -c 500 -k <a href=\"http://127.0.0.1:1337/\">http://127.0.0.1:1337/</a>\n采用测试工具ab，-n 10000表示请求总数为10000, -c 500表示并发用户数为500\n测试结果如下图：\n<img src=\"//static.cnodejs.org/Fjk8JKDyaSSe3rMkwRFfFsXm1wWZ\" alt=\"双进程.png\"></p>\n<h2>pm2 cluster方案</h2>\n<p>cluster.js</p>\n<pre class=\"prettyprint\"><code>var http = require(&#x27;http&#x27;);\nvar server = http.createServer(function(req, res){\n	res.writeHead(200, {&#x27;Content-Type&#x27;: &#x27;text&#x2F;plain&#x27;});\n\n	for(var i = 0; i &lt; 10; i++){\n		for(var j=0; j&lt;10; j++){\n			console.log(&#x27;.&#x27;);\n		}\n	}\n	res.end(&#x27;handled by child, pid is &#x27; + process.pid + &#x27;\\n&#x27;);\n});\n\nserver.listen(1337);\n</code></pre><p>在终端1中执行：pm2 cluster.js -i 4\n在终端2中执行：ab -n 10000 -c 500 -k <a href=\"http://127.0.0.1:1337/\">http://127.0.0.1:1337/</a>\n采用测试工具ab，-n 10000表示请求总数为10000, -c 500表示并发用户数为500\n测试结果如下图：\n<img src=\"//static.cnodejs.org/FuGUQKw1ewWHb7qBtakYJeG9BzsO\" alt=\"pm2 cluster.png\"></p>\n<p>pm2的监控信息：\n<img src=\"//static.cnodejs.org/FjY4VO015uwMMrLaSo-_v3bGciHo\" alt=\"monit.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fs_BIQLmNRvk2fY2eaWnHhWMIHCh', 1537347915, 1546275661, '客户端测试', 0, 0),
(1007, 'egg-passport的登出方法ctx.logout为什么没有自动清除ctx.session', 'IEfucker', '', '<div class=\"markdown-text\"><p>调用ctx.logout后，发现ctx.session属性还存在，这样合理吗，为什么不是自动清除</p>\n<p><img src=\"//static.cnodejs.org/FtjLdsImxrHYwcgFFNkvwD0Hc6C8\" alt=\"QQ图片20180815105549.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FtjLdsImxrHYwcgFFNkvwD0Hc6C8', 1537347915, 1546275661, '客户端测试', 0, 0),
(1008, 'javascript中对象字面量方式创建对象，不会调用Object构造函数吗？', 'xuanyuan', '', '<div class=\"markdown-text\"><p><a href=\"https://segmentfault.com/q/1010000004139227\">https://segmentfault.com/q/1010000004139227</a>\n和链接中问题有相同的疑惑，第一个答案感觉不是很清晰，有没有牛牛给解答一下</p>\n<p>不用new构造器和后来加入的__proto__属性等于原型，如何手动获得一个继承对象？\n就是不用new和prototype、也不用__proto__，在js里有没有可能用其他代码模拟实现这种继承和统一修改的效果？即手动生成构造器里那个this对象？\n如果不调用构造函数的话，那为什么insatnceof 判断字面量形式的对象返回Object呢，instanceof不就是判断是否是一个对象的实例麽？</p>\n<pre class=\"prettyprint language-js\"><code>var o = {};\no instanceof Object; &#x2F;&#x2F;true\n</code></pre></div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1005, 'v-model的循环绑定', 'yuanshuai007', '', '<div class=\"markdown-text\"><p><code>&lt;input type=\'text\' v-for=\'val,index in ary\' v-model=\'\'&gt;</code> v-model里面怎么写？？？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1006, '如何配置 sentry-webpack-plugin 收集 source map 文件呢？', 'monkeym4ster', '', '<div class=\"markdown-text\"><h2>相关工具</h2>\n<ul>\n<li>webpack</li>\n<li><a href=\"http://sentry.io\">sentry.io</a></li>\n<li><a href=\"/user/sentry\">@sentry</a>/cli</li>\n<li><a href=\"/user/sentry\">@sentry</a>/webpack-plugin</li>\n</ul>\n<h2>使用场景</h2>\n<ul>\n<li>配置了webpack 产品环境 build JS 代码时会<strong>进行压缩</strong>。</li>\n<li>通过 sentry-webpack-plugin 会自动上传相关文件。</li>\n</ul>\n<h2>问题</h2>\n<ol>\n<li>直接引入 sentry 收集的日志无法关联到具体代码。</li>\n<li>在 <a href=\"http://sentry.io\">sentry.io</a> 的「项目」—「版本」—「工件」里没有看到 .map 文件。</li>\n</ol>\n<p>是必须得设置 productionSourceMap 为 true 才行吗？</p>\n<p>想了个折中办法，但觉得不是很合适：\n首先设置 productionSourceMap 为 true，将 .map  的文件都上传到 sentry。\n然后再把 productionSourceMap 设置为 false，部署到线上。</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0);
INSERT INTO `hos_article` (`id`, `title`, `author`, `description`, `content`, `md`, `author_id`, `banner_img`, `dateline`, `fuck_date`, `tags`, `agree`, `disagree`) VALUES
(991, '列表分页查询总数,查询耗时: 114s,数据量: 每张表平均150W,求大神赐教', 'wangbinlml', '', '<div class=\"markdown-text\"><p>列表分页查询,求总数;</p>\n<p>select count(*) AS num from\ntb_student stu\ninner join tb_student_parent stu_pa on <a href=\"http://stu.id\">stu.id</a> = stu_pa.student_id  AND stu.is_del=0 and stu_pa.is_del=0\ninner join tb_parent pa on stu_pa.parent_id = <a href=\"http://pa.id\">pa.id</a>  and pa.is_del=0\nwhere pa.phone = stu.phone;</p>\n<p>数据量: 每张表平均150W,\n查询耗时: 114s</p>\n<p>where后面还有选项条件,先忽略;\n求解优化;</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(992, 'eggjs中使用websocket作小程序ws服务，使用ws这个npm包的话如何操作', 'caiya', '', '<div class=\"markdown-text\"><p>请教各位，eggjs中使用websocket作小程序ws服务，使用ws这个npm包的话如何操作，https如何配置</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(993, '大家都用什么模板引擎', 'shiqiliang', '', '<div class=\"markdown-text\"><p>rt，大家都用什么模板引擎，pug，还是？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(994, 'Node.js哪个模板引擎最好用啊，新手请指教', 'waning1995', '', '<div class=\"markdown-text\"><p>最近刚开始学习Node.js，想用一个后端模板引擎，哪个最好用呢？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(995, 'npm关于下载包404问题', 'xu1260114313', '', '<div class=\"markdown-text\"><p>npm WARN notice Due to a recent security incident, all user tokens have been invalidated. Please see <a href=\"https://status.npmjs.org/incidents/dn7c1fgrr7ng\">https://status.npmjs.org/incidents/dn7c1fgrr7ng</a> for more details. To generate a new token, visit <a href=\"https://www.npmjs.com/settings/~/tokens\">https://www.npmjs.com/settings/~/tokens</a> or run “npm login”</p>\n<p>上面的是npm提出的警告错误，因为前几天进攻事件，导致一部分安全令牌无法设置，请问你们谁有解决的办法，看文档操作老是报错（英文不好，都是百度一步步翻译，自己理解大概意思），有人能够提供帮助吗？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(996, 'npm install memwatch 或者npm install heapdump的时候到node-gyp rebuild这一步会报错？', 'exdestroyer', '', '<div class=\"markdown-text\"><p>gyp ERR! build error\ngyp ERR! stack Error: <code>make</code> failed with exit code: 2\ngyp ERR! stack     at ChildProcess.onExit (/usr/local/nodejs/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:258:23)\ngyp ERR! stack     at emitTwo (events.js:126:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:214:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:198:12)\ngyp ERR! System Linux 2.6.32.43-tlinux_tvmguest-2.6-default\ngyp ERR! command “/usr/local/nodejs/bin/node” “/usr/local/nodejs/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js” &quot;rebuild&quot;\ngyp ERR! cwd /usr/local/app/tars/tarsnode/data/medcloud.hospitalapp/bin/src/node_modules/memwatch-next\ngyp ERR! node -v v8.11.1\ngyp ERR! node-gyp -v v3.6.2\ngyp ERR! not ok\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! memwatch-next@0.3.0 install: <code>node-gyp rebuild</code>\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the memwatch-next@0.3.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.</p>\n<p>npm ERR! A complete log of this run can be found in:</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(997, 'node反向代理(egg.js)', 'wbget', '', '<div class=\"markdown-text\"><p>我们一直使用ngnix做反向代理的，目前想更灵活一些，所以想问问大家。\n你们在用node做反向代理么？\n因为我目前选用了egg.js做框架。顺便多问一下，egg.js有插件么，还是已经自带这个功能了？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(998, 'Nodejs+Express搭建的web服务器，在处理静态资源方面有什么优劣势吗？或者说目前用node写web有没有什么瓶颈。', 'xulayen', '', '<div class=\"markdown-text\"><p>Nodejs+Express搭建的web服务器，在处理静态资源方面有什么优劣势吗？或者说目前用node写web有没有什么瓶颈。</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(999, '如何在电子合同模板中写入动态数据？', 'JarvisQJ', '', '<div class=\"markdown-text\"><p>需求是，公司有些业务需要和用户签订电子合同。合同内容会根据业务数据变化而变化，比如订单金额、购买数量等。有没有做过这种的朋友？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1000, '接口访问数量统计', 'dingyuanwu', '', '<div class=\"markdown-text\"><p>统计接口的访问次数一般是怎么做的？\n我这边目前使用的是Middleware + redis做的。\n有其他的方案吗？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1001, '关于video.js做直播推流和腾讯云跨域问题 （推流软件obs）', 'UprightCedar', '', '<div class=\"markdown-text\"><p>本项目在本地可以正常使用，一旦放到线上就会出现跨域问题，不知个位大佬有没有遇见过，不能加附件，有需要代码的可以私信我；</p>\n<p>据我分析可能是腾讯云和服务器的跨域问题，可是在腾讯云配置后还是不能访问，所以请求各位大佬给分析分析</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1002, 'minio文件存储，和七牛云相比，差在哪里？', 'jacksparrow68', '', '<div class=\"markdown-text\"><p>请大神详细说明，谢谢</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1003, '使用http.request时抛出connect ECONNREFUSED', 'jiajianrong', '', '<div class=\"markdown-text\"><p>使用http.request 发请求时遇到奇怪的问题：创建一个server，一秒后(确保server启动完成)向该server发1000个请求，按理说1000个请求也就才占用我电脑上1000个端口，不应该是什么大问题。但执行到900个请求左右之后，http.request还是报了<code>ECONNREFUSED</code>错误</p>\n<pre class=\"prettyprint\"><code>const http = require(&#x27;http&#x27;);\n\n&#x2F;&#x2F; create server\nhttp.createServer(function(req, res){\n    res.end(&#x27;ok&#x27;)\n}).listen(9900)\n\n&#x2F;&#x2F; issue 1000 requests after 1 second\nsetTimeout( async function(){\n    for(let i=0;i&lt;1000;i++) { &#x2F;&#x2F; werid: it works well after changing 1000 to 800\n        request();\n    }\n}, 1000 )\n\n&#x2F;&#x2F; actually I don&#x27;t care if the Promise is resolved or rejected,\n&#x2F;&#x2F; so I don&#x27;t await or chain then.\nfunction request() {\n    return new Promise((resolve, reject) =&gt; {\n        const option = {\n            protocol: &#x27;http:&#x27;,\n            host: &#x27;localhost&#x27;,\n            port: 9900,\n            path: &#x27;&#x2F;&#x27;,\n            agent: false,\n            method: &#x27;GET&#x27;\n        };\n        const req = http.request(option, function(res) {\n            res.setEncoding(&#x27;utf8&#x27;);\n            let body = &#x27;&#x27;;\n            res.on(&#x27;data&#x27;, (chunk) =&gt; {\n                body += chunk;\n            });\n            res.on(&#x27;end&#x27;, () =&gt; {\n                console.log(body)\n                resolve(body)\n            });\n        });\n        req.on(&#x27;error&#x27;, (e) =&gt; {\n            console.error(&#96;problem with request: ${e.message}&#96;);\n            console.log(e.stack)\n            process.exit(1)\n        });\n        req.end();\n    })\n}\n</code></pre><p>错误如下。但是我把for循环的次数改为800就没问题，所有请求都能执行成功。1000就不行。。。\n凌乱了，多谢指教</p>\n<pre class=\"prettyprint\"><code>problem with request: connect ECONNREFUSED 127.0.0.1:9900\nError: connect ECONNREFUSED 127.0.0.1:9900\n    at Object._errnoException (util.js:1024:11)\n    at _exceptionWithHostPort (util.js:1046:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1182:14)</code></pre></div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(1004, 'egg.js 框架如何自开机启动,类似pm2 save那种的?', 'zhangshiqiu', '', '<div class=\"markdown-text\"><p>除了自己要写脚本挂载到开机启动目录外</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(989, '谁能介绍下mongodb事务的snapshot隔离级别？', 'lovegnep', '', '<div class=\"markdown-text\"><p>在网上很容易找到有关mysql的事务隔离级别(read uncommited, read commited, repeateable read, seriaial)的定义以及举例描述，\n或者sql server的snapshot，\n但mongodb的snapshot去很少有文档提及，官网也不详细。有知道的大神分享下，贴个链接也行。谢谢。</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(990, '想请教一下MongoDB版本升级的经验', 'dlyt', '', '<div class=\"markdown-text\"><p>线上的业务一直在跑, 不知道怎么平滑过渡.</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(984, '请问如何使用koa+socket.io做即时通讯', 'onesez', '', '<div class=\"markdown-text\"><p>有没有简单的一个例子，只用koa2不用express。</p>\n<p>另外koa封装MC没有V，怎么做</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(985, '有哪些方法可以让Windows变得对开发者友好呢？', 'chapgaga', '', '<div class=\"markdown-text\"><p>在windows上跑ruby，心累</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(986, '有人整理过 node.js 废弃或者修改过的 api 么?', 'dlyt', '', '<div class=\"markdown-text\"><p>要升级下版本, 想先找一下废弃或者修改过的 api 在项目里过一下, 看有用到没有.</p>\n<p>还想请教一下, 大家版本升级有什么流程么?</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(987, '关于egg调试', 'cainiaolaileyo', '', '<div class=\"markdown-text\"><p>根据官网方法使用vs code安装vscode-eggjs 扩展进行调试，运行报错：\nmissing script: debug\n所以，是还需要安装debug依赖或者插件么？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(988, '想问一下，大家都用Node做过什么有趣的事儿？', 'ximolang', '', '<div class=\"markdown-text\"><p>最近初步写完cms，近期工作正好又忙起来，没时间拿出cms来继续完善功能，没写东西的时候就会想下一个事情可以做什么，找不到有趣好玩还有价值的事情…</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(983, '那位小伙伴有egg-multipart 上传文件的demo？ 或者egg其他上传文件的demo，谢谢了', 'dpc761218914', '', '<div class=\"markdown-text\"><p>eggjs的examples中的dome没有用到egg-multipart\n<a href=\"https://github.com/eggjs/examples/tree/master/multipart\">https://github.com/eggjs/examples/tree/master/multipart</a></p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(981, 'DOM节点id如果包含加号，为何无法用querySelector查找呢？', 'chapgaga', '', '<div class=\"markdown-text\"><p>如</p>\n<pre class=\"prettyprint\"><code>&lt;div id=&quot;aasfd_唉唉唉+恩恩&quot;&gt;\n&lt;&#x2F;div&gt;\n</code></pre><p>用document.getElementById(“aasfd_唉唉唉+恩恩”)</p>\n<p>可以得到节点</p>\n<p>但是 用<code>document.querySelector(&quot;#aasfd_唉唉唉+恩恩&quot;)</code>和\n<code>document.querySelector(&quot;#aasfd_唉唉唉\\+恩恩&quot;)</code>得到的都是null\n为什么会这样呢？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(982, '【已解决】egg中使用svgCaptcha 图片验证码问题？express中没问题，egg怎么用呢？', 'dpc761218914', '', '<div class=\"markdown-text\"><p>express的实例：</p>\n<blockquote>\n<p>var svgCaptcha = require(‘svg-captcha’);\napp.get(’/captcha’, function (req, res) {\n	   var captcha = svgCaptcha.create();\n	   req.session.captcha = captcha.text;\n	   res.type(‘svg’);\n	   res.status(200).send(captcha.data);\n});</p>\n</blockquote>\n<p>egg可以在控制器中这样写有问题吗？？？，无法返回图片：</p>\n<blockquote>\n<p>class HomeController extends Controller {\nasync index() {\nawait this.ctx.render(‘index.html’);\n}\nasync getImage() {\nvar captcha =await  svgCaptcha.create();\nconsole.log(captcha.text);\nconsole.log(captcha);\nthis.ctx.type(‘svg’);\nawait this.ctx.status(200).send(captcha.data);\n}\n}\nmodule.exports = HomeController;</p>\n</blockquote>\n<p>路由文件：</p>\n<blockquote>\n<pre class=\"prettyprint\"><code> router.get(&#x27;&#x2F;getImage&#x27;, controller.home.getImage);</code></pre></blockquote>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(978, '[已解决]new 出来的 Buffer 是不是一定要手动置成 null 才不会导致 memory leak 啊？', 'alittlecodebox', '', '<div class=\"markdown-text\"><p>下面这段代码，我到底要不要在 next() 之后，手动加一个 _stream = null ？\n<img src=\"//static.cnodejs.org/FotgwJwJhy6XvbqHTEowsgGVeI_j\" alt=\"WechatIMG6730.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FotgwJwJhy6XvbqHTEowsgGVeI_j', 1537347915, 1546275661, '客户端测试', 0, 0),
(979, 'egg-node中{app_root}/config/config.prod.js文件里的config.passportLocal是指的哪里的用户名和密码', 'sonong', '', '<div class=\"markdown-text\"><p>// passport\nconfig.passportGithub = {\nkey: process.env.EGG_PASSPORT_GITHUB_CLIENT_ID || ‘’,\nsecret: process.env.EGG_PASSPORT_GITHUB_CLIENT_SECRET || ‘’,\n};</p>\n<p>config.passportLocal = {\nusernameField: ‘’,\npasswordField: ‘’,\n};</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(980, 'css自动换行问题，如何自动换行，但是不要把节点字符分在两行显示呢？', 'chapgaga', '', '<div class=\"markdown-text\"><p><a href=\"https://jsfiddle.net/chapgaga/dzpvths3/\">https://jsfiddle.net/chapgaga/dzpvths3/</a></p>\n<p>不像test2，不换行，导致溢出\n也不像test3，虽然换行了，但是把 a节点字符在两行显示。\n可集成于test1修改\n<img src=\"//static.cnodejs.org/Fjob7JCTGkFexO2ffeLrkl0jGRak\" alt=\"2018-07-22_110641.jpg\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fjob7JCTGkFexO2ffeLrkl0jGRak', 1537347915, 1546275661, '客户端测试', 0, 0),
(976, '请教一个关于箭头函数this的问题', 'nar142857', '', '<div class=\"markdown-text\"><p>var x=11;\nvar obj={\nx:22,\nsay:()=&gt;{\nconsole.log(this.x);\n}\n}\nobj.say();  // undefined</p>\n<p>这个输出的为什么是undefined 而不是11？\n打印出整个this的话 是个空对象  {}；\n网上查了好多都说这里是输出11， 难道是我的运行环境的问题？</p>\n<p>程序完整截图如下\n<img src=\"//static.cnodejs.org/Fm5JAKev8d96B1mTFyQDcau38LMc\" alt=\"image.png\">\n<img src=\"//static.cnodejs.org/FpmxK7ue47-IuUKEGrhEddiPGSVw\" alt=\"image.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fm5JAKev8d96B1mTFyQDcau38LMc', 1537347915, 1546275661, '客户端测试', 0, 0),
(977, '原pomelo入坑者求最新分布式游戏框架', 'luckyqqk', '', '<div class=\"markdown-text\"><p>用了两三年的pomelo\n并基于pomelo搭建了符合快捷研发的游戏框架.\n其中有很多辅助的工具类以及插件,如redis,红点,掉落,邮件等(心血和感情啊).\n近期换win系统跑pomelo项目的时候,\n总会出现rpc的断连,相继的master就会各种的remove原有的server,log如下:</p>\n<pre class=\"prettyprint\"><code>[2018-06-14 11:57:49.983] [ERROR] pomelo-admin - [MqttClient] mqtt rpc client checkKeepAlive error timeout for 120000\n[2018-06-14 11:57:49.984] [INFO] console - mqttClinet :connector-server-2 send pingreq:1528948669984\n[2018-06-14 11:57:49.984] [DEBUG] pomelo - [masterwatcher.js] masterwatcher receive remove server event, with server: connector, type: connector\n</code></pre><p>查找了许久该bug,也给原研发人员发过邮件,未收到回复,终未解决.\n幸好Linux上项目运行还未出现该情况,还能坚持用.\n但也时候留意一些其他的游戏分布式框架了,求推荐!:)</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(975, '哪种H5播放器对m4a格式音频支持比较好？', 'chapgaga', '', '<div class=\"markdown-text\"><p>很多所谓H5播放器，实际后台还会调用flash，如JPlayer\n调用代码，通常要配置swf路径</p>\n<pre class=\"prettyprint\"><code>swfPath: &quot;http:&#x2F;&#x2F;jplayer.org&#x2F;latest&#x2F;dist&#x2F;jplayer&quot;,\n</code></pre><p>目前在用Chromium浏览器，\nchrome://version/显示flash是禁用的。</p>\n<p>试用过JPlayer和Howler.js播放器，对mp3的支持都没问题,但是m4a都播放不了</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(974, 'node服务端项目目录结构怎么划分？', '1011875777', '', '<div class=\"markdown-text\"><p>用node开发服务端，只提供api数据接口， 我的项目分为前台用户api和后台管理api， 前台和后台api的功能有的会重合或者相似（比如获取商品详情，查询商品等等），这类api是需要分前后台单独写还是说可以共用? 比如前台已经实现了商品详情的接口，后台页面直接调用还是需要重写？ 我目前的目录结构是分为 （前台controller）和（后台controller）， 然后共用一个service、dao</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(973, 'egg怎么和puppeteer这种高耗时的框架结合起来？', 'SidKwok', '', '<div class=\"markdown-text\"><p>现在想用egg做一个服务，大致功能就是通过一个get请求，用puppeteer去截图。</p>\n<p>但是puppeteer在启动的时候非常耗时，所以打算在程序一开始就<code>launch()</code>了，然后在每一次请求里通过<code>Service</code>去使用截图服务，有什么思路吗？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(968, '你们喜欢带自己的笔记本去公司么？', 'chapgaga', '', '<div class=\"markdown-text\"><p>自己的笔记本用起来更爽啊：）</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(969, '请问有谁有nodejs指令大全和新手教程pdf吗谢谢O(∩_∩)O', 'Mars020802', '', '<div class=\"markdown-text\"><p>rt</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(970, 'Node，做web开发现在还有什么优势吗，', 'RooQs', '', '<div class=\"markdown-text\"><p>以前node以非阻塞io实现高并发，但是现在好像没什么优势了啊</p>\n<p>From <a href=\"https://github.com/soliury/noder-react-native\">Noder</a></p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(971, '求问alinode技术博客新地址', 'sodawy', '', '<div class=\"markdown-text\"><p>原来的地址http://alinode.aliyun.com/blog，现在跳转到https://www.aliyun.com/product/nodejs\n好多好文章找不到了，各位知道的麻烦告诉下，谢谢</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(972, '向mongodb里插入10万条记录的代码怎么写？', 'DoubleSpout', '', '<div class=\"markdown-text\"><p>参考上一篇博客，测试mongodb集群，插入4千万数据的报告：</p>\n<p><a href=\"https://cnodejs.org/topic/5518a873687c387d2f5b2953\">https://cnodejs.org/topic/5518a873687c387d2f5b2953</a></p>\n<p>起初打算用<code>Node.js</code>去做这个性能 测试，碰了几次壁后，改用<code>Python</code>顺利完成任务，现在回过头来再看这个问题，发现里面似乎有坑。\n先放上一段<code>Node.js</code>的插入10万条记录的代码：</p>\n<pre class=\"prettyprint\"><code>var MongoClient = require(&#x27;mongodb&#x27;).MongoClient;\nvar url = &#x27;mongodb:&#x2F;&#x2F;127.0.0.1:27017&#x2F;testdb&#x27;;\nvar dataList = []\nvar globalCount = 0\nconsole.time(&#x27;insert,10w&#x27;);\nMongoClient.connect(url, {\n		server: {\n			poolSize: 50\n		}\n	},function(err, db) {\n	  if(err) throw(err)\n	  for(var i=0; i&lt;100000; i++){\n		    db.collection(&#x27;test1&#x27;).insert({\n			     count:i\n		    }, function(err, r) {\n				if(err) throw(err)\n				globalCount++\n				if(globalCount&gt;=100000){\n					console.timeEnd(&#x27;insert,10w&#x27;);\n					process.exit(1);\n				}\n		  });  \n	}  \n});\n</code></pre><p>测试结果慢的令人发指，<code>Node.js</code>版本是最新的<code>0.12.2</code></p>\n<pre class=\"prettyprint\"><code>E:\\nodejs&gt;node mongodb_error2.js\ninsert,10w: 9791ms\n</code></pre><p>我用同样的<code>Python</code>脚本去做：</p>\n<pre class=\"prettyprint\"><code>import pymongo\nimport json\nimport datetime,time\nimport copy\nimport sys, os\n\ndef getTimestampFromDatetime(d=None):\n	if d is None:\n		d = datetime.datetime.now()\n	return time.mktime(d.timetuple())\n\nif __name__ == &#x27;__main__&#x27;:	\n	start = getTimestampFromDatetime()\n	client = pymongo.MongoClient(&quot;localhost&quot;, 27017, max_pool_size=50)\n	db = client.testdb\n\n	saveData = []\n	for i in range(0, 100000):\n		saveData.append({\n			&#x27;count&#x27;:i\n		})\n\n	db.test2.insert(saveData)\n	end = getTimestampFromDatetime()\n	print(&#x27;time: {0}s&#x27;.format(end-start))\n</code></pre><p>测试结果如下：</p>\n<pre class=\"prettyprint\"><code>E:\\python&gt;python save_10w.py\ntime: 1.0\n</code></pre><p>我在想是不是<code>Node.js</code>代码写的太垃圾，于是我找了<code>Mongodb</code>包的另外一个<code>insertMany</code>方法，但是结果却报错了：</p>\n<pre class=\"prettyprint\"><code>E:\\nodejs\\node_modules\\mongodb\\lib\\utils.js:97\n	process.nextTick(function() { throw err; });\n										^\nError\n	at Object.&lt;anonymous&gt; (E:\\nodejs\\node_modules\\mongodb\\node_modules\\mongodb-c\nore\\lib\\error.js:42:24)\n	at Module._compile (module.js:460:26)\n	at Object.Module._extensions..js (module.js:478:10)\n	at Module.load (module.js:355:32)\n	at Function.Module._load (module.js:310:12)\n	at Module.require (module.js:365:17)\n	at require (module.js:384:17)\n	at Object.&lt;anonymous&gt; (E:\\nodejs\\node_modules\\mongodb\\node_modules\\mongodb-core\\index.js:2:17)\n	at Module._compile (module.js:460:26)\n	at Object.Module._extensions..js (module.js:478:10)\n</code></pre><p>下图是<code>Node.js</code>插入10万条后，数据库的截图</p>\n<p><img src=\"//static.cnodejs.org/FuR5PM5aV-rdgwyg6_WlCKJzrfc8\" alt=\"node_error.jpg\"></p>\n<p>下图是<code>Python</code>插入10万条后，数据库的截图</p>\n<p><img src=\"//static.cnodejs.org/FnhqnBnn0oPJhQC-MhXPFnsr8iLY\" alt=\"py.jpg\"></p>\n<p>可以看到数据库里都有10万条数据了，两者都成功的插入了，并且大小都一样，求大神指教，这个怎么破？</p>\n</div>', '', 63, '//static.cnodejs.org/FuR5PM5aV-rdgwyg6_WlCKJzrfc8', 1537347915, 1546275661, '客户端测试', 0, 0),
(954, 'express的路由中使用mongoose查询', 'livetune', '', '<div class=\"markdown-text\"><p>为什么在express的路由中进行mongoose的查询是可以同步处理，而在koa的路由中需要异步处理。。。\n代码如下：</p>\n<pre class=\"prettyprint\"><code>  app.post(&quot;&#x2F;user&#x2F;register&quot;, function(req, res) {\n    const { user, pwd, type } = req.body;\n    User.findOne({ user }, function(e, doc) {\n      if (doc) {\n        return res.status(200).json({ code: 1, msg: &quot;已存在该用户&quot; });\n      }\n      const model = new User({ user, pwd, type });\n      model.save(function(error, doc) {\n        if (error || !doc) {\n          return res.status(500).json({ msg: &quot;后端出错&quot; });\n        }\n        const { user, type, _id } = doc;\n        &#x2F;&#x2F; 保持登录状态7天\n        const token = jwt.sign({ id: _id }, key, {\n          expiresIn: 60 * 60 * 24 * 7\n        });\n        return res.status(200).json({ code: 0, token, data: { user, type, id: _id } });\n      });\n    });\n  });\n</code></pre></div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(955, '关于egg开发插件的一些问题', 'acodercat', '', '<div class=\"markdown-text\"><p>我在开发一个egg插件，这个插件依赖了另外一个包，这包使用了koa，它有自己的路由，我现在的做法是在插件里面使用了koa-mount把它挂载到了egg app上了，eggApp.use(mount(’/’, plugin.app ));\n不知道这样做好不好，求正确的做法。依赖的这个包的自己的几个路由，我打算写在配置文件里面，可以自行修改配置</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(956, '后端新手，请问下web项目是怎么部署上线的？', 'R0USHAN', '', '<div class=\"markdown-text\"><p>之前写前端的，现在想学下后端，语法什么都会，现在就是部署上线卡住了，很多基础概念都不懂，最大问题可能是公司分工太细了，没有经历过完整流程，不明白很多细节，比如说，mysql部署过程什么的，有大佬有空么？或者去哪看这些东西，我需要一个比较完整的知识图谱啊</p>\n<p>来自酷炫的 <a href=\"https://github.com/TakWolf/CNode-Material-Design\">CNodeMD</a></p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(957, '问一个koa+vue项目问题', 'im-here', '', '<div class=\"markdown-text\"><p>用vue做前端，koa做后端做一个项目，将前端做完打包后，放在koa项目的static目录下（需引入<a href=\"https://www.npmjs.com/package/koa-static\">koa-static</a>），启动koa项目，访问<code>/</code> 那么这个项目就算能正常的使用了</p>\n<p>但是有时候我并不想让用户通过<code>/</code>访问，比如需访问 <code>/admin</code> 才加载我的vue前端，这个应该怎么做呢</p>\n<p>我现在的做法是把这个index.html通过steam读出来，然后给ctx.body，代码如下</p>\n<pre class=\"prettyprint\"><code>router.get(&#x27;&#x2F;admin&#x27;, async ctx =&gt; {\n    ctx.type = &#x27;html&#x27;;\n    let home = path.join(__dirname, &#x27;..&#x2F;static&#x2F;index.html&#x27;);\n    ctx.body = fs.createReadStream(home);\n});\n</code></pre><p>不知道这样做法有没有什么问题，大家通常是怎么做的呢？或者说是最好应该怎么做呢？</p>\n<p>另：如果后端换做express的话又应该怎么做？sendfile吗？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(967, 'Chrome可以获取显卡参数，有什么插件可以修改它获取的显卡信息吗？', 'deadwind4', '', '<div class=\"markdown-text\"><p>RT</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(965, '我需要一个oauth2账户中心，不知道开发难度和市场价格', 'YuanChenmang', '', '<div class=\"markdown-text\"><p>类似于小米账号中心，对外提供Oauth2 server授权，以后再上其他网络服务时，可以统一走这个账号中心。\n比如网络服务A，点击登录后，跳转到账号中心的登录页面，登录完后返回。也就是和本站的github登录方式一致。\n用户中心提供账号密码、邮箱、手机号验证的功能。\n<img src=\"//static.cnodejs.org/FmZ52D-x2ELZPd-z8W97k98z4106\" alt=\"屏幕快照 2018-07-24 下午2.13.29.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FmZ52D-x2ELZPd-z8W97k98z4106', 1537347915, 1546275661, '客户端测试', 0, 0),
(966, '在Express使用sequelize db:migrat，抛出TypeError: Data must be a string or a buffer，怎么解决？', 'Zuson', '', '<div class=\"markdown-text\"><p>config.json</p>\n<p><img src=\"//static.cnodejs.org/FvoIZcFAaGSwO_XXhmRV3zKqYYQn\" alt=\"微信图片_20180724113411.png\"></p>\n<p>models</p>\n<p><img src=\"//static.cnodejs.org/FjMpnyVpKyHPRywYGkQQd9RYp71y\" alt=\"微信图片_20180724113246.png\"></p>\n<p><img src=\"//static.cnodejs.org/FjeFgVcEHpbHwPTiWMiw9szSnocF\" alt=\"微信图片_20180724113251.png\"></p>\n<p>运行sequelize db:migrat</p>\n<p><img src=\"//static.cnodejs.org/FgpszV0TxQkUkz_LPItM7pBx2isn\" alt=\"微信图片_20180724113256.png\"></p>\n<p>使用的版本\nsequelize：v4.38.0\nmysql2：v1.5.3</p>\n</div>', '', 63, '//static.cnodejs.org/FvoIZcFAaGSwO_XXhmRV3zKqYYQn', 1537347915, 1546275661, '客户端测试', 0, 0),
(964, 'eggjs中sequelize和mongoose插件不能同时使用', 'jiangliqin', '', '<div class=\"markdown-text\"><p>今天想在eggjs项目中加入egg-mongoose插件，在config文件和plugin.js中都配置了信息，可是在定义mongo model时，app.mongoose始终是undefined。\n我就去掉原有的egg-sequelize插件试试，结果mongoose插件生效了。我反复试验，发现egg-sequelize和egg-mongoose不能同时使用，可是eggjs毕竟是阿里的框架，应该不会出现这个问题。\n请问大家知道这个问题怎么解决吗？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(961, 'Nuxt.js 路由切换的问题', 'GitHuber-lu', '', '<div class=\"markdown-text\"><p>在nuxt.js中怎么去捕捉路由切换时候的钩子，我现在有个需求是要只要当路由切换的时候就执行一个方法。需要$router.beforeEach.</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(962, 'cluster是否能够分别运行两组或更多组worker？', 'bi-kai', '', '<div class=\"markdown-text\"><p>我想用cluster实现两组以上的worker，分到不同的文件。</p>\n<h1>现状描述</h1>\n<ol>\n<li>cluster.isMaster内fork 一组worker后，worker进程会将这个脚本cluster.isMaster{}之外的逻辑都运行一次。</li>\n<li>用全局变量，启动的worker不受cluster.isMaster内修改的影响，因为是隔离的，<strong>porcess变量也不互通</strong>，也就是说不能在cluster.isWorker{}中写分支做不同的工作。</li>\n</ol>\n<h1>我的问题</h1>\n<p>现在能实现的只有将多个任务写到一个worker中，通过IPC让master来调度worker执行哪段任务。\n我想实现一组worker工作完，退出，master再启动一组worker做其他工作，是否能实现？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(963, 'XP SP3系统上启动静态服务报错，求帮忙', 'arvin0', '', '<div class=\"markdown-text\"><pre class=\"prettyprint language-javascript\"><code>const path = require(&#x27;path&#x27;);\nvar connect = require(&quot;connect&quot;);\nvar serveStatic = require(&quot;serve-static&quot;);\nvar open = require(&quot;open&quot;);\n\n\nvar app = connect();\n&#x2F;&#x2F; app.use(serveStatic(&quot;C:\\\\xxx\\\\xxx\\\\xxx\\\\项目文件夹&quot;));\nvar _path = path.resolve(__dirname, &#x27;..&#x2F;&#x27;);\nconsole.log(_path);\napp.use(serveStatic(_path));\napp.listen(33322);\nconsole.log(&#x27;Server running at http:&#x2F;&#x2F;127.0.0.1:33322&#x2F;&#x27;);\n</code></pre><p><img src=\"//static.cnodejs.org/Fgp4sbn7OY1HCyXAe8SYxi3rr6Lz\" alt=\"12.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fgp4sbn7OY1HCyXAe8SYxi3rr6Lz', 1537347915, 1546275661, '客户端测试', 0, 0),
(959, 'egg项目一直稳定运行,昨晚突然出现从来没出现过的错误', 'holyselina', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fn34gXZjBi73gSkmzh-FdAT5i3wD\" alt=\"ccc.png\">\n昨天的错误日志只有这种错误,而且之前从来没出现过这种错误,出现错误的时候CPU暴增,我猜测应该是master和worker失去了联系\n<a href=\"/user/atian25\">@atian25</a>\n寻求帮助</p>\n</div>', '', 63, '//static.cnodejs.org/Fn34gXZjBi73gSkmzh-FdAT5i3wD', 1537347915, 1546275661, '客户端测试', 0, 0),
(960, 'node 设计秒杀功能。', 'Goomly', '', '<div class=\"markdown-text\"><p>应该怎么设计才好，</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(958, '各位大佬，请教一下，需要用egg做两件事，一是用egg为pc端提供的api，二用egg开发微信公众号 。', 'dpc761218914', '', '<div class=\"markdown-text\"><p>是开发两个独立系统，还是把他们整合在一起做成一个系统好呢？  应该各有优劣吧？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(953, 'egg typescript模板下使用 egg-sequelize 下就报错。', 'a304885433', '', '<div class=\"markdown-text\"><pre class=\"prettyprint language- js\"><code>\nimport { Application } from &#x27;egg&#x27;\n&#x2F;&#x2F;import &#x27;egg-sequelize&#x27;\n\nexport default (app: Application) =&gt; {\n    &#x2F;&#x2F; @ts-ignore\n    const { STRING, UUID, UUIDV4, INTEGER, DECIMAL } = app.Sequelize;\n\n    &#x2F;&#x2F; @ts-ignore\n    const model = app.model.define(&#x27;bak&#x27;, {\n        id: {\n            type: UUID,\n            defauleValue: UUIDV4,\n            primaryKey: true,\n        },\n    }, {\n            comment: &#x27;备份表&#x27;,\n        });\n\n    return model;\n};\n\n</code></pre><p>其实本质上只想加载 sequelize 后，就可以正常使用 app.model 和 app.sequelize 了， 但是不知道为什么一直报错。<br>\n错误现象：</p>\n<pre class=\"prettyprint\"><code>sequelize deprecated String based operators are now deprecated. Please use Symbol based operators for better security, read more at http:&#x2F;&#x2F;docs.sequelizejs.com&#x2F;manual&#x2F;tutorial&#x2F;querying.html#operators node_modules&#x2F;sequelize&#x2F;lib&#x2F;sequelize.js:242:13\nError: [egg-core] load file: &#x2F;showcase&#x2F;app&#x2F;model&#x2F;bak.ts, error: Cannot find module &#x27;egg-sequelize&#x27;\n</code></pre></div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(949, 'nest如何实现多进程间通信和egg类似的agent机制', 'yuu2lee4', '', '<div class=\"markdown-text\"><p>egg的多进程模型\n<a href=\"https://eggjs.org/zh-cn/core/cluster-and-ipc.html\">https://eggjs.org/zh-cn/core/cluster-and-ipc.html</a></p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(950, '国内有graphql社区吗？', 'cheunghy', '', '<div class=\"markdown-text\"><p>有谁在用GraphQL？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(951, '关于net模块写入数据', '243011068', '', '<div class=\"markdown-text\"><p>socket.write(buffer)方法写入的buffer不能指定偏移和长度，导致整个buffer数据都会传过去，我想创建一个很大buffer来填充数据而不是每次发送消息都创建个新的buff，有什么解决办法吗</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(952, '模拟http keep-alive connected以后就没反应了', 'yakczh', '', '<div class=\"markdown-text\"><p>server-alive.js</p>\n<pre class=\"prettyprint\"><code>const  net= require(&#x27;net&#x27;);\nvar htmlpage = &#x27;&lt;h1&gt;ok&lt;&#x2F;h1&gt;\\r\\n&#x27;;\nvar first =true;\n \n    var server = net.createServer( (client) =&gt; {     &#x2F;&#x2F;&#x27;connection&#x27; listener\n        client.setKeepAlive(true,9000);\n        client.setTimeout(1000);\n        client.setNoDelay(true);\n        console.log(&#x27;connection  connected&#x27;);\n        client.on(&#x27;end&#x27;, (err)=&gt; {\n        	console.log(err);\n                  console.log(&#x27;\\t\\t\\ttime out end it &#x27;);\n        });\n        client.on(&#x27;data&#x27;, (data) =&gt;{\n        	console.log(data.toString());\n  \n        	 var state=(first)?&#x27;Keep-Alive&#x27;:&#x27;Close&#x27;;\n        	 first=false;\n                &#x2F;&#x2F;  4495\n            	  client.write(new Buffer(&quot;HTTP&#x2F;1.1 200 OK\\r\\nConnection: &quot;+state+&quot;\\r\\nSet-Cookie: PHPSESSID=qn28r1v7n6l8h1odvvcdeobfp1; path=&#x2F;; HttpOnly\\r\\nConent-Length: 13\\r\\n\\r\\n&quot;+htmlpage));\n              &#x2F;&#x2F;   client.end();\n        }).on(&#x27;error&#x27;,(err) =&gt;{\n               console.log(err);\n        });\n    });\n    &#x2F;&#x2F;开启端口的监听\n    server.listen(80, function() { &#x2F;&#x2F;&#x27;&#x27;     listener\n        console.log(&#x27;server listening...&#x27;);\n    });\n</code></pre><p>http-client.js</p>\n<pre class=\"prettyprint\"><code> const http = require(&#x27;http&#x27;);\nvar options={\n  hostname: &#x27;localhost&#x27;,\n  port: 80,\n  path: &#x27;&#x2F;&#x27;,\n  headers: {\n      &#x27;Connection&#x27;: &#x27;Keep-Alive&#x27;\n  }\n\n}\nconst keepAliveAgent = new http.Agent({ keepAlive: true });\noptions.agent = keepAliveAgent;\nhttp.request(options,  (resp) =&gt;{\nconsole.log(resp);\n});\n\nsetTimeout(function(){\nhttp.request(options,  (resp) =&gt;{\nconsole.log(resp);\n});\n	}, 8000);\n</code></pre><p>客户端连接以后服务端只显示 connection  connected 然后就没响应了 这是哪里的问题？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(942, 'nodejs socket.io 莫名重连问题', 'DelCoding', '', '<div class=\"markdown-text\"><p>在我的场景中，前端（微信小游戏）使用了 <a href=\"http://socket.io\">socket.io</a> 的客户端与后台的 nodejs 的 <a href=\"http://socket.io\">socket.io</a> 进行通信，前端每场游戏开始时加入一个 namespace，游戏结束后执行了 socket.disconnect(),socket.close(),socket=null，但当玩家再次加入游戏时会出现莫名的重连然后立马断开，就像网络变得不稳定起来，第一场游戏不会出现这种情况，就是第二场开始。就像下面那样：</p>\n<p>/500996#3jyma6PeKtyHwcZMAAAF leave 500996\n/500996#er9I4kSF9qUgWtcTAAAG connected to 500996\n/500996#nuSHB7UlsV9TWfXsAAAE leave 500996\n/500996#pAJ7Nu08UlfH_hXiAAAH connected to 500996</p>\n<p>而这个时候 前端的 socket 好像并没有断开原来的，在微信开发者 console 里能看到它还 POST 已经断开的 socket 上去。</p>\n<p>请问这个问题是怎样导致的，如何解决呢？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(943, '关于 SSO 单点注销， SSO如何通知子系统清除凭证？', 'zhongxia245', '', '<div class=\"markdown-text\"><p>子系统的注销按钮，是跳转到 SSO 的注销接口地址， 然后 SSO 清除cookie,然后 通知（发送 http 请求）给子系统清除 session。</p>\n<p>但是当重新刷新子系统页面的时候，session 还是存在的， 尴尬，</p>\n<p>注销的代码如下， 求大佬指教</p>\n<p><img src=\"//static.cnodejs.org/FtvN5XV0m3kTGWYgB28Lpnob8kqh\" alt=\"image.png\"></p>\n<p><img src=\"//static.cnodejs.org/FqLzwoaM1NA9DC9w4n_WKfxjGG67\" alt=\"image.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FtvN5XV0m3kTGWYgB28Lpnob8kqh', 1537347915, 1546275661, '客户端测试', 0, 0),
(944, 'egg-mongoose如何自动重连？', 'dryqiao', '', '<div class=\"markdown-text\"><p>mongo部署在云服务器的docker里，一晚上没发请求，今天发现断开连接了\n想知道线上使用的时候如何能做到自动重连啊？</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(945, 'vue的nuxt怎么使用pm2来管理服务器自动重启？', 'yuquanH', '', '<div class=\"markdown-text\"><p>vue的nuxt怎么使用pm2来管理服务器自动重启？ 愁死了</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(946, '阿里云oss存储，怎么判断已经有MD5相同的文件，不再上传', 'yuquanH', '', '<div class=\"markdown-text\"><p>阿里云oss存储，怎么判断已经有MD5相同的文件，不再上传</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(947, 'vscode怎么跳转函数定义和查找所有引用?', 'R0USHAN', '', '<div class=\"markdown-text\"><p>为什么有的页面可以跳转,有的不能跳转,在webpack里用alias修改了路径的好像就是不识别的,还有右键查找所有引用也不能用,难道大家都是用的全局搜索的么?</p>\n</div>', '', 63, '', 1537347915, 1546275661, '客户端测试', 0, 0),
(948, '在连接 mongodb  时候，数据库连接上了，但是集合未连接上', 'souldjl', '', '<div class=\"markdown-text\"><h3>报错信息</h3>\n<pre class=\"prettyprint language-javascript\"><code>not authorized on runoob to execute command { listCollections: true, filter: { name: &quot;test&quot; }, cursor: {}, nameOnly: true, $clusterTime: { clusterTime: Timestamp(1532964510, 2), signature: { hash: BinData(0, 089EEF0A315E5C7CE8D2095D247DAE104F9611EF), keyId: 6580743500747243524 } }, lsid: { id: UUID(&quot;78994e25-3026-440d-a508-d58faf8613d9&quot;) }, $db: &quot;runoob&quot; \n} \n</code></pre><h3>代码如下</h3>\n<p><img src=\"//static.cnodejs.org/Fgv8w1vgFHFt8jptspmBwaswsD_f\" alt=\"5EA563BB3B3199F844F6260F2A0D340A.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fgv8w1vgFHFt8jptspmBwaswsD_f', 1537347915, 1546275661, '客户端测试', 0, 0),
(941, '开始学习webrtc，参考webrtc官方demo写的一个demo，远程这边好像出错了，求指教', 'lzq920', '', '<div class=\"markdown-text\"><pre class=\"prettyprint language-js\"><code>&lt;template&gt;\n  &lt;div class=&quot;home&quot;&gt;\n    &lt;el-row :gutter=&quot;20&quot;&gt;\n      &lt;el-col :span=&quot;12&quot;&gt;\n        &lt;el-card&gt;\n          &lt;div slot=&quot;header&quot;&gt;\n            本地\n            &lt;el-button type=&quot;primary&quot; @click=&quot;Start&quot; :disabled=&quot;StartStatus&quot;&gt;start&lt;&#x2F;el-button&gt;\n            &lt;el-button type=&quot;primary&quot; @click=&quot;Call&quot; :disabled=&quot;CallStatus&quot;&gt;Call&lt;&#x2F;el-button&gt;\n          &lt;&#x2F;div&gt;\n          &lt;div&gt;\n            &lt;video src=&quot;&quot; autoplay playsinline id=&quot;localvideo&quot; ref=&quot;localvideo&quot;&gt;&lt;&#x2F;video&gt;\n          &lt;&#x2F;div&gt;\n        &lt;&#x2F;el-card&gt;\n      &lt;&#x2F;el-col&gt;\n      &lt;el-col :span=&quot;12&quot;&gt;\n        &lt;el-card&gt;\n          &lt;div slot=&quot;header&quot;&gt;\n            远程\n            &lt;el-button type=&quot;primary&quot; @click=&quot;Close&quot; :disabled=&quot;CloseStatus&quot;&gt;Close&lt;&#x2F;el-button&gt;\n          &lt;&#x2F;div&gt;\n          &lt;div&gt;\n            &lt;video src=&quot;&quot; autoplay id=&quot;remotevideo&quot; ref=&quot;remotevideo&quot;&gt;&lt;&#x2F;video&gt;\n          &lt;&#x2F;div&gt;\n        &lt;&#x2F;el-card&gt;\n      &lt;&#x2F;el-col&gt;\n    &lt;&#x2F;el-row&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nlet pc1 = null;\nlet pc2 = null;\nlet localStream = null;\nexport default {\n  name: &#x27;home&#x27;,\n  data() {\n    return {\n      constraints: {\n        audio: true,\n        video: true\n      },\n      StartStatus: false,\n      CallStatus: true,\n      CloseStatus: true\n    }\n  },\n  methods: {\n    Start() {\n      let that = this;\n      navigator.mediaDevices.getUserMedia(that.constraints).then(function (stream) {\n        const videoTracks = stream.getVideoTracks();\n        const audioTracks = stream.getAudioTracks();\n        console.log(&#x27;获取视频轨道信息:&#x27;, videoTracks);\n        console.log(&#x27;获取视频设备信息:&#x27;, videoTracks[0].label);\n        console.log(&#x27;获取音频轨道信息:&#x27;, audioTracks);\n        console.log(&#x27;获取音频设备信息:&#x27;, audioTracks[0].label);\n        console.log(&#x27;获取视频流Stream:&#x27;, stream);\n        localStream = stream;\n        that.$refs[&#x27;localvideo&#x27;].srcObject = stream;\n        that.CallStatus = false;\n        that.StartStatus = true;\n      }).catch(function (error) {\n        console.log(error);\n      })\n    },\n    Call() {\n      let that = this;\n      const videoTracks = localStream.getVideoTracks();\n      const audioTracks = localStream.getAudioTracks();\n      let servers = null;\n      pc1 = new RTCPeerConnection(servers);\n      console.log(&#x27;创建本地连接&#x27;, pc1);\n      pc1.onicecandidate = function (event) {\n        &#x2F;&#x2F; console.log(&quot;pc1 onicecandidate:&quot;, event);\n        pc1.addIceCandidate(event.candidate).then(function () {\n          console.log(&quot;本地视频 addIceCandidate successs&quot;);\n        });\n      }\n      pc2 = new RTCPeerConnection(servers);\n      console.log(&#x27;创建远程连接&#x27;, pc2);\n      pc2.onicecandidate = function (event) {\n        &#x2F;&#x2F; console.log(&quot;pc2 onicecandidate:&quot;, event);\n        pc2.addIceCandidate(event.candidate).then(function () {\n          console.log(&quot;远程视频 addIceCandidate successs&quot;);\n        });\n      }\n      pc1.oniceconnectionstatechange = function (event) {\n        console.log(&quot;本地视频 ICE state change event:&quot;, event);\n        console.log(&quot;本地视频 ICE state:&quot;, pc1.iceConnectionState);\n      }\n      pc2.oniceconnectionstatechange = function (event) {\n        console.log(&quot;远程视频 ICE state change event:&quot;, event);\n        console.log(&quot;远程视频 ICE state:&quot;, pc2.iceConnectionState);\n      }\n      pc2.ontrack = function (event) {\n        console.log(&quot;pc2 ontrack:&quot;, event);\n        console.log(&quot;pc2 track type:&quot;, event.type);\n        if (that.$refs[&#x27;remotevideo&#x27;].srcObject !== event.streams[0]) {\n          that.$refs[&#x27;remotevideo&#x27;].srcObject = event.streams[0];\n          that.CloseStatus = false;\n          that.CallStatus = true;\n        }\n      }\n      localStream.getTracks().forEach(track =&gt; pc1.addTrack(track, localStream));\n      pc1.createOffer({\n        offerToReceiveAudio: 1,\n        offerToReceiveVideo: 1\n      }).then(function (desc) {\n        console.log(&quot;发起offer&quot;, desc);\n        pc1.setLocalDescription(desc).then(function () {\n          console.log(&quot;本地视频 setLocalDescription start&quot;);\n        });\n        pc2.setRemoteDescription(desc).then(function () {\n          console.log(&quot;远程视频 setRemoteDescription start&quot;);\n        });\n        pc2.createAnswer().then(function (desc) {\n          pc2.setLocalDescription(desc).then(function () {\n            console.log(&quot;远程视频 setRemoteDescription complete&quot;)\n          });\n          pc1.setRemoteDescription(desc).then(function () {\n            console.log(&quot;本地视频 setLocalDescription complete&quot;)\n          });\n        })\n      })\n    },\n    Close() {\n      pc1.close();\n      pc2.close();\n      this.StartStatus = false;\n      const videoTracks = localStream.getVideoTracks();\n      videoTracks.forEach(videoTrack =&gt; {\n        videoTrack.stop();\n        localStream.removeTrack(videoTrack);\n      });\n      this.$refs[&#x27;remotevideo&#x27;].srcObject = null;\n      this.$refs[&#x27;localvideo&#x27;].srcObject = null;\n      this.$refs[&#x27;localvideo&#x27;].srcObject = localStream;\n    }\n  },\n  mounted() {\n\n  }\n}\n&lt;&#x2F;script&gt;\n\n</code></pre></div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(940, '前台ajax发送数据给后台node，那后台node接收到数据时如何发数据给ajax中的success函数呢？新手一枚，求高手指点。', 'ailuhaosi', '', '<div class=\"markdown-text\"><p>//前台Jquery代码：发送ajax请求 使用post方式发送json字符串给后台login\n$.ajax({\ntype: “post”,\nurl: “<a href=\"http://localhost:3000/process\">http://localhost:3000/process</a>”,\ndataType: “json”,\ndata: { username: username, password: password } //,\nsuccess: function(data) {//<strong>这个函数一直进不来</strong>\nconsole.log(“hello world!”);//<strong>这个函数一直进不来</strong>\n//接受返回的数据，前端判断采取的动作\nif (data) {\nif (data.message == “false”) {\nalert(‘密码错误，请重新输入’);\n} else {\nalert(‘登陆成功’);\n}\n}\n}\n});</p>\n<pre class=\"prettyprint\"><code>	&#x2F;&#x2F;后台代码\n	app.post(&#x27;&#x2F;process&#x27;, function (req, res) { \n	 &#x2F;&#x2F; 输出 JSON 格式\n</code></pre><p>response = {\nfirst_name:req.body.usename,\nlast_name:req.body.password\n};\nconsole.log(response);\nres.send(JSON.stringify(response));\n});</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(939, 'npm install 的幽灵事件，求解答，如图。', 'RajanZhan', '', '<div class=\"markdown-text\"><p>npm i 命令运行后，一直重复运行 npm install --production。 而且，运行一小会，又自动重新运行 npm install --production，导致，无法安装对应包。</p>\n<p><img src=\"//static.cnodejs.org/FmXe77glBwgaBHxlHhur38S33r0a\" alt=\"error.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FmXe77glBwgaBHxlHhur38S33r0a', 1537347914, 1546275661, '客户端测试', 0, 0),
(938, 'request 模块 使用 https 代理去访问 https 地址时 返回 unknown protocol:openssl', 'ridesky', '', '<div class=\"markdown-text\"><p>在使用 request 模块的时候,如果用 http 代理地址去访问 http 链接的时候 一切正常</p>\n<blockquote>\n<p>代码如下</p>\n</blockquote>\n<pre class=\"prettyprint language-js\"><code>const rq = require(&#x27;request-promise&#x27;); &#x2F;&#x2F; request 模块的衍生物 支持 promise; api 与 request 兼容\ntry {\n    let res = rq({\n        url: &#x27;http:&#x2F;&#x2F;xxxx&#x27;,\n        timeout: TIME_OUT,\n        gzip: true,\n        proxy: &#x27;http:&#x2F;&#x2F;112.25.60.32:8080&#x27;\n    });\n    res.then(res =&gt; {\n        console.log(&#x27;res&#x27;);\n        console.log(res);\n    }).catch(err =&gt; {\n        console.log(err);\n    });\n} catch (error) {\n    console.log(error);\n}\n\n</code></pre><p>但是如果用 https 代理地址 去访问 https 链接的时候 就会报错 unknown protocol 的问题:</p>\n<blockquote>\n<p>RequestError: Error: tunneling socket could not be established, cause=write EPROTO 101057795:error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol:openssl\\ssl\\s23_clnt.c:827:</p>\n</blockquote>\n<blockquote>\n<p>代码如下</p>\n</blockquote>\n<pre class=\"prettyprint language-js\"><code>try {\n    let res = rq({\n        url: &#x27;https:&#x2F;&#x2F;ipinfo.io&#x2F;&#x27;, &#x2F;&#x2F;  请求的地址变为 https\n        timeout: TIME_OUT,\n        gzip: true,\n        proxy: &#x27;https:&#x2F;&#x2F;158.69.206.181:8888&#x27; &#x2F;&#x2F; 代理地址更换为 https\n    });\n    res.then(res =&gt; {\n        console.log(&#x27;res&#x27;);\n        console.log(res);\n    }).catch(err =&gt; {\n        console.log(err);\n    });\n} catch (error) {\n    console.log(error);\n}\n\n</code></pre><p>一开始以为是 代理地址出现了问题 但是同样的代理地址 在 python 的 requests 第三方模块运行正常</p>\n<blockquote>\n<p>代码如下</p>\n</blockquote>\n<pre class=\"prettyprint language-python\"><code>\nimport requests, os\nos.environ[&#x27;HTTP_PROXY&#x27;] = &#x27;112.25.60.32:8080&#x27;\nos.environ[&#x27;HTTPS_PROXY&#x27;] = &#x27;158.69.206.181:8888&#x27;\ntry:\n    text = requests.get(&#x27;https:&#x2F;&#x2F;ipinfo.io&#x2F;&#x27;).text # 访问的 https 地址\nexcept Exception as e:\n    print(e)\n    print(&#x27;connect failed&#x27;)\nprint(text) \n# 结果正常打印,一切正常 {\n  &quot;ip&quot;: &quot;158.69.206.181&quot;, \n  &quot;hostname&quot;: &quot;181.ip-158-69-206.net&quot;,\n  &quot;city&quot;: &quot;Montreal&quot;,\n  &quot;region&quot;: &quot;Quebec&quot;,\n  &quot;country&quot;: &quot;CA&quot;,\n  &quot;loc&quot;: &quot;45.5000,-73.5833&quot;,\n  &quot;postal&quot;: &quot;H3A&quot;,\n  &quot;org&quot;: &quot;AS16276 OVH SAS&quot;\n}\n# 返回的ip信息 就是 https 代理地址\n</code></pre><blockquote>\n<p>所以纠结到底是我配置的问题还是两个语言的模块原理不同</p>\n</blockquote>\n<p>在 StackOverflow 查到类似的问题 下面有人回答说是端口的问题</p>\n<blockquote>\n<p>链接如下 <a href=\"https://stackoverflow.com/questions/15421050/node-request-getting-error-ssl23-get-server-hellounknown-protocol\">StackOverflow</a></p>\n</blockquote>\n<p>但是我这里貌似不是端口的问题, 因为 request 本身会对地址进行封装处理,而且即使我在 https 访问地址修改为 ‘<a href=\"https://ipinfo.io:443\">https://ipinfo.io:443</a>’ 还会出现同样的报错</p>\n<p>要命的是 我改用 axios(0.18.0 目前最新版) 去走代理同样会返回一样的错误, 所以真的不知道是我哪里出现的问题,有大佬知道在哪里出错了吗?</p>\n<p><strong>更新:\n通过 fiddler 去走代理 并加上  rejectUnauthorized: false  数据就能跑通,但是直接走代理地址还是同样报错</strong></p>\n<blockquote>\n<p>fiddler 代理配置如下</p>\n</blockquote>\n<p><img src=\"//static.cnodejs.org/Fv5u4OkziQMexzj8kF2zDgXmYNyL\" alt=\"微信截图_20180720150519.png\"></p>\n<blockquote>\n<p>代码</p>\n</blockquote>\n<pre class=\"prettyprint language- js\"><code>try {\n  let res = rq({\n    url: &#x27;https:&#x2F;&#x2F;ipinfo.io&#x2F;&#x27;, &#x2F;&#x2F;  请求的地址变为 https\n    timeout: TIME_OUT,\n    gzip: true,\n    rejectUnauthorized: false, &#x2F;&#x2F; 允许通过未认证的证书\n    proxy: &#x27;http:&#x2F;&#x2F;127.0.0.1:8888&#x27; &#x2F;&#x2F; 通过 fiddler 去走代理\n  });\n  res\n    .then(res =&gt; {\n      console.log(&#x27;res&#x27;);\n      console.log(res); &#x2F;&#x2F; 数据可以正常返回!!\n    })\n    .catch(err =&gt; {\n      console.log(err);\n    });\n} catch (error) {\n  console.log(error); \n}\n</code></pre><p>但是在同样增加  rejectUnauthorized: false 的基础上 proxy 改为直接代理地址仍然会报 unknown protocol:openssl 的错误</p>\n</div>', '', 63, '//static.cnodejs.org/Fv5u4OkziQMexzj8kF2zDgXmYNyL', 1537347914, 1546275661, '客户端测试', 0, 0),
(937, '请教一个有关typescript的申明合并问题', 'yuu2lee4', '', '<div class=\"markdown-text\"><p>用到一个模块<code>eureka-js-client</code>，在<code>@types</code>里的申明如下:</p>\n<pre class=\"prettyprint language-javascript\"><code>&#x2F;&#x2F; Type definitions for eureka-js-client 4.3\n&#x2F;&#x2F; Project: https:&#x2F;&#x2F;github.com&#x2F;jquatier&#x2F;eureka-js-client\n&#x2F;&#x2F; Definitions by: Ilko Hoffmann &lt;https:&#x2F;&#x2F;github.com&#x2F;Schnillz&gt;\n&#x2F;&#x2F; Definitions: https:&#x2F;&#x2F;github.com&#x2F;DefinitelyTyped&#x2F;DefinitelyTyped\n\nexport class Eureka {\n    constructor(config: EurekaClient.EurekaConfig)\n    start(): void;\n    stop(): void;\n    getInstancesByAppId(appId: string): string[];\n    getInstancesByVipAddress(vidAddress: string): string [];\n}\n\nexport namespace EurekaClient {\n    type InstanceStatus = &#x27;UP&#x27; | &#x27;DOWN&#x27; | &#x27;STARTING&#x27; | &#x27;OUT_OF_SERVICE&#x27; | &#x27;UNKNOWN&#x27;;\n    type ActionType = &#x27;ADDED&#x27; | &#x27;MODIFIED&#x27; | &#x27;DELETED&#x27;;\n    type DataCenterName = &#x27;Netflix&#x27; | &#x27;Amazon&#x27; | &#x27;MyOwn&#x27;;\n\n    interface EurekaConfig {\n        instance: EurekaInstanceConfig;\n        eureka: EurekaClientConfig;\n    }\n    interface EurekaInstanceConfig {\n        app: string;\n        hostName: string;\n        ipAddr: string;\n        vipAddress: string;\n        dataCenterInfo: DataCenterInfo;\n        port?: number;\n        instanceId?: string;\n        appGroupName?: string;\n        sid?: string;\n        securePort?: PortWrapper;\n        homePageUrl?: string;\n        statusPageUrl?: string;\n        healthCheckUrl?: string;\n        secureHealthCheckUrl?: string;\n        secureVipAddress?: string;\n        countryId?: number;\n        status?: InstanceStatus;\n        overriddenstatus?: InstanceStatus;\n        leaseInfo?: LeaseInfo;\n        isCoordinatingDiscoveryServer?: boolean;\n    }\n    interface EurekaClientConfig {\n        host: string;\n        port: number;\n        heartbeatInterval?: number;\n        registryFetchInterval?: number;\n        maxRetries?: number;\n        requestRetryDelay?: number;\n        fetchRegistry?: boolean;\n        filterUpInstances?: boolean;\n        servicePath?: string;\n        ssl?: boolean;\n        useDns?: boolean;\n        preferSameZone?: boolean;\n        clusterRefreshInterval?: boolean;\n        fetchMetadata?: boolean;\n        registerWithEureka?: boolean;\n        useLocalMetadata?: boolean;\n        preferIpAddress?: boolean;\n    }\n    interface PortWrapper {\n        enabled: boolean;\n        port: number;\n    }\n    interface LeaseInfo {\n        renewalIntervalInSecs: number;\n        durationInSecs: number;\n    }\n    interface DataCenterInfo {\n        name: DataCenterName;\n    }\n}\n</code></pre><p>但是这个定义有点儿过时了，<code>DataCenterInfo</code>接口里新增了一个<code>@class</code>字段，现在我试了各种方法都无法合并新的字段进去，这是我现在在项目的某个<code>d.ts</code>文件里写得:</p>\n<pre class=\"prettyprint language-javascript\"><code>declare namespace EurekaClient {\n    interface DataCenterInfo {\n     	&#x27;@class&#x27;: string\n    }\n}\n</code></pre><p>报错如下:\n<img src=\"//static.cnodejs.org/FuKgM5kMq5CdCzCfbp7rpWlLg9Rl\" alt=\"image.png\">\n<img src=\"//static.cnodejs.org/Fg6PGTJpvJ2fFbXYEGhzOqmqxOOH\" alt=\"image.png\">\n以上只是我申明的一种方法，已经试了不少写法了，实在懵逼了，难道要重写整个声明才行么，请教各位大神了。</p>\n</div>', '', 63, '//static.cnodejs.org/FuKgM5kMq5CdCzCfbp7rpWlLg9Rl', 1537347914, 1546275661, '客户端测试', 0, 0),
(935, '如何用计算 API 的测试覆盖率？', 'TorikoC', '', '<div class=\"markdown-text\"><p>我使用 mocha 和 chai-http 对 API 进行了单元测试，然后用 nyc 计算测试覆盖率，但是覆盖率报告并不包括 API 的使用情况。\n请问该怎么做，才能让测试包含 API 的使用情况？</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(936, 'vue 2.x + iview2.x在QQ浏览器报错，导致不刷新', 'dolphinfine', '', '<div class=\"markdown-text\"><p>vue 2.x + iview2.x在QQ浏览器报错，导致不刷新，刷新后页面就出来了。\n下面是所有日志：</p>\n<p>:8001/#/home:1 Uncaught TypeError: this[q] is not a function\nat Image.set (&lt;anonymous&gt;:1:5068)\nat /C:/Users/lenovo/AppData/Local/Tencent/QQBrowser/User%20Data/Default/Extensions/lhfmcbnidnkaalleepapkdnfblbiaacl/3.20.1_0/vipkdyct.js:168\n:8001/#/home:1 Uncaught TypeError: this[q] is not a function\nat Image.set (&lt;anonymous&gt;:1:5068)\nat /C:/Users/lenovo/AppData/Local/Tencent/QQBrowser/User%20Data/Default/Extensions/lhfmcbnidnkaalleepapkdnfblbiaacl/3.20.1_0/vipkdyct.js:168\n:8001/#/home:1 Uncaught TypeError: this[q] is not a function\nat Image.set (&lt;anonymous&gt;:1:5068)\nat /C:/Users/lenovo/AppData/Local/Tencent/QQBrowser/User%20Data/Default/Extensions/lhfmcbnidnkaalleepapkdnfblbiaacl/3.20.1_0/vipkdyct.js:168\n:8001/#/company/detail/00700.HK:1 Uncaught TypeError: this[q] is not a function\nat Image.set (&lt;anonymous&gt;:1:5068)\nat /C:/Users/lenovo/AppData/Local/Tencent/QQBrowser/User%20Data/Default/Extensions/lhfmcbnidnkaalleepapkdnfblbiaacl/3.20.1_0/vipkdyct.js:168</p>\n<p>得到的日志就只有这些，是其他人的电脑，所以qq浏览器版本什么的暂时未知。\n不知道这个Image.set是什么？难道跟一个svg的加载动画有关？请各位大佬分析一下可能的原因，因为得到的日志太有限了。我很难分析。</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(934, 'pm2 启动js 文件，惊现如下灵异现象，本人怀疑有鬼怪作祟，求node法师赐符降之，附上视频', 'RajanZhan', '', '<div class=\"markdown-text\"><p>本来今天心情美美，谁知 使用pm2 启动 js文件，一直有多个黑框框反复弹出，关闭，弹出，关闭，弹出，关闭…  （此处省略很多很多），\n视频地址 <a href=\"http://zs.52ds.club/video.html\">http://zs.52ds.club/video.html</a></p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(931, 'async/await与for循环遍历', 'ZCZ12138', '', '<div class=\"markdown-text\"><p>遇到了在<strong>for循环</strong>中，使用<strong>await函数</strong>的情况，但是打断点调试后发现得到的还是<strong>Promise{pending}</strong>，有考虑闭包的问题，使用了匿名函数带参数的写法，还是不能解决，每次单步调试的时候await函数那里会自动跳过，代码如下，请熟悉这方面的朋友给点意见，指明一个研究方向，谢谢。</p>\n<pre class=\"prettyprint\"><code>var query = models.DuoBaoPlayer.find(q, &#x27;&#x27;).sort(&#x27;-_id&#x27;).skip(skipFrom).limit(limit);\n\nquery.exec(function(err, doc) {\n    var dataList = [];\n    \n	async function findOneDuobao(item) {\n        let doc = await models.DuoBao.findOne({id:item.sid}, &#x27;title startTime endTime luckys totalTime haveTime winner&#x27;);		&#x2F;&#x2F;mongoose\n        return doc;\n    }\n        \n    for (let i = 0; i &lt; doc.length; i++) {\n        dataList.push((async function (num) {\n            let data1 = doc[num].toObject();			\n            let data2 = await findOneDuobao(doc[num]);              &#x2F;&#x2F;每次单步调试的时候都会自动跳过\n            let data = Object.assign(data1, data2);\n            return data;\n        })(i));\n    }\n    \n    let testDataList = dataList;                &#x2F;&#x2F;return 两个 Promise { pending }\n}</code></pre></div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0);
INSERT INTO `hos_article` (`id`, `title`, `author`, `description`, `content`, `md`, `author_id`, `banner_img`, `dateline`, `fuck_date`, `tags`, `agree`, `disagree`) VALUES
(932, '不想写调API的上层应用了，求指点如何更深层次的提升能力？', 'ximolang', '', '<div class=\"markdown-text\"><p>就是想要那种能提升能力，但又能造出点东西，不是调用框架API之类来实现的感觉…\n不知道如何开始，比如Nodejs，求大佬们指点一二。</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(933, 'node js 开发移动app', 'quanpf2481', '', '<div class=\"markdown-text\"><p>跟一个大学同学聊天，说起node js，说现在可以用node js开发手机移动的APP了，想问下各位大神有没有相关的例子，或者其他的，请各位畅所欲言</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(930, 'egg发布版日志问题', 'entrehuihui', '', '<div class=\"markdown-text\"><p>egg用的是egg-logrotator日志插件， 在本地测试的时候可以正常打印日志，可是一再线上发布版本就打印不了日志， 不知道是什么问题？有没有遇到过这样子的问题的</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(929, 'egg-cnode项目 npm run assets 报错为什么？', 'xuj2017', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FvwdQ8ap66X7vUAUE26JwWvrMZcD\" alt=\"image.png\">\n报错信息如上，依赖全部按照，redis和mongodb也开启了，有知道是什么原因的吗？</p>\n</div>', '', 63, '//static.cnodejs.org/FvwdQ8ap66X7vUAUE26JwWvrMZcD', 1537347914, 1546275661, '客户端测试', 0, 0),
(928, '网页控制shell 命令如何实现？', 'gnailiy', '', '<div class=\"markdown-text\"><p>rt，想问比如一些网站后台实现的在页面上直接直接修改 <code>nginx.conf</code> 内容，点击“保存” 之后服务器就能获取到修改的配置，并自动重启nginx了。</p>\n<p>只是举了一个例子。想问这种操作是通过页面在用户点击按钮之后，发出了一个http请求，后台接收到之后去操作文件内容，然后调用shell命令实现的么？ 或者这样的需求通常是怎么实现的？</p>\n<p>好像之前看到过 webshell ，但是感觉不是同一个东西。</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(927, '有关api定义和文档书写的问题', 'ProfutW', '', '<div class=\"markdown-text\"><h3>API文档</h3>\n<p>我理解的一般的web项目中API返回信息应该有两种，一种是JSON（对于ajax请求），另一种是渲染好的HTML页面（比如form表单请求）；\n那么书写API文档的时候，对于后台直接返回页面的API大家一般是怎么写响应信息的？</p>\n<h3>API格式</h3>\n<p>在一个项目中前后端交互的API如果返回是JSON的话，格式一般都是固定的，比如下面这样:</p>\n<pre class=\"prettyprint\"><code>    {\n		&quot;status&quot;: {\n			&quot;code&quot;: 0,\n			&quot;msg&quot;: &quot;success&quot;\n		},\n		&quot;data&quot;: {}\n	}\n</code></pre><p>那么默认情况下，每次响应成功应该只有data不同（除非需要根据响应内容不同自定义响应状态），这样的情况下文档中应该不需要每次都标注status的内容吧？否则文档中冗余的内容也太多了吧</p>\n<h3>API文档生成工具</h3>\n<p>大家一般用什么工具来写API文档？我搜索了一下好像apidoc推荐的比较多，有什么别的建议吗？</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(925, '有没有pptp的程序客户端', 'napster99', '', '<div class=\"markdown-text\"><p>找了一圈PPTP的客户端都是带图形界面的，我想实现程序接入，有没有现成的代码？</p>\n<p>求推荐！！！</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(926, 'koa2 如何转发文件上传到python服务器', 'youngluo', '', '<div class=\"markdown-text\"><p>node作为中间层服务，在浏览器端获取上传文件，怎样转发到后台服务呢？</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(924, 'egg-sequelize的logging报错怎么解决？？', 'dryqiao', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fg-4KoUyAaWPANKWzdGou26SFF22\" alt=\"TIM图片20180803175631.png\"></p>\n<p><code>this.options.logging.info</code>\n打断点找了半天，也不知道哪里覆盖掉了，\n场景是这样的：\n<code>let db = new Sequelize(database, username, password, query.config)</code>\n<code>db.query(\'SELECT * FROM xxx\',{})</code>\nsequelize连接mssql数据库，然后查询,结果一直报这个错，网上也搜不到</p>\n</div>', '', 63, '//static.cnodejs.org/Fg-4KoUyAaWPANKWzdGou26SFF22', 1537347914, 1546275661, '客户端测试', 0, 0),
(923, 'Angular ng new命令错误', 'BlueSky5300', '', '<div class=\"markdown-text\"><p>fzmfus-MacBook-Pro:angular fzmfu$ ng new\nSchematic “ng-new” not found in collection “<a href=\"/user/schematics\">@schematics</a>/angular”.\nError: Schematic “ng-new” not found in collection “<a href=\"/user/schematics\">@schematics</a>/angular”.\nat SchematicEngine.createSchematic (/usr/local/lib/node_modules/@angular/cli/node_modules/@angular-devkit/schematics/src/engine/engine.js:224:23)\nat CollectionImpl.createSchematic (/usr/local/lib/node_modules/@angular/cli/node_modules/@angular-devkit/schematics/src/engine/engine.js:69:29)\nat Object.getSchematic (/usr/local/lib/node_modules/@angular/cli/utilities/schematics.js:43:23)\nat NewCommand.getOptions (/usr/local/lib/node_modules/@angular/cli/models/schematic-command.js:216:40)\nat NewCommand.&lt;anonymous&gt; (/usr/local/lib/node_modules/@angular/cli/commands/new.js:57:49)\nat Generator.next (&lt;anonymous&gt;)\nat fulfilled (/usr/local/lib/node_modules/@angular/cli/commands/new.js:11:58)\nat &lt;anonymous&gt;\nat process._tickCallback (internal/process/next_tick.js:188:7)\nat Function.Module.runMain (module.js:695:11)</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(922, '用户ID如何设计？', 'leiwei1991', '', '<div class=\"markdown-text\"><p>问题1:  用户ID递增 如果从10000开始，每次增1的话 用户注册量是不是就直接泄露了？有没有什么更好的方式呢？\n问题2:  用户ID需要预留一些靓号，如88888，如何处理用户注册时不会用到这个ID？</p>\n<p>求大佬们给点建议，谢谢！</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(918, 'node.js哪个框架在企业中应用广泛？', '744537645', '', '<div class=\"markdown-text\"><p>各位大佬，本人刚开始学习node，奔着更好就业的方向，想咨询一下，现在node.js哪个框架在企业中应用广泛？</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(919, 'HTML文件的script标签， src引用本地文件时错误，路径没错哦，firebug显示“Access to restricted URI denied.”如何解决？', 'ailuhaosi', '', '<div class=\"markdown-text\"><p>我想在HTML中引入本地的script脚本和jquery库，无奈好像一直被浏览器denied，只能用cdn引用。有什么好的办法么？\n网上查了说是跨域问题，在浏览器快捷方式的属性-目标中添加\n“–enable-webgl --ignore-gpu-blacklist --allow-file-access-from-files”\n就可以解决，但是我试了还是不行。\n不知各位大神有什么好的解决方案。</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(920, '运行meteor项目出错，有人碰到过这种问题嘛', 'fy9311', '', '<div class=\"markdown-text\"><p>刚才再学习meteor，创建了基础项目，运行之后出现如下报错，有没有大佬帮忙看看，查了很多资料，都没解决\n<img src=\"//static.cnodejs.org/FuGMzhYykHmtlLL6xyKKTT5Op__v\" alt=\"QQ截图20180805160821.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FuGMzhYykHmtlLL6xyKKTT5Op__v', 1537347914, 1546275661, '客户端测试', 0, 0),
(921, '请问 koa2 controllers 怎样处理全局变量或者支持多个用户同时访问网页？', 'eastOffice', '', '<div class=\"markdown-text\"><p>大家好，\n我第一次接触nodejs，正在写一个类似问卷调查的网站，在controllers中需要用一些全局变量来保存用户的结果，但是这些全局变量应该怎样处理呢？\n我目前的办法是在controllers 中声明全局变量，比如：\nvar result = [];\nvar post_start = async (ctx, next) =&gt; {  …\n});\nvar post_next = async (ctx, next) =&gt; {\n	result.push(<a href=\"http://ctx.body.request.xxx\">ctx.body.request.xxx</a>)\n	…\n});\n但是这样写的问题就是，当一个用户填到一半，另一个用户也来访问网页的时候，会引起全局变量值的冲突，所以我想能不能给每一个用户<strong>单独绑定</strong>一份这些变量呢？\n于是我想到了用 ctx 传递参数，我参考文档，把参数绑定到 ctx.state 中，但是发现不行，比如在第一个 async() 函数中绑定，到下一个 async() 就没有这些变量了。</p>\n<p>请问大家，我应该怎样解决这个问题？\n这个问题核心是为了解决多个用户同时访问网页的问题，除了以上问题，是否有什么多线程的处理办法？\n感激不尽！</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(910, 'egg ready 生命周期', 'lzy2014love', '', '<div class=\"markdown-text\"><p>最近用ts写egg，发现app下没有ready方法了，但是文档还有ready的生命周期。是因为egg版本更新删掉了吗</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(911, '初试egg.js的2个问题', 'chinahsj', '', '<div class=\"markdown-text\"><p>今天第一天学习egg.js，按照api 测试示例发现2个问题，并没有找到答案，希望大家帮助一下，谢谢！</p>\n<ol>\n<li>get请求没问题，post请求不到是什么原因?\n2.api 上说controller支持多级目录，而我测试在controller里又创建了一个userController目录，发现同样请求不到？</li>\n</ol>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(912, '微信扫码登录，扫码后无响应，chrome控制台报错：err_empty_response', 'dolphinfine', '', '<div class=\"markdown-text\"><p>我们的网站采用内嵌微信二维码扫码登录，\n偶然会出现扫码无响应的情况，手机上已经确认，但是二维码下面没有确认字样，\n打开chrome控制台，有如下信息：\n<img src=\"//static.cnodejs.org/FkchxDHu_CQnbe6Grqmi4pbdyRD0\" alt=\"image.png\">\n请问是什么原因？有大神指点下吗</p>\n</div>', '', 63, '//static.cnodejs.org/FkchxDHu_CQnbe6Grqmi4pbdyRD0', 1537347913, 1546275661, '客户端测试', 0, 0),
(913, 'node.js开发微信公众号', 'iori2882', '', '<div class=\"markdown-text\"><p>麻烦问下大家,现在开发微信公众号npm哪个包好用啊?我看网上有说node-wechat的,有说node-weixin的,在淘宝镜像搜索wechat关键字,出现下面一大堆,大家能不能推荐一个bug少 稳定一些的,我看node-wechat最后一次更新是2017年7月</p>\n<p><img src=\"//static.cnodejs.org/FgHOPSTO9lHXMQzO10e_sO8yjG4M\" alt=\"QQ截图.jpg\"></p>\n</div>', '', 63, '//static.cnodejs.org/FgHOPSTO9lHXMQzO10e_sO8yjG4M', 1537347913, 1546275661, '客户端测试', 0, 0),
(914, 'vs code有什么扩展能够把前进和后退自定义为图标按钮？', 'jinkankakushoujo', '', '<div class=\"markdown-text\"><p>前进和后退用键盘要两只手，而用菜单则要点两次，关键还要连续点。\n如果能弄成图标按钮的话就能很方便了，我看左边那栏空余挺多的，正好能放。</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(915, '集群的进程数量设置多少比较合理？一般通过什么来考量的？', 'Rainy934', '', '<div class=\"markdown-text\"><p>为什么我看见大多示例都是使用cpu核心数来创建？</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(916, '求教，git flow release finish v0.0.0之后，develop在master之后，同时v0.0.0也没有被删除', 'zaozaool', '', '<div class=\"markdown-text\"><p>理论结果：\n<img src=\"//static.cnodejs.org/FiM0NVbiMsaR51CPuKfZxGxSRn8g\" alt=\"QQ图片20180823094142.jpg\"></p>\n<p>实际结果：\n<img src=\"//static.cnodejs.org/Ftz34bE_yxc8a6gSXOR7RFyS7KSe\" alt=\"QQ截图20180823094643.png\"></p>\n<p>操作记录:</p>\n<blockquote>\n<p>git flow init\ngit flow feature start test\n添加test.txt并commit\ngit flow feature finish test\ngit flow release start v0.0.0\ngit flow release finish v0.0.0</p>\n</blockquote>\n</div>', '', 63, '//static.cnodejs.org/FiM0NVbiMsaR51CPuKfZxGxSRn8g', 1537347914, 1546275661, '客户端测试', 0, 0),
(917, '目前有没有开源的使用 Node.js 完成的中大型 数据监控/数据处理 系统？', 'aircloud', '', '<div class=\"markdown-text\"><p>目前自己这边需要做一个使用 node 完成的数据监控分析系统，涉及到的数据处理量较大，功能复杂繁多，主要涉及：数据响应、数据处理、报表生成、定时任务、接入邮件与各类即时通讯工具。\n另外，还可能面临短时大量请求接入的处理、分模块分配资源等等。</p>\n<p>但是自己 node 的能力比较有限，想找相关的开源代码读一读，参考一下架构设计等，不知有没有什么推荐？</p>\n<p>谢谢大家了～</p>\n</div>', '', 63, '', 1537347914, 1546275661, '客户端测试', 0, 0),
(909, '请问egg项目（或者node）中如何处理数量较多但是不大的静态文件（如图片、doc文件）？', 'dpc761218914', '', '<div class=\"markdown-text\"><p>egg的web项目中静态文件（图片和word文件）可能有100G左右，后期可能还会少量增加，请问如何处理？便于前端的获取和后端的管理和保存。\n是不是要考虑安全问题：如同一ip用户超频繁请求获取数据。\n1、全部放在public中？\n2、做一个静态文件服务器？思路是什么呢？</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(907, 'Vue nuxtjs中怎么使用条件注释？', 'yuquanH', '', '<div class=\"markdown-text\"><p>Vue nuxtjs中怎么使用条件注释？ 比如&lt;!–[if lt IE 9]&gt;&lt;![endif]–&gt;</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(908, '求助个 rollup 打包umd格式，requirejs加载模块问题', 'waitingsong', '', '<div class=\"markdown-text\"><ul>\n<li>ts 开发。，tsc 输出 module 配置为 ‘es6’。 rxjs 版本为 v6.rc7</li>\n</ul>\n<pre class=\"prettyprint language-ts\"><code>import {  fromEvent } from &#x27;rxjs&#x27;\nimport {  share,  takeWhile } from &#x27;rxjs&#x2F;operators&#x27;\n</code></pre><ul>\n<li>使用 rollup 打包处理 <code>tsc</code> 生成的结果为 umd 格式</li>\n</ul>\n<pre class=\"prettyprint\"><code>const globals = {\n  &#x27;rxjs&#x2F;operators&#x27;: &#x27;rxjs.operators&#x27;,\n  &#x27;rxjs&#x2F;websocket&#x27;: &#x27;rxjs.websocket&#x27;,\n}\n\n  &#x2F;&#x2F; bundle min\n  config.push({\n    external: [],\n    input: pkg.module,\n    plugins: [\n      resolve({\n        browser: true,\n        jsnext: true,\n        main: true,\n      }),\n      commonjs(),\n    ],\n    output: {\n      amd: { id: &#x27;foo&#x27; },\n      file:  &#x27;foo.js&#x27;,\n      format: &#x27;umd&#x27;,\n      globals,\n      name: &#x27;foo&#x27;,\n      sourcemap: true,\n    },\n  })\n</code></pre><p>打包结果:</p>\n<pre class=\"prettyprint language-js\"><code>(function (global, factory) {\n  debugger\n    typeof exports === &#x27;object&#x27; &amp;&amp; typeof module !== &#x27;undefined&#x27; ? factory(exports, require(&#x27;rxjs&#x27;), require(&#x27;rxjs&#x2F;operators&#x27;)) :\n    typeof define === &#x27;function&#x27; &amp;&amp; define.amd ? define(&#x27;foo&#x27;, [&#x27;exports&#x27;, &#x27;rxjs&#x27;, &#x27;rxjs&#x2F;operators&#x27;], factory) :\n    (factory((global.foo = {}),null,global.rxjs.operators,global.rxjs));\n}(this, (function (exports,rxjs,operators) { &#x27;use strict&#x27;;\n...\n})\n</code></pre><p>配合 <code>rxjs.umd.js</code> . 若 foo.js 采用 script 全局加载，那么 <code>rxjs.operators</code>  都可能正常使用。\n如果采用 requirejs 加载， <code>main.js</code> 配置为:</p>\n<pre class=\"prettyprint\"><code>require.config({\n  baseUrl: &#x27;..&#x2F;dist&#x27;,\n  paths:   {\n    &#x27;rxjs&#x27;:             &#x27;rxjs.umd&#x27;,\n    &#x27;foo&#x27;: &#x27;foo.umd&#x27;,\n  },\n});\n</code></pre><p><code>rxjs/operators</code> 这个依赖会被处理为 <code>rxjs.umd.js/operators.js</code>  去加载。\n有什么办法可以解决这个问题呢？\nrollup 以及 requirejs 的文档都没找到相关的处理。</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(906, '「Eggjs」如何在CI/CD环节将Node应用打包成一个小体积的包（或可执行文件）', 'tinycold', '', '<div class=\"markdown-text\"><p>我有一个Eggjs写的Node应用，想要用jenkiins做CI/CD。</p>\n<p>在build stage产出一个压缩包，然后在CD环节把包部署到远程服务器。</p>\n<p>现在遇到的问题是，这个压缩包体积太大了（因为nodemodules），导致压缩和传输的时间太长。有没有一种办法是将这个应用打包成一个体积非常小的文件。</p>\n<p>目前的，enclose感觉还不错，但是怎么移植到jenkins里是个大问题，因为我Node应用在build stage是在docker里运行的。</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(904, 'git clone速度很慢，是电信出口问题，还是qian导致的问题呢？', 'chapgaga', '', '<div class=\"markdown-text\"><p>少量代码提交没有问题，clone大的代码库，经常出现下载速度为0的情况，非常难受</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(905, '接口怎么统一加密解密呢', 'chelsh', '', '<div class=\"markdown-text\"><p>怎么在收到请求时解密，返回请求时加密呢。怎么样才能让每个请求都经过解密函数，每个返回都经过加密函数呢？</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(900, 'mongoose里lean()，getters，setters问题', 'guchenhui', '', '<div class=\"markdown-text\"><p>mongoose里用了lean()能修改查询到的数据，但getters和setters会失效，有没有办法解决呢？getters和setters挺实用的</p>\n<p>From <a href=\"https://github.com/soliury/noder-react-native\">Noder</a></p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(901, '【在线等】pm2如何开机自启？', 'hcyhehe', '', '<div class=\"markdown-text\"><p>各位大佬，pm2如何开机自启？环境是 CentOS7</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(902, '用node的有多少，感觉怎么样', 'jiangxiaoxin', '', '<div class=\"markdown-text\"><p>如题</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(903, '有什么成功的Ionic的开源项目推荐吗', 'meilonglove', '', '<div class=\"markdown-text\"><p>有什么成功的Ionic的开源项目推荐吗？ 找了好久都没有找到成功的案例</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(899, 'nuxt.js 在ie11以下包含ie11无法正常运行 怎么解决?', 'yuquanH', '', '<div class=\"markdown-text\"><p>目前暂定是babal的问题  请问如何配置nuxt的babel？\n求大神帮帮！<img src=\"//static.cnodejs.org/Fnr1Jr-4fFU7rMLHuOjrXK7yhqmw\" alt=\"image.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fnr1Jr-4fFU7rMLHuOjrXK7yhqmw', 1537347913, 1546275661, '客户端测试', 0, 0),
(898, '原生NodeJS中如何把Node中response的值发送给Fetch接收？？？？', 'hanchn', '', '<div class=\"markdown-text\"><p>小白请教：</p>\n<p>我在前端利用Fetch传递值给后端，后端怎么把数据对象传递给原始网页中的Fetch</p>\n<p>原生NodeJS中如何把Node中response的值发送给Fetch接收？？？？</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(897, '使用pm2守护nuxtjs，每次代码更新都要npm run build,再使用pm2重启进程吗？', 'duanxingyu', '', '<div class=\"markdown-text\"><p>更新nuxtjs代码，也启用了 pm2 start “project-name” --watch 目录监听，目录一发生变化，pm2就会自动重启，但是前端并没发生什么变化，后来发现，每次更新完代码，都要npm run build，然后使用pm2 start npm  --name “projectname”   – run start ，再使用 pm2 restart all，才能使项目跑起来，这期间网页使无法访问的，只能执行完以上步骤，才可以正常访问，这样做的话，那岂不失去了pm2的意义了吗？有什么方法更改代码后，网页端就自动发生相应的变化吗？</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(895, '本地IP有没有办法做到SSL是安全的？', 'six-666', '', '<div class=\"markdown-text\"><p>类似: <a href=\"https://192.168.1.111\">https://192.168.1.111</a></p>\n<p>不安全的SSL，手机端打不开。。。</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(896, 'egg.js 中 validate 的最佳实践', 'littledu', '', '<div class=\"markdown-text\"><p>想把所有规则都放一个文件里，但发现所有已定义的目录都是有相关功能的，总感觉放哪都不合适，最后直接在 app 同级目录下建了个 validate 目录里面创建一个文件来存放，如下：</p>\n<pre class=\"prettyprint language-js\"><code>exports.LOGIN = {\n  name: {\n    type: &#x27;string&#x27;,\n    require: true,\n    allowEmpty: false\n  },\n  password: {\n    type: &#x27;string&#x27;,\n    require: true,\n    allowEmpty: false\n  }\n};\n\nexports.ARTICLES = {\n  name: {\n    type: &#x27;string&#x27;,\n    require: true,\n    allowEmpty: false\n  },\n  password: {\n    type: &#x27;string&#x27;,\n    require: true,\n    allowEmpty: false\n  }\n};\n</code></pre><p>但这样子，这个文件改动并不会被监听，请问大家都是怎么搞的</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(892, 'fs.existsSync() 判断不准', 'liyueyx', '', '<div class=\"markdown-text\"><p>fs.existsSync()这个方法在linux下判断不准吗,明明没有目录,却返回true,等我要上传使用这个目录时,就报错Error: ENOENT: no such file or directory, mkdir \'/public/uploads/201808’\n有人碰到过这事吗?</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(893, '小白刚入坑, 遇到一个视图渲染的问题, 恳请各位大佬指点!', 'zhangshichuan', '', '<div class=\"markdown-text\"><p>我按照官方文档搭建自己的个人网站. 然后也配置好视图这些东西了. 但是一访问就报错.\n<img src=\"//static.cnodejs.org/FuBt4dGIPeQu3JuhzliuxnlpV0E6\" alt=\"image.png\">\n<img src=\"//static.cnodejs.org/FnnvYTY3ErxeXSRGMeOTXAEYwmYr\" alt=\"image.png\">\n<img src=\"//static.cnodejs.org/Fl3ZUXDIAHcvG-EYICjjUxzVuc7J\" alt=\"image.png\">\n<img src=\"//static.cnodejs.org/FhxFa0E0IobVWEqkMYFBy7yT_M8R\" alt=\"image.png\">\n<img src=\"//static.cnodejs.org/FnPXS7pKKf8SIdvC6vC1kQ8Q_dE6\" alt=\"image.png\">\n<img src=\"//static.cnodejs.org/FnHR_OaN9uZuaUhqYqCTjhcYMPZv\" alt=\"image.png\">\n<img src=\"//static.cnodejs.org/FhiCn01d8bkQAjjwKXhzSeiTNE3I\" alt=\"image.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FuBt4dGIPeQu3JuhzliuxnlpV0E6', 1537347913, 1546275661, '客户端测试', 0, 0),
(894, 'react16  ssr 缓存组件结构 的包 有吗？24小时在线等', 'yangchongduo', '', '<div class=\"markdown-text\"><p>react16  ssr 缓存组件结构 的包 有吗？24小时在线等\n不是根据属性缓存，是缓存组件结构</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(891, 'Web Worker为何不支持通过file://访问？', 'chapgaga', '', '<div class=\"markdown-text\"><p>Uncaught DOMException: Failed to construct ‘Worker’: Script at ‘file:///E:/work1.js’ cannot be accessed from origin ‘null’.</p>\n<p>通过file://访问时，origin为 ‘null’，\n但是好像通过file://访问也没有什么安全问题啊，为何Chrome不支持通过file://使用Web Worker？</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(890, 'quick-pomelo 运行过程中报错', 'lvhy', '', '<div class=\"markdown-text\"><p>运行过种中有出现下方报错，大概是因为什么原因</p>\n<p>Uncaught exception: Error: You are not in any transaction scope\nat proto._connection (/root/game/majiang/node_modules/quick-pomelo/node_modules/memdb-client/lib/autoconnection.js:317:15)\nat Object.collection.(anonymous function) [as findOne] (/root/game/majiang/node_modules/quick-pomelo/node_modules/memdb-client/lib/autoconnection.js:342:33)\nat MemdbCollection.findOne (/root/game/majiang/node_modules/quick-pomelo/node_modules/memdb-client/lib/mongoose-driver/collection.js:215:34)\nat NodeCollection.findOne (/root/game/majiang/node_modules/quick-pomelo/node_modules/memdb-client/node_modules/mongoose/node_modules/mquery/lib/collection/node.js:38:19)\nat Query.findOne (/root/game/majiang/node_modules/quick-pomelo/node_modules/memdb-client/node_modules/mongoose/node_modules/mquery/lib/mquery.js:1684:20)\nat Query._findOne (/root/game/majiang/node_modules/quick-pomelo/node_modules/memdb-client/node_modules/mongoose/lib/query.js:1151:22)\nat /root/game/majiang/node_modules/quick-pomelo/node_modules/memdb-client/node_modules/mongoose/node_modules/kareem/index.js:156:8\nat /root/game/majiang/node_modules/quick-pomelo/node_modules/memdb-client/node_modules/mongoose/node_modules/kareem/index.js:18:7\nat _combinedTickCallback (internal/process/next_tick.js:67:7)\nat process._tickDomainCallback (internal/process/next_tick.js:122:9)</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(889, 'node中heaptotal缓慢增长内存泄漏导致重启', 'Borkes', '', '<div class=\"markdown-text\"><p>node统计的process.memoryUsage()中 rss heaptotal heapused external\n<img src=\"//static.cnodejs.org/Fq3aMW8Sgd4S9Bn6MEEMMAnRRjJM\" alt=\"image.png\"></p>\n<p>代码取和栈可以先不考虑。\n对外内存external是buffer分配的，每天的对比没有什么变化\n<strong>堆内存的分配就比较奇怪heaptotal每天是缓慢递增，大概一周增加了100~300M，而heapused对比没有变化，导致heap使用率每天都下降。</strong>\n但是heaptotal递增到1.3G左右（应该是到了V8限制）node进程就会发生重启，这个是不希望出现的。</p>\n<p><img src=\"//static.cnodejs.org/FgNeKo6OOFmhsqOyYzaLFRuGV28Z\" alt=\"image.png\"></p>\n<p>用heapdump获取两天的内存快照发现内存的使用都有增加，没有什么奇怪的地方。由于整个项目代码比较多，就不贴代码了。主要是有下面几个问题，希望大佬能帮忙解答一下\n1.heaptotal和heapused分别是在什么情况下分配增加的？\n2.想这种heaptotal分配增加，heapused不变，大致什么情况下回发生，算是内存泄漏吗？毕竟heaptotal分配过高会导致进程重启\n3.heapdump获取的内存快照是rss的还是heaptotal的？</p>\n</div>', '', 63, '//static.cnodejs.org/Fq3aMW8Sgd4S9Bn6MEEMMAnRRjJM', 1537347913, 1546275661, '客户端测试', 0, 0),
(888, 'sequelize模型中加进get方法后不管什么情况都会自动取值', 'vitozyf', '', '<div class=\"markdown-text\"><p><strong>如下，在模型中定义<code>CreatedAtStr</code>字段,并且加了<code>get</code>方法，</strong></p>\n<pre class=\"prettyprint\"><code>CreatedAtStr: {\n  type: DataTypes.STRING,\n  allowNull: true,\n  get () {\n	let time = this.getDataValue(&#x27;CreatedAt&#x27;) || &#x27;&#x27;\n	return time ? dateStr(time) : &#x27;&#x27;\n  }\n}\n</code></pre><p><strong>在接口中获取的时候，该表在其他表的关联中，属性只取了<code>Id</code>, 但获取结果中有<code>CreatedAtStr</code></strong></p>\n<pre class=\"prettyprint\"><code>where: query,\ninclude: [\n  {\n	model: Comments,\n	attributes: [\n		&#x27;Id&#x27;\n	]\n  }\n]\n</code></pre><p><strong>求解</strong></p>\n<pre class=\"prettyprint\"><code>获取结果\n\n&quot;UserId&quot;: &quot;e2420d70-a069-11e8-bde3-057bb13f44a3&quot;,\n&quot;Comments&quot;: [\n  {\n	&quot;CreatedAtStr&quot;: &quot;&quot;,\n	&quot;Id&quot;: 4\n  },\n  {\n	&quot;CreatedAtStr&quot;: &quot;&quot;,\n	&quot;Id&quot;: 5\n  },\n  {\n	&quot;CreatedAtStr&quot;: &quot;&quot;,\n	&quot;Id&quot;: 6\n  },\n  {\n	&quot;CreatedAtStr&quot;: &quot;&quot;,\n	&quot;Id&quot;: 7\n  }\n]\n</code></pre></div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(887, 'chrome49是巨人，那chrome68算什么', 'yakczh', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FgVL40BY0vyBa6ywBre8wD5MEruX\" alt=\"chrome68.png\"></p>\n<p><a href=\"http://www.sohu.com/a/247517106_114988?_\">红芯国产浏览器涉嫌采用谷歌Chrome内核造假 联合创始人回应称非抄袭站巨人肩膀上做了创新</a></p>\n</div>', '', 63, '//static.cnodejs.org/FgVL40BY0vyBa6ywBre8wD5MEruX', 1537347913, 1546275661, '客户端测试', 0, 0),
(886, '用node js数据请求', 'quanpf2481', '', '<div class=\"markdown-text\"><p>有个数据请求，要求如下：\n请求地址\n<a href=\"https://open.ys7.com/api/lapp/mq/v1/consumer/messages\">https://open.ys7.com/api/lapp/mq/v1/consumer/messages</a>\n请求方式\nPOST\n请求参数\n参数名 	/数据类型 /	描述	\naccessToken /	String/	开放平台授权过程获取的访问令牌，获取方式参考接口https://open.ys7.com/doc/zh/book/index/user.html</p>\n<p>consumerId	/String/	消费者在组中唯一标识，5分钟内未使用将自动删除，断开和消息通道的链接	Y\npreCommit/	int/	是否开启读-提交模式：0-关闭，1-开启。非必选参数，默认关闭	N</p>\n<p>请求报文\nPOST /api/lapp/mq/v1/consumer/messages HTTP/ 1.1\nHost: <a href=\"http://open.ys7.com\">open.ys7.com</a>\nContent-Type: application/x-www-form-urlencoded</p>\n<p>accessToken=at.dunwhxt2azk02hcn7phqygsybbw0wv6p&amp;consumerId=fab41dc1ea1043e3ad7285c96df05517</p>\n<p>请问各位大神有没有思路或者相关的例子可以参考？？？</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(883, 'egg中的错误处理疑惑', 'acodercat', '', '<div class=\"markdown-text\"><p>在业务中抛出<code>js throw new Error(\'response status is not 200\');</code> 这种错误的时候，在捕获的时候必须全局捕获处理，这样好像不太友好，框架本身有对这块做处理或者提供一些功能吗。或者由开发者本身来自定义一些错误然后抛出吗</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(884, '求分享nodejs 企业级项目相关书籍', 'wangcheng007', '', '<div class=\"markdown-text\"><p>如题</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(885, '（已经解决）线上运行的cnode是否已经是cnode-egg版本的了？如果是的话为什么运行的逻辑和源码的不一致？', 'mehunk', '', '<div class=\"markdown-text\"><h2>背景</h2>\n<p>最近正在看<a href=\"https://github.com/cnodejs/egg-cnode\">cnode-egg</a>的源码，碰到问题就直接拿cnode的api来测试了，但是根据测试结果，感觉线上运行的代码和<a href=\"https://github.com/cnodejs/egg-cnode\">cnode-egg</a>行为的不一致。</p>\n<p>cnode 代码重构的说明<a href=\"https://cnodejs.org/topic/5aae1cc8f5dfc27d7ad98909\">在此</a></p>\n<h2>get /topics 主题列表</h2>\n<h3>预测结果</h3>\n<p>根据源码的行为预测，如果 querystring 的 limit 或者 page 传入的是非数字的话，应该会被转成 NaN，然后直接传给模型层的 skip 和 limit，然后出错。</p>\n<p>源码如下：</p>\n<pre class=\"prettyprint language-js\"><code>&#x2F;&#x2F; app&#x2F;middleware&#x2F;pagination.js\nmodule.exports = () =&gt; {\n  return async (ctx, next) =&gt; {\n    if (!ctx.pagination) {\n\n      const query = ctx.query;\n      const config = ctx.app.config;\n      const pagination = {};\n\n      &#x2F;&#x2F; 这里限制了最大 limit，不知道实际上需不需要\n      pagination.limit = Math.min(100, parseInt(query.limit || config.default_limit, 10)); &#x2F;&#x2F; 每页数量取最小\n      const page = Math.max(1, parseInt(query.page || config.default_page, 10)); &#x2F;&#x2F; 页码取最大\n      pagination.skip = (page - 1) * pagination.limit; &#x2F;&#x2F; 转换成偏移量\n\n      ctx.pagination = pagination;\n    }\n    await next();\n  };\n};\n</code></pre><h3>实际结果</h3>\n<p>实际上如果传入的都是字符的话，也不会报错，会按照默认的数量和页码返回主题列表，页码是默认数字 1，但是每页显示的数量不是默认的 20，而是 40；</p>\n<h2>get /user/:loginname 用户详情</h2>\n<h3>预测结果</h3>\n<p>查询用户详情的时候，根据代码显示，会一并返回用户发布的<strong>所有</strong>主题，并且<strong>没有</strong>用户发布的回复贴；</p>\n<p>源码如下：</p>\n<pre class=\"prettyprint language-js\"><code>async show() {\n    const { ctx } = this;\n    const loginname = ctx.params.loginname;\n    const user = await ctx.service.user.getUserByLoginName(loginname); &#x2F;&#x2F; 获取用户\n\n    if (!user) { &#x2F;&#x2F; 判断用户是否为空\n      ctx.status = 404;\n      ctx.body = { success: false, error_msg: &#x27;用户不存在&#x27; };\n      return;\n    }\n\n    const userId = user._id;\n    const topics = await ctx.service.topic.getTopicsByQuery({ author_id: userId }); &#x2F;&#x2F; 获取话题列表， @todo 取多少个？\n    const returnUser = _.pick(user, [ &#x27;loginname&#x27;, &#x27;avatar_url&#x27;, &#x27;githubUsername&#x27;, &#x27;create_at&#x27;, &#x27;score&#x27; ]); &#x2F;&#x2F; 筛选用户返回属性\n    const returnTopics = topics.map(topic =&gt; { &#x2F;&#x2F; 筛选话题返回属性\n      return {\n        id: topic._id,\n        last_reply_at: topic.last_reply_at,\n        title: topic.title,\n        author: {\n          loginname: user.loginname,\n          avatar_url: user.avatar_url,\n        },\n      };\n    });\n    const data = returnUser;\n    data.recent_topics = returnTopics;\n    ctx.body = {\n      success: true,\n      data,\n    };\n  }\n</code></pre><h3>实际结果</h3>\n<p>因为发的帖子比较少，不知道一并返回的最近发布的主题贴会不会被限制数量，但是发现了响应体中还包含了 <code>recent_replies</code> 属性，表示用户发布的回复贴，但是源码中缺没有相关的逻辑；</p>\n<pre class=\"prettyprint language-js\"><code>{\n    &quot;success&quot;: true,\n    &quot;data&quot;: {\n        &quot;loginname&quot;: &quot;mehunk&quot;,\n        &quot;avatar_url&quot;: &quot;https:&#x2F;&#x2F;avatars2.githubusercontent.com&#x2F;u&#x2F;10388497?v=4&amp;s=120&quot;,\n        &quot;githubUsername&quot;: &quot;mehunk&quot;,\n        &quot;create_at&quot;: &quot;2015-10-10T09:14:19.927Z&quot;,\n        &quot;score&quot;: 80,\n        &quot;recent_topics&quot;: [\n            {\n                &quot;id&quot;: &quot;58759b172d086de6340db33f&quot;,\n                &quot;author&quot;: {\n                    &quot;loginname&quot;: &quot;mehunk&quot;,\n                    &quot;avatar_url&quot;: &quot;https:&#x2F;&#x2F;avatars2.githubusercontent.com&#x2F;u&#x2F;10388497?v=4&amp;s=120&quot;\n                },\n                &quot;title&quot;: &quot;如何提升mongodb中group的效率&quot;,\n                &quot;last_reply_at&quot;: &quot;2017-01-12T01:55:05.696Z&quot;\n            },\n            {\n                &quot;id&quot;: &quot;567fa3d7435249f221f53ac9&quot;,\n                &quot;author&quot;: {\n                    &quot;loginname&quot;: &quot;mehunk&quot;,\n                    &quot;avatar_url&quot;: &quot;https:&#x2F;&#x2F;avatars2.githubusercontent.com&#x2F;u&#x2F;10388497?v=4&amp;s=120&quot;\n                },\n                &quot;title&quot;: &quot;静态资源路径设置问题（已解决）&quot;,\n                &quot;last_reply_at&quot;: &quot;2015-12-27T15:05:31.901Z&quot;\n            }\n        ],\n        &quot;recent_replies&quot;: [\n            {\n                &quot;id&quot;: &quot;5b769226944cb8340c27e161&quot;,\n                &quot;author&quot;: {\n                    &quot;loginname&quot;: &quot;littledu&quot;,\n                    &quot;avatar_url&quot;: &quot;https:&#x2F;&#x2F;avatars2.githubusercontent.com&#x2F;u&#x2F;1784673?v=4&amp;s=120&quot;\n                },\n                &quot;title&quot;: &quot;egg.js 中 validate 的最佳实践&quot;,\n                &quot;last_reply_at&quot;: &quot;2018-08-25T01:16:04.369Z&quot;\n            },\n            {\n                &quot;id&quot;: &quot;58759b172d086de6340db33f&quot;,\n                &quot;author&quot;: {\n                    &quot;loginname&quot;: &quot;mehunk&quot;,\n                    &quot;avatar_url&quot;: &quot;https:&#x2F;&#x2F;avatars2.githubusercontent.com&#x2F;u&#x2F;10388497?v=4&amp;s=120&quot;\n                },\n                &quot;title&quot;: &quot;如何提升mongodb中group的效率&quot;,\n                &quot;last_reply_at&quot;: &quot;2017-01-12T01:55:05.696Z&quot;\n            },\n            {\n                &quot;id&quot;: &quot;5800a897487e1e4578afb50b&quot;,\n                &quot;author&quot;: {\n                    &quot;loginname&quot;: &quot;xcatliu&quot;,\n                    &quot;avatar_url&quot;: &quot;https:&#x2F;&#x2F;avatars0.githubusercontent.com&#x2F;u&#x2F;5453359?v=4&amp;s=120&quot;\n                },\n                &quot;title&quot;: &quot;「Yarn 中文文档」 一起来翻译吧&quot;,\n                &quot;last_reply_at&quot;: &quot;2016-10-14T15:39:42.162Z&quot;\n            },\n            {\n                &quot;id&quot;: &quot;562adf63004756b058c237b1&quot;,\n                &quot;author&quot;: {\n                    &quot;loginname&quot;: &quot;welchwsy&quot;,\n                    &quot;avatar_url&quot;: &quot;https:&#x2F;&#x2F;avatars3.githubusercontent.com&#x2F;u&#x2F;11153910?v=4&amp;s=120&quot;\n                },\n                &quot;title&quot;: &quot;短信验证模块&quot;,\n                &quot;last_reply_at&quot;: &quot;2017-06-15T03:26:00.362Z&quot;\n            },\n            {\n                &quot;id&quot;: &quot;57e8dca7a61dacb35502be75&quot;,\n                &quot;author&quot;: {\n                    &quot;loginname&quot;: &quot;Samurais&quot;,\n                    &quot;avatar_url&quot;: &quot;https:&#x2F;&#x2F;avatars1.githubusercontent.com&#x2F;u&#x2F;3538629?v=3&amp;s=120&quot;\n                },\n                &quot;title&quot;: &quot;NodeParty@北京 #16期总结&quot;,\n                &quot;last_reply_at&quot;: &quot;2016-10-12T01:35:48.147Z&quot;\n            }\n        ]\n    }\n}\n</code></pre></div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(882, 'sequelize，mysql，delete 语句删除报错（）', 'fkdswfwqfet', '', '<div class=\"markdown-text\"><p>hi 大神门，\nsequelize，mysql，delete 语句删除报错，\n错误信息：\nYou are using safe update mode and you tried to update a table without a WHERE that uses a KEY column\n我知道需要用这个语句，SET SQL_SAFE_UPDATES = 0;\n就是不知道怎么写？\n<img src=\"//static.cnodejs.org/FlL_BQCaeMQ7G6baPuqWoSoAw9gm\" alt=\"image.png\">\n这样写报错。\n难道只能用存储过程的方式写吗？请指教，谢谢</p>\n</div>', '', 63, '//static.cnodejs.org/FlL_BQCaeMQ7G6baPuqWoSoAw9gm', 1537347913, 1546275661, '客户端测试', 0, 0),
(881, 'fs模块同时异步读和写同一个文件时，为什么write会比read更快，而且读出来的总是写了后的数据，不是之前文件的数据', 'heguangda', '', '<div class=\"markdown-text\"><p>我知道node.js是谁先做完就先执行谁的回调，但是有一点不解的是，为什么总是会读到写完之后的文件，理论上不是应该在write的时候，read的操作已经读了一些之前的文件了吗。</p>\n<p>var fs = require(‘fs’)\nconsole.time(‘read’)\nfs.readFile(’./test.txt’, ‘utf8’, function(err, data){\nconsole.log(data);\nconsole.timeEnd(‘read’)<br>\n});\nconsole.time(‘write’)\nfs.writeFile(’./test.txt’, ‘这是第一行这是这是第一行这是这是第一行这是这是第一行这是这是第一行这是这是第一行这是这是第一行这是这是第一行这是’,function(err){\nif(err) console.log(‘写文件操作失败’);\nelse console.log(‘写文件操作成功’);\nconsole.timeEnd(‘write’)\n});</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(880, '求助 node调用腾讯企业邮箱的问题', 'yuezm', '', '<div class=\"markdown-text\"><p><strong>如题</strong>\nnode调用腾讯企业邮箱api:<a href=\"https://exmail.qq.com/qy_mng_logic/doc#10014\">https://exmail.qq.com/qy_mng_logic/doc#10014</a>\n在新增员工的时候，需要传入department字段\n<img src=\"//static.cnodejs.org/FlzznDsWkNqCOjIDmZ9FT4oQyOyq\" alt=\"2018-08-29 10-13-47屏幕截图.png\"></p>\n<p>这里的department id 是19位的数字(如果传入字符串的话会报错)\n<img src=\"//static.cnodejs.org/FgBxD_5dNZWFEh5UNP1g3K1teNhB\" alt=\"2018-08-29 10-18-12屏幕截图.png\">\n但是node处理19位数字精度不够，(例如7309914990082295108会变成7309914990082302000)传过去的department id是错误的，求支招</p>\n</div>', '', 63, '//static.cnodejs.org/FlzznDsWkNqCOjIDmZ9FT4oQyOyq', 1537347913, 1546275661, '客户端测试', 0, 0),
(877, 'nodejs里有大的数据处理怎么办？', 'CN-Sean', '', '<div class=\"markdown-text\"><p>用nodejs做了一个excel导入功能，但是用户导入的数据有多有少，有人导入了几十万行的excel，node处理慢了点就造成了阻塞。有优化方案吗？我服务器是单核的。。。</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(878, '为什么我的mongodb数据库断开ssH之后就自动关闭了?', 'TongBaoWang', '', '<div class=\"markdown-text\"><p>为什么我的mongodb数据库断开ssH之后就自动关闭了?</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(879, '【权限】大家好，请教一个接口权限控制的问题', 'BengBu-YueZhang', '', '<div class=\"markdown-text\"><p>下面这端代码是我为我的小项目设计的权限控制的中间件，首先验证token是否合法，然后从token中提取出角色的信息，读取redis中该角色的权限，判断该角色是否拥有接口所需要的权限。</p>\n<pre class=\"prettyprint language-js\"><code>\nconst jwt = require(&#x27;jsonwebtoken&#x27;)\nconst secret = require(&#x27;..&#x2F;config&#x2F;jwt&#x27;).secret\nconst redisClient = require(&#x27;..&#x2F;config&#x2F;redis&#x27;)\nconst { promisify } = require(&#x27;util&#x27;)\nconst getAsync = promisify(redisClient.get).bind(redisClient)\nconst acl = require(&#x27;.&#x2F;..&#x2F;config&#x2F;acl&#x27;).acl\n\n&#x2F;**\n * 登录权限控制\n * @param {String} model 权限的模块\n * @param {String} auth 权限名称\n *&#x2F;\nmodule.exports = function (model, auth) {\n  return async function (ctx, next) {\n    const token = ctx.headers[&#x27;x-access-token&#x27;]\n    if (token) {\n      jwt.verify(token, secret, function (err, decoded) {\n        if (err) {\n          ctx.throw(403, &#x27;token已过期&#x27;)\n        } else {\n          &#x2F;&#x2F; 使用redis进行登录的验证, 避免没有登录的时候, 使用之前的token进行访问\n          &#x2F;&#x2F; 从token中获取id信息以及角色信息\n          const { id, role } = decoded\n          getAsync(id).then(res =&gt; {\n            if (!res) return ctx.throw(403, &#x27;token失效&#x27;)\n            ctx.decoded = decoded\n            if (!model || !auth) {\n              next()\n            } else {\n              &#x2F;&#x2F; 接口权限验证\n              acl.areAnyRolesAllowed(role, model, auth, function (err, result) {\n                if (result) {\n                  next()\n                } else {\n                  return ctx.throw(403, &#x27;没有操作权限&#x27;)\n                }\n              })\n            }\n          }).catch(err =&gt; {\n            return ctx.throw(403, &#x27;token失效&#x27;)\n          })\n        }\n      })\n    } else {\n      ctx.throw(403, &#x27;缺少token信息&#x27;)\n    }\n  }\n}\n\n</code></pre><p>下面是我auth的schema的设计</p>\n<pre class=\"prettyprint language-js\"><code>const mongoose = require(&#x27;mongoose&#x27;)\nconst Schema = mongoose.Schema\n\nconst AuthSchema = new Schema({\n  &#x2F;&#x2F; 权限的代码\n  code: {\n    type: String,\n    unique: true,\n    required: true\n  },\n  &#x2F;&#x2F; 权限的名称\n  name: {\n    type: String,\n    required: true\n  }\n})\n\nmodule.exports = AuthSchema\n</code></pre><p><strong>一个疑问，在做权限判断的时候，我应该使用auth的code还是auth的ObjectId做判断？？？？？？？</strong></p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(876, '请问我这样获取异步处理结果为什么不可取？', 'Daxong', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>let watchOfUpper = 0\n&#x2F;&#x2F;按理说应该当upper有了值之后立即返回\nprimary_junior_high_classify.prototype.getUpper = function () {\n    while (upper == undefined &amp;&amp; upper == null ) {\n        if (watchOfUpper == 0) {\n            console.log( &quot;客官您的数据已经下锅了，请稍后(～￣▽￣)～&quot;)\n            watchOfUpper = 1\n        }\n    }\n    return upper\n}\n下面是调用该方法部分，计算upper值的是一个异步方法\nlet temp = require(&quot;.&#x2F;app&quot;).primary_junior_high_classify\nlet aa = new temp()\nconsole.log(aa.getTags())\n</code></pre></div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(875, '用jmeter压测nodejs 并发1000 循环100次 错误率比较高 是因为什么', 'cc349230468', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FsnxGoOp2ILEQgR4CAz12QsIZpTY\" alt=\"QQ图片20180830101759.png\">\n<img src=\"//static.cnodejs.org/Fo9N2_4nP5T7ifaNSSz-9qHiYJiz\" alt=\"QQ图片20180830101806.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FsnxGoOp2ILEQgR4CAz12QsIZpTY', 1537347913, 1546275661, '客户端测试', 0, 0),
(873, 'vscode该如何配置launch.json配置文件？（webpack指令启动的话）', 'Bob-huang-gdut', '', '<div class=\"markdown-text\"><p>指令 “web-dev”: “webpack-dev-server --config webpack.web.dev.js -p --open --hot --inline”,\n<img src=\"//static.cnodejs.org/Flqf5G0c0yz0Q-wUbjpoviyckJpX\" alt=\"TIM图片20180319170337.png\">\n<img src=\"//static.cnodejs.org/Fq91mh_y9jo7vl0PgTmLJ8coK6Ee\" alt=\"TIM图片20180319170343.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Flqf5G0c0yz0Q-wUbjpoviyckJpX', 1537347913, 1546275661, '客户端测试', 0, 0),
(874, 'win7上启动pm2会弹出node命令框', 'sunzhengtao', '', '<div class=\"markdown-text\"><p>在win7环境下使用pm2启动nodejs进程，会弹出两个node命令框 并且无法关闭。怎么能解决这个问题 。不让node命令框弹出来。<img src=\"//static.cnodejs.org/FiZIY7xSdvT0JMw4ACJqdGCiEcF-\" alt=\"E8A56163-3DB2-4ff4-AC2E-CF5E6B616761.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FiZIY7xSdvT0JMw4ACJqdGCiEcF-', 1537347913, 1546275661, '客户端测试', 0, 0),
(872, '询问一个Node.js 的资源分配问题，如何对不同来源的请求分配不同资源？', 'aircloud', '', '<div class=\"markdown-text\"><p>目前有一个 node 的监控系统，遇到的一个问题是这样的：</p>\n<p>监控系统接入了几个前端站点，这里比如 <a href=\"http://A.com\">A.com</a>，<a href=\"http://B.com\">B.com</a>，<a href=\"http://C.com\">C.com</a>…等等\n相应的数据会上报给监控系统，然后监控系统根据请求到达时间来处理，由于处理没那么快，所以用 redis 维护了一个生产-消费队列。</p>\n<p>但目前的一个问题是，假设A.com的请求巨多，实际上也会很大影响 <a href=\"http://B.com\">B.com</a>，<a href=\"http://C.com\">C.com</a>…等等其他的。\n由于一些原因，不能给每一个前端站点都分配一个单独的后端服务，所以它们是共用监控系统的。\n另外，将来接入的前端站点越来越多，每一个站点对应一个线程也是做不到的…(当然我也没试过这样是否有效)</p>\n<p>目前自己还能想到一些算法方面的优化，比如对 生产-消费队列 进行重新排序等等，暂时还没实际尝试，想再问问各位有没有什么完善有效的方式，或者已经实践过的方式处理这些问题？谢谢～</p>\n<p>需要我补充任何内容的话，也可以留言～</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(869, '想找个类似 uc 内部项目 wa 报表的项目，埋点数据分析开源解决方案', 'mzTeamMeatMan', '', '<div class=\"markdown-text\"><p>请问有人用过吗，就是一个数据仓库平台的项目，通过接口把数据传过去，然后根据收集的数据自定义各种报表</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(870, 'Meteor 是什么？实际项目中用的多吗？和 egg.js Koa比如何？', 'vueper', '', '<div class=\"markdown-text\"><p>Meteor 是什么？</p>\n<p>实际项目中用的多吗？</p>\n<p>Meteor和 egg.js Koa比如何？</p>\n<p>有用过的老铁吗</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(871, '请问:如何返回request中res.on的数据给前端', 'wanfeifei', '', '<div class=\"markdown-text\"><p>代码如下,现在要返回spool的值给前端使用，应该如何实现：\n		http.createServer((request, response) =&gt; {\n		console.log(request.url);\n		var pathname = url.parse(request.url).pathname;\n		var js_code = url.parse(request.url, true).query.js_code;\n		var options = new URL(‘url’);\n		const req = https.request(options, (res) =&gt; {\n				var spool = ‘’;\n				res.on(‘data’, (d) =&gt; {\n					spool += d;\n				});\n				res.on(‘end’, () =&gt; {\n					console.log(JSON.parse(spool));\n				});\n			});\n		req.end();\n}).listen(8000);</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(868, '关于支付宝生活号的事件通知gbk转码问题', 'BrotherPeng', '', '<div class=\"markdown-text\"><p>sign=hzrLp0FanpUxWuFDp%2BNTwiMzYBguBxneEadFeyD1ikLl5oBtLF69JDN1%2FZQsa%2BJl%2FneoqT8q%2BEVaF5Wr3hRKuJnZtKMCZsIMwelmBfkAf0vobPy5BsgLNtBlc79xiOxO3SAmgrW03GLeiqkkqBMVO%2FmTy3sLK4eF%2B%2FcmdNlJrxr8CxRrNvFostwy8m5uYD0ryK7zaYxxrWvK3dKwxmdgitJaw0W7nxtPhukP1Q8LSPHKo5W6K7%2Bj%2BHNo%2FliWlExtiluoSSD3FsUAqdDD0Ql8i344N74vkGFDwgsQNZ94lm52vFrqgdw3hWnIeCGJjEu3DVCTXa6JFTH1Sx7U4cUKUw%3D%3D&amp;charset=GBK&amp;biz_content=%3CXML%3E%3CEventType%3E%3C%21%5BCDATA%5Bunfollow%5D%5D%3E%3C%2FEventType%3E%3CActionParam%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C%2FActionParam%3E%3CFromAlipayUserId%3E%3C%21%5BCDATA%5B20886073%5D%5D%3E%3C%2FFromAlipayUserId%3E%3CAppId%3E%3C%21%5BCDATA%5B201806202%5D%5D%3E%3C%2FAppId%3E%3CMsgType%3E%3C%21%5BCDATA%5Bevent%5D%5D%3E%3C%2FMsgType%3E%3CCreateTime%3E%3C%21%5BCDATA%5B1535631075929%5D%5D%3E%3C%2FCreateTime%3E%3CFromUserId%3E%3C%21%5BCDATA%5B208800056313400%5D%5D%3E%3C%2FFromUserId%3E%3CMsgId%3E%3C%21%5BCDATA%5B545cfb058f774cd98c1dfca2b5ef9343%5D%5D%3E%3C%2FMsgId%3E%3CAccountNo%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C%2FAccountNo%3E%3CAgreementId%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C%2FAgreementId%3E%3CUserInfo%3E%3C%21%5BCDATA%5B%7B%22logon_id%22%3A%22979**%<a href=\"http://40qq.com\">40qq.com</a>%22%2C%22user_name%22%3A%22*%D4%C6%C5%F4%22%7D%5D%5D%3E%3C%2FUserInfo%3E%3C%2FXML%3E&amp;sign_type=RSA2&amp;service=alipay.mobile.public.message.notify</p>\n<p>有以上这么一段事件消息，我总是验签不通过，而且querystring.parse的时候user_name的中文是乱码，各位可不可以帮我用什么函数转换一下呢\n<em>new Iconv(‘GBK’,‘UTF-8’).convert(decodeStr).toString() 似乎不起作用，不知道我是不是使用方式不对</em></p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(867, 'mongoose populate 似乎不起作用。困惑我已经两天了', 'BengBu-YueZhang', '', '<div class=\"markdown-text\"><p>问题描述\nmongoose populate 似乎不起作用, 另人疑惑的是, 我在项目另一个地方使用，它是正常的</p>\n<p>问题出现的环境背景及自己尝试过哪些方法\nmongodb: 4.0.1\nmongoose: 5.2.9</p>\n<p>相关代码</p>\n<pre class=\"prettyprint language-js\"><code>&#x2F;&#x2F; dinner.model.js\nconst mongoose = require(&#x27;mongoose&#x27;)\nconst Schema = mongoose.Schema\n\nconst DinnerSchema = new Schema({\n  name: {\n    type: String\n  },\n  content: {\n    type: [{\n      type: Schema.Types.ObjectId,\n      ref: &#x27;Food&#x27;\n    }]\n  }\n})\n\nconst Dinner = mongoose.model(&#x27;Dinner&#x27;, DinnerSchema, &#x27;dinners&#x27;)\n\nmodule.exports = Dinner\n\n</code></pre><pre class=\"prettyprint language-js\"><code>&#x2F;&#x2F; food.model.js\n\nconst mongoose = require(&#x27;mongoose&#x27;)\nconst Schema = mongoose.Schema\n\nconst FoodSchema = new Schema({\n  name: {\n    type: String\n  }\n})\n\nconst Food = mongoose.model(&#x27;Food&#x27;, FoodSchema, &#x27;foods&#x27;)\n\nmodule.exports = Food\n\n</code></pre><pre class=\"prettyprint language-js\"><code>router.get(&#x27;&#x2F;test&#x27;, async (ctx, next) =&gt; {\n  const result = await DinnerModel.find().populate({\n    path: &quot;foods&quot;\n  })\n  ctx.result = {\n    code: 200,\n    data: {\n      list: result,\n      msg: &#x27;success&#x27;\n    }\n  }\n  await next()\n})\n\n</code></pre><p>你期待的结果是什么？实际看到的错误信息又是什么？\n是什么原因导致的？</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(866, '部署服务端的时候  permission denied: pm2 错误', 'atony2099', '', '<div class=\"markdown-text\"><p><strong>zsh:1: permission denied: pm2\n○ hook test\n○ successfully deployed origin/master\n–&gt; Success</strong></p>\n<p>用pm2 部署到center os 服务器的时候发生这个错误，无法启动pm2 。但是在服务器 pm2 start 可以正常启动pm2</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(864, '有没有直接用nodejs开发的项目可以学习的？', 'xionggen', '', '<div class=\"markdown-text\"><p>最近想学习一下nodejs，但我发现网上的项目教程几乎都是依赖框架（express/koa）完成的，有没有那种直接使用nodejs核心api，不使用框架开发的项目可以借鉴学习一下的？</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(865, 'nodejs如何高性能的使用mongodb watch？', 'szluohua', '', '<div class=\"markdown-text\"><p>背景: socket.io+redis+nodejs+mongodb搭建的聊天系统。\n现在我需要做集群部署服务节点。由于需要监听数据库变化。我使用了mongodb的 <code>db.collection.watch()</code>.在单节点都是正常的。但是当我希望部署多节点的时候，会出现多节点重复监听的情况。现在我的想法是使用cluster，在主进程监听，子进程不监听，这样可以吗？但这样当数据库写入频繁的时候，会不会出问题？</p>\n<pre class=\"prettyprint language-javascript\"><code>	MongooseModels.room.watch({fullDocument: &#x27;updateLookup&#x27;}).on(&#x27;change&#x27;,  (data) =&gt; {\n		const doc = data.fullDocument;\n		if (doc &amp;&amp; doc.usernames) {			\n			_.forEach(doc.usernames, (val) =&gt; {\n				io.of(&#x27;s_room&#x27;).in(val.userId).emit(&#x27;rooms-changed&#x27;, {type: data.operationType, doc});\n			});	\n		}\n	});\n</code></pre></div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(861, '在页面中显示代码', 'yuanshuai007', '', '<div class=\"markdown-text\"><p>例如下面的效果是怎样做到的？？？有什么库吗？\n<img src=\"//static.cnodejs.org/Fvbv0fqc2ruSoZUfc68Y9BcVTAqS\" alt=\"2018-08-30_232545.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fvbv0fqc2ruSoZUfc68Y9BcVTAqS', 1537347913, 1546275661, '客户端测试', 0, 0),
(862, '网页音乐播放器，（同域名）当前页面进行音乐播放，跳转另外一个链接（当前页面打开），怎样让音乐不停止并继续播放？', 'wiscgazf', '', '<div class=\"markdown-text\"><p>网页音乐播放器，（同域名）当前页面进行音乐播放，跳转另外一个链接（当前页面打开），怎样让音乐不停止并继续播放？，</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(863, '有没有特别便宜的服务器推荐，要求不高，学习使用', 'SharksevenRo', '', '<div class=\"markdown-text\"><p>最近想弄个服务器学习下，怎么搭建服务</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(859, '豆瓣FM，音频为什么选用mp4文件，用mp3不是挺好的么？有人能从技术上给个解释么', 'chapgaga', '', '<div class=\"markdown-text\"><p>豆瓣音乐用的mp3，Chromium可以正常播放\nFM就没法播放了\n同样是音频，都用最通用的mp3不是挺好么？</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(860, '请教：cluster 多进程读相同文件 fd 问题', 'vincentLiuxiang', '', '<div class=\"markdown-text\"><p>代码如下：</p>\n<pre class=\"prettyprint language-js\"><code>const cluster = require(&#x27;cluster&#x27;);\nconst http = require(&#x27;http&#x27;);\nconst fs = require(&#x27;fs&#x27;);\nconst numCPUs = require(&#x27;os&#x27;).cpus().length;\n\nif (cluster.isMaster) {\n  console.log(&#96;Master ${process.pid} is running&#96;);\n\n  &#x2F;&#x2F; Fork workers.\n  for (let i = 0; i &lt; numCPUs; i++) {\n    cluster.fork();\n  }\n\n  cluster.on(&#x27;exit&#x27;, (worker, code, signal) =&gt; {\n    console.log(&#96;worker ${worker.process.pid} died&#96;);\n  });\n\n} else {\n  http.createServer((req, res) =&gt; {\n    res.writeHead(200);\n    res.end(&#x27;hello world\\n&#x27;);\n  }).listen(8080, function() {\n    fs.open(&#x27;.&#x2F;test.txt&#x27;, &#x27;a&#x27;, (err, fd) =&gt; {\n      console.log(err, fd);\n    })\n  });\n\n  console.log(&#96;Worker ${process.pid} started&#96;);\n}\n</code></pre><p>结果：\n<img src=\"//static.cnodejs.org/Fvme-F91Gvcw7HGSgE-WL4WjY-bF\" alt=\"image.png\"></p>\n<p>文件 fd 是相同的，请问是怎么做到的？</p>\n</div>', '', 63, '//static.cnodejs.org/Fvme-F91Gvcw7HGSgE-WL4WjY-bF', 1537347913, 1546275661, '客户端测试', 0, 0),
(858, '新手求问 如何规避从param中取到undefined导致插入或编辑数据库报错', 'zj9495', '', '<div class=\"markdown-text\"><p>代码如下</p>\n<pre class=\"prettyprint language-js\\n\"><code>let postData = ctx.request.body\nlet data = {\n      vend_id: postData.vend_id,\n      vend_name: postData.vend_name,\n      remark: postData.remark\n    }\nsquel.update()\n      .table(&#x27;vendors&#x27;)\n      .setFields(data)\n      .where(&#x27;vend_id = ?&#x27;, postData.vend_id)\n\\n&#96;&#96;&#96; \n\nparams为post提交过来的数据\nremark是非必填字段 有的时候前端没有传过来remark字段就会导致remark取到undefined squel就会报  field value must be a string, number, boolean, null or one of the registered custom value types的错误\n有什么好的办法规避这种情况吗\n目前我是写个clearProp方法清除data中为undefined的属性 感觉每次insert或者update之前都要调用一次特别的麻烦\n我看一位5年的JAVA前同事写的nodejs代码 是把不需要的一些属性比如token之类的删除之后直接把postData插入到数据库 这样操作合适吗 感觉不太安全啊\n有什么好的办法规避吗？\n第一次在cnode发帖 多多包涵</code></pre></div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(857, '请教一个死锁的问题', 'dlyt', '', '<div class=\"markdown-text\"><p>我在一个事务里执行了3条 sql 分别是:</p>\n<pre class=\"prettyprint language-sql\"><code>select * from table where mobile = ? for update\nselect prizeId,count(*) as amount from table where prizeRegion = ? group by prizeRegion,prizeId for update\ninsert into table (mobile,prizeId,prizeName,prizeRegion) values (?,?,?,?)\n</code></pre><p>空表的时候并发会发生死锁, 但是当表中有数据的时候就不会. 不知道哪里的问题?</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(854, 'node js 调用 C++程序', 'quanpf2481', '', '<div class=\"markdown-text\"><p>做了一个小项目，需求是利用海康威视的网络摄像头，来监控某个区域，如果有人出现的话呢，就上报告警信息，本来我是想着用萤石云来获得相关的消息的，但是需要付费，所以只能通过海康产品自己的SDK来二次开发了，我后台是用node js写的，现在海康这个是用C++写的，我要写一段C++的程序，来监听网络摄像头，看是否有报警，写好之后，应该怎么样用node js 来调用这段C++的代码，以获得报警信息，从而为在node js程序里面进行处理提供相应的参数呢？？？</p>\n</div>', '', 63, '', 1537347912, 1546275661, '客户端测试', 0, 0),
(855, 'egg一定要连上数据库才能启动服务吗', 'dryqiao', '', '<div class=\"markdown-text\"><p>egg一定要在config.default.js里的所有配置都连上之后，才能启动服务吗？\n	有一个连不上就报错，业务复杂配置多的时候这样是不是不太好？</p>\n</div>', '', 63, '', 1537347912, 1546275661, '客户端测试', 0, 0),
(856, 'node js 模拟网页爬取数据', 'quanpf2481', '', '<div class=\"markdown-text\"><p>最近在学习爬虫，发现有的网站直接爬取是爬取不到的，想模拟浏览器的方式来爬取数据，各位有没有什么好的思路或者参考的例子？？谢谢！！</p>\n</div>', '', 63, '', 1537347913, 1546275661, '客户端测试', 0, 0),
(853, 'mongodb问题,搜索了很久还是没有头绪,希望有大佬看看', 'LiChangyi', '', '<div class=\"markdown-text\"><p>我采用mongoose来操作mongodb，搭建了一个博客。。我有一个集合是tag标签集合，有一项数据是 articlenum (文章数：意思是属于该标签的文章篇数)，，，因为以前学过一点mysql，知道里面有触发器这个东西，每当对文章增删查改的时候，都会自动的更新数目，但是好像mongoose里面没有。。\n现在我有一个想法是: 每当文章进行更新后，重新读一遍数据库，把每个标签的文章数，读取出来，然后赋值存进数据库。但是操作起来比较麻烦，，所以不知道，各位大佬有什么好一点的建议，或者指明另外一条道路。。。谢谢！！</p>\n</div>', '', 63, '', 1537347912, 1546275661, '客户端测试', 0, 0),
(852, '有做小程序的同学，帮忙看一个问题，关于分享黑屏的', 'liujavamail', '', '<div class=\"markdown-text\"><p>小程序分享的时候，有的android机器，分享出来的小程序会是黑屏的， 有遇到过这种情况的同学没， 有解决方案吗 ?\n<img src=\"//static.cnodejs.org/FmI2UGw2bXYycGqpInP75sPTR52W\" alt=\"WechatIMG1147.jpeg\"></p>\n</div>', '', 63, '//static.cnodejs.org/FmI2UGw2bXYycGqpInP75sPTR52W', 1537347912, 1546275661, '客户端测试', 0, 0),
(850, '实习还没结束，但我提前辞职了', 'Arthur-lt', '', '<div class=\"markdown-text\"><p>我应聘web前端，他没让我做web前端，而是从数据库提取数据。我做了一个月感觉学不到什么，提前辞职了，老板不愿意，但我强行辞职了，最后老板让我去弄个实习结束证明，我弄了，老板就百般推辞，今天推明天。我想我可不可以不要这个实习结束证明</p>\n</div>', '', 63, '', 1537347912, 1546275661, '客户端测试', 0, 0),
(851, 'node 微服务架构是否会降低后端的效率和响应时间，有没有什么解决办法呢？', 'aircloud', '', '<div class=\"markdown-text\"><p>问题描述：</p>\n<p>最近在使用 node 构建一个数据处理系统，涉及到的模块较多，因此打算采用微服务架构，目前使用了一个微服务框架 Seneca，采用 tcp 进行通信。</p>\n<p>Seneca 微服务主要负责和db通信、以及数据处理计算（不是很耗时的计算）。</p>\n<p>这里大部分数据处理计算的工作都可以延时完成，但是前端 http 的返回和其中的一部分工作比如数据库查询工作有关，所以需要等待某些微服务模块有返回结果了（或返回部分结果了）再返回给前端。\n于是我通过ab测试发现：采用 Seneca 的方式比原来各个模块写在一起直接引入的方式，效率要低好多，比较坏的情况下，甚至平均响应时间是原来的 1.5 倍。\n这个也不难理解，毕竟会有通信的开销，还可能因为采用了 Seneca 造成其他的隐形成本。</p>\n<p>我现在有点迷茫，采用了微服务的话，可以使模块之间解藕，对开发有一定方便，但是却会降低效率，感觉有些得不偿失。\n我对微服务的理解也并不深刻，只是觉得能在代码维护上给这种单体系统带来好处，另外就是微服务的单个服务方便扩容。</p>\n<p>是不是我的使用方式不对？还是说微服务本来就有降低效率这个问题？各位是如何解决的呢？希望能指点一二。</p>\n</div>', '', 63, '', 1537347912, 1546275661, '客户端测试', 0, 0),
(847, 'node 有类似 zookeeper 的包么？ 最好是 typescript ？', 'zuohuadong', '', '<div class=\"markdown-text\"><p>网上找了很多，都很简单～</p>\n<p>有没有大神自己开发的？</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(848, '多个文件可以将export合并吗？', 'six-666', '', '<div class=\"markdown-text\"><p>a.js</p>\n<p>export function a () {}</p>\n<hr>\n<p>b.js\nexport function b () {}</p>\n<p>index.js\n我想将a.js 和 b.js    export合并进来</p>\n<p>然后其他页面引入 index.js  就可以用a 和 b的导出的方法。    能实现不？\nimport {a,b} from ‘index.js’</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0);
INSERT INTO `hos_article` (`id`, `title`, `author`, `description`, `content`, `md`, `author_id`, `banner_img`, `dateline`, `fuck_date`, `tags`, `agree`, `disagree`) VALUES
(849, 'Ngnix反向代理Koa 站点，经常出现响应很慢的问题，是连接数的问题吗？', 'coocssweb', '', '<div class=\"markdown-text\"><p>用Koa中间层，作为站点的前后端分离方案。在测试机上跑起来都很正常。\n但是到公司的Beta服务器上，发现会经常性的出现响应慢的问题。\n但是从node写的日志文件发现，前端渲染和接口转发时间都很短，也没有捕获到错误日志。\n看beta服务器的性能，1G内存才跑（40%），cpu也才非常低。\n所以怀疑是不是Ngnix反向代理也需要配置最大链接数呢？\n下面是页面渲染时间 和 接口相应时间的日志。\n麻烦有相关经验的，帮忙分析一下。看日志接口时间和模板渲染时间都比较正常，所以比较懵！\n==================== 模板渲染时间 ================\n[2018-08-31T18:14:35.375] [TRACE] templateFile - 129ms: index.html\n[2018-08-31T18:14:39.959] [TRACE] templateFile - 552ms: index.html\n[2018-08-31T18:16:08.142] [TRACE] templateFile - 193ms: detail.html\n[2018-08-31T18:16:16.518] [TRACE] templateFile - 87ms: buy/checkout.html\n[2018-08-31T18:16:19.379] [TRACE] templateFile - 53ms: buy/payment.html\n[2018-08-31T18:17:06.490] [TRACE] templateFile - 183ms: index.html\n[2018-08-31T18:17:11.651] [TRACE] templateFile - 170ms: index.html\n[2018-08-31T18:17:12.944] [TRACE] templateFile - 110ms: detail.html\n[2018-08-31T18:17:14.953] [TRACE] templateFile - 85ms: buy/checkout.html\n[2018-08-31T18:17:17.254] [TRACE] templateFile - 208ms: buy/payment.html\n[2018-08-31T18:20:57.980] [TRACE] templateFile - 261ms: index.html\n[2018-08-31T18:21:16.759] [TRACE] templateFile - 171ms: list.html\n[2018-08-31T18:21:19.340] [TRACE] templateFile - 143ms: cart.html\n[2018-08-31T18:21:21.449] [TRACE] templateFile - 60ms: personal.html\n[2018-08-31T18:21:28.152] [TRACE] templateFile - 845ms: index.html\n[2018-08-31T18:21:29.853] [TRACE] templateFile - 412ms: index.html\n[2018-08-31T18:21:32.637] [TRACE] templateFile - 34ms: personal.html\n[2018-08-31T18:21:39.674] [TRACE] templateFile - 32ms: list.html</p>\n<p>=============后端接口相应时间=====================\n[2018-08-31T18:04:48.525] [TRACE] dateFile - 10ms: cart/cart/delete_checkout.json\n[2018-08-31T18:04:48.582] [TRACE] dateFile - 34ms: trade/trade/payment.json\n[2018-08-31T18:04:51.277] [TRACE] dateFile - 404ms: trade/payment/wxpay_wap.json\n[2018-08-31T18:05:06.451] [TRACE] dateFile - 296ms: block/block/item_list.json\n[2018-08-31T18:12:49.071] [TRACE] dateFile - 585ms: block/block/item_list.json\n[2018-08-31T18:14:32.664] [TRACE] dateFile - 167ms: block/block/item_list.json\n[2018-08-31T18:14:35.374] [TRACE] dateFile - 127ms: block/block/item_list.json\n[2018-08-31T18:14:39.959] [TRACE] dateFile - 551ms: block/block/item_list.json\n[2018-08-31T18:15:45.583] [TRACE] dateFile - 77ms: cart/cart/get_list.json\n[2018-08-31T18:15:45.609] [TRACE] dateFile - 58ms: product/product/evaluation_list\n[2018-08-31T18:15:45.665] [TRACE] dateFile - 105ms: promotion/coupon/get_list\n[2018-08-31T18:15:46.969] [TRACE] dateFile - 83ms: cart/cart/checkout.json\n[2018-08-31T18:16:07.549] [TRACE] dateFile - 78ms: account/account/callback.json\n[2018-08-31T18:16:07.575] [TRACE] dateFile - 26ms: cart/cart/merge.json\n[2018-08-31T18:16:08.018] [TRACE] dateFile - 147ms: cart/cart/get_list.json\n[2018-08-31T18:16:08.024] [TRACE] dateFile - 154ms: promotion/coupon/get_list</p>\n<p>请大神帮忙看一下。</p>\n</div>', '', 63, '', 1537347912, 1546275661, '客户端测试', 0, 0),
(846, '关于grpc-node的ssl，还有egg-grpc的问题', 'HobaiRiku', '', '<div class=\"markdown-text\"><p>其实可能主要是我对ssl证书不熟悉的问题，想请教各位大神ssl证书到底有什么，阿里云盾申请的那些都什么意思。\n目前一个应用，已经确定使用egg来做，而且需要用grpc去访问一个服务器，这个服务器是用go的grpc+grpc-gateway直接做的RESTful和grpc一体的一个服务，启用了ssl，证书是阿里云免费1年的那种：\n<img src=\"//static.cnodejs.org/Fkk7BtseXQxYrURPf1QlVSkebQev\" alt=\"Snipaste_2018-08-31_21-41-34.png\">\n所以使用grpc的时候就要创建ssl的rpc，在官方上看到：\n<img src=\"//static.cnodejs.org/FvzwNVrMi8YNncVtZXWpgYVHgB2X\" alt=\"Snipaste_2018-08-31_21-26-51.png\">\n不是很理解这个<code>root_certs</code>是什么，也看了源码声明，除了这个可以选，还可以有客户端的privateKey、certChain、以及一个verifyOptions的回调，但是也不清楚该怎么弄，我拿阿里云下载的几个key那些似乎都没能正常发出请求，如何获取这些东西呢？\n另外就是因为egg有grpc的插件，但是这个插件似乎还没有把创建ssl的方式提供给客户，还是目前已经有方法使用egg-grpc创建ssl连接？\n<img src=\"//static.cnodejs.org/FlCW0zXGW9q7GjbrFvz9c-cBUGNk\" alt=\"Snipaste_2018-08-31_21-33-17.png\">\n查了一些资料还是不太清晰，求助各位。\n--------------------2018-09-03更新:\n经过了一些学习再测试得出一下几个点：</p>\n<ol>\n<li>grpc在ssl模式下似乎并不支持直接ip连接，反正只要连接中是127.0.0.1什么的，都会连接失败（这个也是之前一直无法创建连接的原因），通过grpc-gateway包装出来的restful可以ssl+ip访问；</li>\n<li>grpc-node ssl连接的参数的确是可选的，虽然学习了一些，但是还是没完全弄懂；</li>\n<li>grpc连接和连接grpc-gateway创建的restful速度基本相同；\n所以，目前项目的设计上，感觉如果要使用127.0.0.1这样架构和配置，好像直接使用restful来的方便；</li>\n</ol>\n</div>', '', 63, '//static.cnodejs.org/Fkk7BtseXQxYrURPf1QlVSkebQev', 1537347911, 1546275661, '客户端测试', 0, 0),
(845, '反斜杠转义字符的处理？', 'oracle-li', '', '<div class=\"markdown-text\"><p>我想要生成一个json文件，字段会包含正则字符串，字符串里又包含反斜杠转义符。但我发现node直接把转义符去掉了 <code>a\\/b</code> -&gt; <code>a/b</code>。当我把转义符也转义的时候，又两个都保留了。<code>a\\\\/b</code> -&gt; <code>a\\\\/b</code>。所以我应该怎么做才能在文件里保留<code>a\\/b</code>这个字符串？</p>\n<p><a href=\"https://github.com/nodejs/node/issues/3717\">issue</a></p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(844, 'nodejs写好了接口怎么放到服务器上去啊。', 'xiuxiumomo', '', '<div class=\"markdown-text\"><p>我自己有一个虚拟主机，然后问客服是否可以放上去，他说虚拟主机不支持nodejs要用云服务器，查了一下价格最便宜的要600+/年，表示用不起…<img src=\"//static.cnodejs.org/Fg1rZc9h0jPw7WWZh7uIPOfroIbg\" alt=\"k.png\"> ,自己还处于学习阶段（node+express+mysql），只是想体验一下。大家个人nodejs写的接口是放到什么服务器上的啊.</p>\n</div>', '', 63, '//static.cnodejs.org/Fg1rZc9h0jPw7WWZh7uIPOfroIbg', 1537347911, 1546275661, '客户端测试', 0, 0),
(843, '高并发下,token过期怎么处理?', 'oyosc', '', '<div class=\"markdown-text\"><p><a href=\"https://github.com/oyosc/blog\">react+koa+mongodb+redis 个人技术博客</a></p>\n<h3>现在遇到了一个问题，就当你在高并发或者不断刷新时，会提示token已经使用过一次，请重新登录。我这边的规则是token使用了一次就不能再继续使用，所以会出现多个请求带着相同的token来请求，这就导致后面的请求可能会出现token已经使用了一次而需要重新登录的问题，目前解决的方案是把请求里带的token头以key存到redis里，但是还是有可能会出现redis里没有这个token的key,想问下还有没有其他的解决办法呢？</h3>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(841, '有用 websocket 做过聊天室的朋友么？', 'KAROTT7', '', '<div class=\"markdown-text\"><p>我公司做的是聊天室，之前都是用轮询，不过多人同时发信息时还是会有问题试了很多方法，还是会有小概率丢失数据或者出现两条同样的数据。\n现在想转websocket，想问问一两千个人对服务器压力有多大？有什么工具能做这样面的测试？\n求分享。</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(842, '用vscode，如何开心地对html进行注释呢？', 'chapgaga', '', '<div class=\"markdown-text\"><p>对style和script进行注释，竟然使用<code>&lt;!-- --&gt;</code>，只好手动，逐行注释，太麻烦了。  没找到合适的注释插件</p>\n<p>网上反应这个问题的人好像不少，刚才用最新版1.26vscode测试了下，还是存在这个问题</p>\n<p>各位是如何解决这个问题的？</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(840, '在egg框架下，app文件夹中新建model来创建Service服务对数据库单个表的CURD操作，然后在Service文件夹中引用model中的文件写对多个表进行操作，问题如下：', 'black-giser', '', '<div class=\"markdown-text\"><p>在service层文件中调用自定义的model文件夹下的car.js\n如下:\nthis.ctx.model.car.list()\n然后在测试时返回错误是car is undefined。\n求解我这样理解错在哪里了，有什么推荐的解决方案呢?\nThanks in advance!</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(839, '请教一下，cnode@用户，如果使用中文用户名，为什么at会不起作用？', 'dpc761218914', '', '<div class=\"markdown-text\"><p>想借助egg-cnode的代码，实现一个小论坛，可以用中文用户名登录了，好像@会不起作用。不清楚什么情况。打印content日志，用户名是中文content中@的用户名好像没有了。</p>\n<p><img src=\"//static.cnodejs.org/FhJrefbPIvxFypsryCFTlLOlHYyV\" alt=\"QQ截图20180903231547.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FhJrefbPIvxFypsryCFTlLOlHYyV', 1537347911, 1546275661, '客户端测试', 0, 0),
(837, 'socket io 重连机制', 'quanpf2481', '', '<div class=\"markdown-text\"><p>做了一个聊天的app，用的是socket io作为长连接，首次登陆成功后，可以正常聊天，然后退出登陆，再重新登陆，进入了聊天室，但是却没有反应，消息也发不出去，有没有大神知道怎么回事啊？？求指导！！！！</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(838, '怎么理解 mongodb中返回的 command cursor？sos', 'Magic-zhu', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>&#x2F;&#x2F;获取数据中所有的集合\nrouter.get(&quot;&#x2F;listAllCollections&quot;, async (ctx, next) =&gt; {\n    let {query} = ctx;\n    const url = &#x27;mongodb:&#x2F;&#x2F;&#x27;+query.host+&#x27;:&#x27;+query.port;\n    const dbName = query.dbName;\n    await MongoClient.connect(url).then(async (client, err) =&gt; {\n        const db = client.db(dbName);\n        await db.listCollections().toArray().then((docs) =&gt; {\n            return ctx.body = {\n                statusCode: 200,\n                msg: &quot;获取成功&quot;,\n                data: docs\n            }\n        }, (err) =&gt; {\n            console.log(err);\n            return ctx.body = {\n                statusCode: 403,\n                msg: &quot;数据库错误&quot;\n            }\n        })\n    })\n});\n</code></pre><p>db.listCollections() 官方文档 上写的是返回一个 command cursor  ，虽然能用了  但是不太明白如何更好的理解这个东西 。</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(836, 'nodejs 官网代码问题', 'linxiaoziruo', '', '<div class=\"markdown-text\"><p>下面代码不能正常运行</p>\n<pre class=\"prettyprint\"><code>const http = require(&#x27;http&#x27;);\nconst net = require(&#x27;net&#x27;);\nconst url = require(&#x27;url&#x27;);\n\n&#x2F;&#x2F; 创建一个 HTTP 代理服务器\nconst proxy = http.createServer((req, res) =&gt; {\n  res.writeHead(200, { &#x27;Content-Type&#x27;: &#x27;text&#x2F;plain&#x27; });\n  res.end(&#x27;okay&#x27;);\n});\nproxy.on(&#x27;connect&#x27;, (req, cltSocket, head) =&gt; {\n  &#x2F;&#x2F; 连接到一个服务器\n  const srvUrl = url.parse(&#96;http:&#x2F;&#x2F;${req.url}&#96;);\n  const srvSocket = net.connect(srvUrl.port, srvUrl.hostname, () =&gt; {\n    cltSocket.write(&#x27;HTTP&#x2F;1.1 200 Connection Established\\r\\n&#x27; +\n                    &#x27;Proxy-agent: Node.js-Proxy\\r\\n&#x27; +\n                    &#x27;\\r\\n&#x27;);\n    srvSocket.write(head);\n    srvSocket.pipe(cltSocket);\n    cltSocket.pipe(srvSocket);\n  });\n});\n\n&#x2F;&#x2F; 代理服务器正在运行\nproxy.listen(1337, &#x27;127.0.0.1&#x27;, () =&gt; {\n\n  &#x2F;&#x2F; 发送一个请求到代理服务器\n  const options = {\n    port: 1337,\n    hostname: &#x27;127.0.0.1&#x27;,\n    method: &#x27;CONNECT&#x27;,\n    path: &#x27;www.google.com:80&#x27;\n  };\n\n  const req = http.request(options);\n  req.end();\n\n  req.on(&#x27;connect&#x27;, (res, socket, head) =&gt; {\n    console.log(&#x27;已连接！&#x27;);\n\n    &#x2F;&#x2F; 通过代理服务器发送一个请求\n    socket.write(&#x27;GET &#x2F; HTTP&#x2F;1.1\\r\\n&#x27; +\n                 &#x27;Host: www.google.com:80\\r\\n&#x27; +\n                 &#x27;Connection: close\\r\\n&#x27; +\n                 &#x27;\\r\\n&#x27;);\n    socket.on(&#x27;data&#x27;, (chunk) =&gt; {\n      console.log(chunk.toString());\n    });\n    socket.on(&#x27;end&#x27;, () =&gt; {\n      proxy.close();\n    });\n  });\n});\n</code></pre></div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(833, 'Promise.all()  如果有一个错误，不走 catch ？', 'liangtongzhuo', '', '<div class=\"markdown-text\"><p>Promise.all()  如果有一个错误，不走 catch ？\n我的场景是有多个网络请求，其中一个错误或者超时也需要拿到数据。</p>\n<p>我自己用了其它方法可以实现，但是没有其它好的库？</p>\n<p>谢谢</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(834, 'vue源码怎么调试?npm是如何找到vue文件的', 'R0USHAN', '', '<div class=\"markdown-text\"><p>我现在项目出了bug,keepalive的时候想动态缓存的时候inclue失效,有点烦了,想看看源码,看能不能调试,但是现在require的时候根本不知道怎么找到这个文件的,这我根本调试不了啊</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(835, '请推荐一款采用nodejs构建的用户、权限、角色管理的框架，急需做后台管理', 'winfan', '', '<div class=\"markdown-text\"><p>据自己了解的  draywall 还可以，但是增加了grunt, backbone.js,入门门槛比较高\nkeystonejs只是个框架，发现入门槛比较高\n要求简单的nodejs+express  jade模版引擎的，jquery,  不需要含有有grunt,less,backbonejs，AngularJS,EmberJS之类的</p>\n<p>各位Nodejser  请问有好的推荐的吗？</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(830, '如何处理node的ECONNRESET异常？', 'shishuo365', '', '<div class=\"markdown-text\"><p>在nodejs上构建应用，当发起大量http/https请求后，就会触发ECONNRESET异常，此异常出现2次时，整个应用假死，只有重启进程，尝试用各种手段捕获异常都未成功</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(831, '新手刚做注册登录功能，使用token进行权限管理，个人感觉没必要啊，新手，求教', 'ailuhaosi', '', '<div class=\"markdown-text\"><p>若别人没有我的用户名、密码，那我的账号自然安全，用不用token都安全。\n若别人有了我的用户名、密码，用了token也还是一样，别人还是能登录，用不用token都不安全。\n<strong>总结：从上面两点来看，账号的安全与token没什么关系，关键是用户名、密码是否被窃取。</strong>\n所以我认为token不是没必要么。下面有我使用token的方法，不知对不对。</p>\n<p>使用token步骤：\n1.判断用户名密码是否正确\n2.若正确则生成token发送到客户端。生成token如下：\nconst secret = ‘aaa’; //撒盐：加密的时候混淆\nuser.token = jwt.sign(user.toJSON(), secret, {\nexpiresIn: 60 * 60 * 5 //5小时到期时间\n}); //process.env.JWT_SECRET\n3.客户端保存token到cookie里面，客户端需要访问授权页面时，把token加到ajax的headers里面。\n4.根据客户端传来的token进行解码，如下：\njwt.verify(bearerToken, ‘aaa’, function (err, decoded) {\nif (!err) {\nconsole.log(‘decoded=’ + decoded.username +’;;’+decoded.password); //如果超时，则有错误。\nreq.body.username = decoded.username;\nreq.body.password = decoded.password;\n}\n})</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(832, '调社区的接口，增加评论的时候的问题', 'Chen-Page', '', '<div class=\"markdown-text\"><p>我用的是微信小程序调的接口，想增加评论，回复帖子的时候没问题，但是在回复别人的评论的时候，好像出了问题，使用了相关的reply_id的，但是传到服务器的好像没有那个加上<a href=\"/user/XXX\">@XXX</a>，打印服务器的回复消息好像也是正确的，那个<a href=\"/user/XXX\">@XXX</a> 是需要我自己去添加的么？</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(827, '提升js水平，是不是应该学习一下C，接触一下底层', 'beilunyang', '', '<div class=\"markdown-text\"><p>渣渣想提升一下js水平，是不是应该学习一下C，接触一下底层？</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(828, 'mpvue 引入第三方库（vant）时，报错，如下', 'RajanZhan', '', '<div class=\"markdown-text\"><p>错误信息\nVM1749:1 thirdScriptError\nsdk uncaught third Error\nCannot read property ‘defaultView’ of undefined\nTypeError: Cannot read property ‘defaultView’ of undefined\nat Object.global.webpackJsonp.module.exports</p>\n<pre class=\"prettyprint\"><code>main.js\n![mpvue.png](&#x2F;&#x2F;static.cnodejs.org&#x2F;FsD81bbrI4LgJ6b5tAajq-iPkzik)</code></pre></div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(829, 'nvm alias default <version> 失效', 'jiayiming001', '', '<div class=\"markdown-text\"><p>** 问题我已经截图**\n使用了nvm alias default 8.11.1  以后再使用nvm current 结果还是none？\n<strong>笨方法</strong>\n在 ~/.bash_profile中添加 nvm use 8.11.1\n这样就可以在每次终端启动的时候执行这条命令\n<img src=\"//static.cnodejs.org/FpHiCkPfZP2fNVMNBRnUjOx0dQRl\" alt=\"nvmpro.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FpHiCkPfZP2fNVMNBRnUjOx0dQRl', 1537347911, 1546275661, '客户端测试', 0, 0),
(819, 'socket.io还有mongdb在发送数据时是统一转换成字符串发送还是字节流发送？', 'jinkankakushoujo', '', '<div class=\"markdown-text\"><p>比如一个字节数组，socket.io还有mongdb在发送时是会先转到字符串还是以字节流方式直接发送？\n如果转成字符串再发送的话，那么发字节数组可能还没发DataUrl小。\n还有就是数值和布尔值，如果都转成字符串发送，那么比起用布尔值，不如直接就0和1更小。</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(820, '大家都是怎么赚外快的？', 'OXOYO', '', '<div class=\"markdown-text\"><p>比如：私活、自己运营网站/APP/公众号/小程序等等</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(821, '关于koa-jwt中的用法', 'zkassing', '', '<div class=\"markdown-text\"><h1>已解决</h1>\n<hr>\n<p>分割线（以下为原问题）\n解决方法\n	弃用koa-jwt 单独使用jsonwebtoken 使用了<a href=\"/user/hewentaowx\">@hewentaowx</a> <a href=\"https://cnodejs.org/user/hewentaowx\">hewentaowx</a>的方法\n	创建了中间件利用jsonwebtoken验证，验证成功后才去走下一步，感谢大家的帮助，谢谢</p>\n<hr>\n<p>网上找了很多问题但都没有找到对应的解决办法\nkoa-jwt中提供了unless写法\n但是我我的接口中比如\n/artilce/:id  是获取文章详情的\n/article/:id/collection 是收藏文章使用的\n那么我再使用第二个接口时需要发送token，还有其他和第二个类似的但不需要token，那么有什么方法能够让我去匹配到后者而不匹配前者。或者有没有其他能够解决的办法。望大神指教</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(822, 'eggjs 处理文件过长 会引起 socket hang up (req \"error\"),', 'shenjianzch', '', '<div class=\"markdown-text\"><p>前台会有一个比较大的Excel表格导入 等待的时间 在两分钟左右吧 但是我单独设置了timeout:[5000,120000] 但是 只处理了一部分就直接返回</p>\n<p><img src=\"//static.cnodejs.org/Fizsf8u5VL__cSNp8ByWAuVwtRSs\" alt=\"image.png\"></p>\n<p>现在我的布局是前台是vue+egg 然后 前端上传excel文件 上传到自己的egg服务器 在自己的egg服务器会去处理excel 转换成有效的数组格式 传到服务端（服务端也是egg写的service）\n求解惑下 怎么避免这个错误</p>\n</div>', '', 63, '//static.cnodejs.org/Fizsf8u5VL__cSNp8ByWAuVwtRSs', 1537347911, 1546275661, '客户端测试', 0, 0),
(823, 'nodejs一个数组可以存储多大的数据？', 'gyj1278', '', '<div class=\"markdown-text\"><p>定义了一个数组，一直往里放东西，大bug上线了，请问，这个数组能放多大的数据？如果超过，会报什么错？</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(824, '在RBAC 鉴权方面的知识，想请教下老哥们', 'dengnan123', '', '<div class=\"markdown-text\"><p>我现在在做一套管理系统 ,关于权限方面,想按照RBAC的方式设计，是自己在数据库设计好字段，还是用服务器的中间件，比如kong，想在这方面有经验的老哥们说下经验</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(825, '我需要判断层叠文件夹是否存在，写了一段煞笔代码，求大神指点如何优化。', 'morelearn1990', '', '<div class=\"markdown-text\"><p>想通过日期来创建层叠文件夹并将文件放到对应的文件夹内。</p>\n<pre class=\"prettyprint\"><code>try {\n      fs.accessSync(&#96;app&#x2F;public&#x2F;upload&#x2F;${year}&#x2F;${&#x27;&#x27;+month+date}&#96;&#96;, fs.constants.F_OK | fs.constants.W_OK);\n    } catch (error) {\n      try {\n        fs.accessSync(&#96;app&#x2F;public&#x2F;upload&#x2F;${year}&#96;, fs.constants.F_OK | fs.constants.W_OK);\n      } catch (error) {\n        fs.mkdirSync(&#96;app&#x2F;public&#x2F;upload&#x2F;${year}&#96;);\n      }\n      fs.mkdirSync(&#96;app&#x2F;public&#x2F;upload&#x2F;${year}&#x2F;${&#x27;&#x27;+month+date}&#96;);\n    }\n</code></pre><p>这段代码我感觉有点傻，但是不知道怎么优化，node 萌新，求指点</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(826, '如何准确计算一段 JavaScript 代码的执行时间？ console.time/timeEnd ，new Date.now()，Performance 对象这三个计算出来的时间正确吗？', 'tmxklzp', '', '<div class=\"markdown-text\"><p>昨天发在了<a href=\"https://www.v2ex.com/t/477737\">https://www.v2ex.com/t/477737</a>上，但是回复比较少……</p>\n<p>我想获取浏览器(Chrome)环境下一整段 JavaScript 代码中每一小段代码精确的执行时间，使用了三种计算方式：</p>\n<pre class=\"prettyprint\"><code>1.console.time、console.timeEnd 配合使用\n2.console.log(new Date().getTime())\n3.console.log(performance.now())\n</code></pre><p>但是这三种方式计算出来的时间都和我“观察感觉到的时间”有所差异，实际使用断点进行 debug 时也有同样的感觉。</p>\n<p>debug 时感觉每小段代码的耗时和感觉一致：代码循环和递归多的地方耗时长，一两行的地方耗时短，使用上述三种计算方式时会出现:本应该耗时长的代码段算出来的时间短、本应该耗时很短的地方显示的时间很长的情况，甚至出现了两个连在一起的 console 计算出来的时间差了 500ms，例如：</p>\n<pre class=\"prettyprint\"><code>&#x2F;&#x2F; 前面的代码，省略\n......\n&#x2F;&#x2F; 中间某段代码\nconsole.log(&quot;calcBefore&quot;, performance.now())\n&#x2F;&#x2F; 一个有很多循环和递归计算的代码\ncalculate()\nconsole.log(&quot;calcAfter1&quot;, performance.now())\nconsole.log(&quot;calcAfter2&quot;, performance.now())\nconsole.log(&quot;calcAfter3&quot;, performance.now())\nconsole.log(&quot;calcAfter4&quot;, performance.now())\n&#x2F;&#x2F; 后面的代码，省略\n......\n&#x2F;&#x2F; 打印结果\ncalcBefore 573.499999998603\ncalcAfter1 633.2000000038533\ncalcAfter2 1221.1999999999534\ncalcAfter3 1222.6000000009662\ncalcAfter4 1223.5000000000582\n</code></pre><p>这个问题可以稳定复现，如果将calculate()注释掉的话时间正常，如下图：</p>\n<pre class=\"prettyprint\"><code>console.log(&quot;calcBefore&quot;, performance.now())\ncalculate()\nconsole.log(&quot;calcAfter1&quot;, performance.now())\nconsole.log(&quot;calcAfter2&quot;, performance.now())\n\n&#x2F;&#x2F; console\ncalcBefore 1134.9999999947613\ncalcAfter1 1214.80000000156\ncalcAfter2 1878.7000000011176\n\n\nconsole.log(&quot;calcBefore&quot;, performance.now())\n&#x2F;&#x2F;calculate()\nconsole.log(&quot;calcAfter1&quot;, performance.now())\nconsole.log(&quot;calcAfter2&quot;, performance.now())\n\n&#x2F;&#x2F; console\ncalcBefore 669.3999999988591\ncalcAfter1 671.6000000014901\ncalcAfter2 672.5000000005821\n</code></pre><p>搜了一下，没有发现很多相关资料，只有知乎的一篇文章：<a href=\"https://zhuanlan.zhihu.com/p/28978126\">https://zhuanlan.zhihu.com/p/28978126</a> 描述了类似的事情。</p>\n<p>问 jjc 大佬得到的回复：“凡是带有 gc 和 jit 的 runtime，统计都会不准确”。</p>\n<p>希望得到更详细一点的解释，或者能指明一个技术点或知识文章让我自己去学习。\n恳请大佬解惑。感谢！</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(817, '各位大佬，求一个网站的现成框架', 'linxiaoziruo', '', '<div class=\"markdown-text\"><p>买了个服务器，想自己做一个类似 OA 的系统。不想写那些重复性代码，想自己改改就能用。</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(818, 'nginx的upstream模块 设置 keepalive 引发的报错？', 'JustforNode', '', '<div class=\"markdown-text\"><p>nginx的server模块的主要配置：\n<img src=\"//static.cnodejs.org/Fkv-M3d2eq3mp8hDQuhdIUPemMUQ\" alt=\"image.png\">\nupstream模块的主要配置</p>\n<pre class=\"prettyprint\"><code>upstream api.server {\n    server 192.168.3.16:9097 weight=2;\n    server 192.168.3.16:9098 weight=2;\n    server 192.168.3.17:9097 weight=5;\n	server 192.168.3.17:9098 weight=5;\n    server 192.168.3.18:9097 weight=9;\n    server 192.168.3.18:9098 weight=9;\n    keepalive 30000;\n}\n</code></pre><p>查看资料的解释keepalive 的作用是保持与服务端的长连接，从性能角度考虑，需要设置keepalive，\n但是线上配置了 keepalive 30000; 确比较频繁的大约十分钟报一次这个错，upstream prematurely closed connection while reading response header from upstream\n<img src=\"//static.cnodejs.org/Ft3iSmMMC4WOtAj_pYzPcp5oKVB1\" alt=\"image.png\">\n然后把这个 keepalive 30000; 配置去掉之后，就不报这个错了，有哪位兄台给解释下原因吗？</p>\n</div>', '', 63, '//static.cnodejs.org/Fkv-M3d2eq3mp8hDQuhdIUPemMUQ', 1537347911, 1546275661, '客户端测试', 0, 0),
(816, 'log4js配置问题求解', 'vitozyf', '', '<div class=\"markdown-text\"><h3>求解log4js这样配置为什么所有信息都会跑到两个文件，并没有分类？</h3>\n<h3>附上代码：</h3>\n<h4>配置如下：</h4>\n<pre class=\"prettyprint\"><code>&#x2F;&#x2F; ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; MARK &lt; OFF\nconst config = {\n  appenders: {\n    loginfo: {\n      type: &#x27;file&#x27;,\n      filename: &#x27;Logs&#x2F;application.log&#x27;,\n      pattern: &quot;yyyy-MM-dd&quot;,\n      level: &#x27;DEBUG&#x27;,\n      maxLevel: &#x27;WARN&#x27;,\n      layout: {\n        type: &#x27;json&#x27;,\n        separator: &#x27;,&#x27;\n      }\n    },\n    logerror: {\n      type: &#x27;dateFile&#x27;,\n      filename: &#x27;Logs&#x2F;error.log&#x27;,\n      pattern: &quot;yyyy-MM-dd&quot;,\n      level: &#x27;error&#x27;,\n      maxLevel: &#x27;error&#x27;,\n      layout: {\n        type: &#x27;json&#x27;,\n        separator: &#x27;,&#x27;\n      }\n    }\n  },\n  categories: {\n    default: {\n      appenders: [&#x27;loginfo&#x27;, &#x27;logerror&#x27;],\n      level: &#x27;debug&#x27;\n    },\n    loginfo: {\n      appenders: [&#x27;loginfo&#x27;],\n      level: &#x27;info&#x27;\n    },\n    logerror: {\n      appenders: [&#x27;logerror&#x27;],\n      level: &#x27;error&#x27;\n    }\n  },\n  pm2: true\n}\nmodule.exports = config\n</code></pre><h4>测试代码：</h4>\n<pre class=\"prettyprint\"><code>    Logger.error(&#x27;0000000000000000000&#x27;)\n    Logger.info(&#x27;111111111111111111111111&#x27;)\n</code></pre><h4>日志文件application.log和error.log输出如下，都输出一样，没分类：</h4>\n<pre class=\"prettyprint\"><code>{&quot;startTime&quot;:&quot;2018-08-17T09:00:09.723Z&quot;,&quot;categoryName&quot;:&quot;default&quot;,&quot;data&quot;:[&quot;0000000000000000000&quot;],&quot;level&quot;:{&quot;level&quot;:40000,&quot;levelStr&quot;:&quot;ERROR&quot;,&quot;colour&quot;:&quot;red&quot;},&quot;context&quot;:{},&quot;pid&quot;:19936},\n{&quot;startTime&quot;:&quot;2018-08-17T09:00:09.724Z&quot;,&quot;categoryName&quot;:&quot;default&quot;,&quot;data&quot;:[&quot;111111111111111111111111&quot;],&quot;level&quot;:{&quot;level&quot;:20000,&quot;levelStr&quot;:&quot;INFO&quot;,&quot;colour&quot;:&quot;green&quot;},&quot;context&quot;:{},&quot;pid&quot;:19936},\n</code></pre></div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(815, 'express + nginx 部署后使用端口可以访问，但是反向代理为 404', 'unbrain', '', '<div class=\"markdown-text\"><p>使用 pm2</p>\n<pre class=\"prettyprint language-shell\"><code>pm2 start bin&#x2F;www \n[PM2] Starting &#x2F;home&#x2F;mars&#x2F;nginx&#x2F;sticky-note&#x2F;bin&#x2F;www in fork_mode (1 instance)\n[PM2] Done.\n┌──────────┬────┬──────┬───────┬────────┬─────────┬────────┬─────┬───────────┬──────┬──────────┐\n│ App name │ id │ mode │ pid   │ status │ restart │ uptime │ cpu │ mem       │ user │ watching │\n├──────────┼────┼──────┼───────┼────────┼─────────┼────────┼─────┼───────────┼──────┼──────────┤\n│ www      │ 0  │ fork │ 26484 │ online │ 0       │ 0s     │ 0%  │ 12.1 MB   │ mars │ disabled │\n└──────────┴────┴──────┴───────┴────────┴─────────┴────────┴─────┴───────────┴──────┴──────────┘\n Use &#96;pm2 show &lt;id|name&gt;&#96; to get more details about an app\n</code></pre><p>使用端口访问没有问题\n<img src=\"//static.cnodejs.org/Fvg_URSyiXd6Mp9dDLoGMBdmVkHu\" alt=\"深度截图_选择区域_20180819113222.png\">\n配置 nginx.conf</p>\n<pre class=\"prettyprint\"><code>server{\n	listen 80;\n	root &#x2F;home&#x2F;mars&#x2F;nginx&#x2F;demo;\n	location &#x2F;note{\n		proxy_pass http:&#x2F;&#x2F;127.0.0.1:3000;\n	}\n}\n</code></pre><p>访问为 404\n<img src=\"//static.cnodejs.org/FgAjtxbc6VgFmYek0Hq0EemKoZ9L\" alt=\"深度截图_选择区域_20180819113846.png\"></p>\n<p>有兄弟知道如何解决这个问题么\n我希望通过配置 nginx 能通过 zhaoyang.space/note 访问到 zhaoyang.space:3000\n感觉是代码路径的问题，但是不懂</p>\n</div>', '', 63, '//static.cnodejs.org/Fvg_URSyiXd6Mp9dDLoGMBdmVkHu', 1537347911, 1546275661, '客户端测试', 0, 0),
(814, 'express 权限控制问题，求优雅解决方案，谢谢', 'JChehe', '', '<div class=\"markdown-text\"><p>我是下面这样实现权限控制的，但我觉得有点问题，如：\n①每个路由都要写 前缀 <code>/system_admin/</code> 以适配控制权限的中间件，非常冗余；\n②系统有多种角色，如果一些路由只有部分角色才有权限访问的话，该又如何写呢？</p>\n<pre class=\"prettyprint\"><code>router.all(&quot;&#x2F;system_admin&#x2F;*&quot;, function(req, res, next) {\n	if (req.session.user.role == 0) {\n		return next();\n	} else {\n		return next(new Error(&quot;权限不足&quot;))\n	}\n})\n\nrouter.get(&quot;&#x2F;system_admin&#x2F;system_user_list&quot;, system_admin.system_user_list)\nrouter.get(&quot;&#x2F;system_admin&#x2F;doctor_list&quot;, system_admin.doctor_list)\nrouter.get(&quot;&#x2F;system_admin&#x2F;patient_list&quot;, system_admin.patient_list)\nrouter.post(&quot;&#x2F;system_admin&#x2F;add_system_user&quot;, system_admin.add_system_user)\nrouter.post(&quot;&#x2F;system_admin&#x2F;edit_system_user&quot;, system_admin.edit_system_user)</code></pre></div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(813, 'node发出的请求数多了，整体响应变慢，不清处影响的因素是什么，求解惑。', 'THROFHR', '', '<div class=\"markdown-text\"><p>大概是这样的，我有个需求，需要向某个api 不断的请求，而且数量不小，有点像压力测试吧</p>\n<pre class=\"prettyprint\"><code>const fetch = require(&#x27;node-fetch&#x27;);\nconst funs = async () =&gt; {\n  const now = Date.now();\n  await fetch(&#x27;https:&#x2F;&#x2F;www.baidu.com&#x2F;&#x27;);\n console.log(i, &#96;start:${now}&#96;, &#96;end:${Date.now()}&#96;, &#96;use:${Date.now() - now}&#96;);\n};\n</code></pre><p>在我的机器上跑，发现  同时跑 10、100、1000得到的结果时间相差太多</p>\n<pre class=\"prettyprint\"><code> for (let i = 0; i &lt; 10; i += 1) {\n   funs(i);\n }\n &#x2F;&#x2F; funs log的时间大概是 80-100ms 递增\n \n for (let i = 0; i &lt; 100; i += 1) {\n   funs(i);\n }\n &#x2F;&#x2F; funs log的时间大概是 500-800ms 递增\n \n for (let i = 0; i &lt; 1000; i += 1) {\n   funs(i);\n }\n &#x2F;&#x2F; funs log的时间大概是 1000-5000ms 递增\n</code></pre><h6>部分评论的尝试</h6>\n<pre class=\"prettyprint\"><code>&#x2F;&#x2F;01，尝试设置maxSockets \nhttps.globalAgent.maxSockets = 1000;\nhttps.globalAgent.maxFreeSockets = 1000;\n</code></pre><pre class=\"prettyprint\"><code>&#x2F;&#x2F;02，用原生https尝试设置new Agent  \nconst https = require(&#x27;https&#x27;);\nconst $get = (i) =&gt; {\n  const now = Date.now();\n  const agent = new https.Agent();\n  const options = {\n    hostname: &#x27;www.baidu.com&#x27;,\n    port: 443,\n    method: &#x27;GET&#x27;,\n    agent: false, &#x2F;&#x2F; agent\n  };\n  https.get(options, () =&gt; {\n    console.log(i, &#96;start:${now}&#96;, &#96;end:${Date.now()}&#96;, &#96;use:${Date.now() - now}&#96;);\n  }).on(&#x27;error&#x27;, () =&gt; {\n    console.log(i, &#96;start:${now}&#96;, &#96;end:${Date.now()}&#96;, &#96;use:${Date.now() - now}&#96;);\n  });\n};\n\nfor (let i = 0; i &lt; 1000; i += 1) {\n  $get(i);\n}\n&#x2F;&#x2F;结果还是没变化\n</code></pre><h5>不明白造成请求的时间变长的具体原因是啥？</h5>\n<p>瞎猜1 node有类似浏览器一样有请求数限制？</p>\n<p>瞎猜2 TCP链接数限制？</p>\n<h5>希望能解决： 10000并发以内不会出现大幅度延迟</h5>\n<h4>有没有大佬帮忙解惑？</h4>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(812, '请问用electron-packager 在mac下打包打出来怎么是个文件名.app文件啊', 'shenjianzch', '', '<div class=\"markdown-text\"><p>在mac文件中都看不到 求告知 谢谢了</p>\n<p><img src=\"//static.cnodejs.org/FmI7lg8rBXyodmL__FUvHY0SfTmO\" alt=\"image.png\">\n就是这样的\n命令是这样的<img src=\"//static.cnodejs.org/FniblYDIZov5MzwzVGmr0H2R1q6w\" alt=\"image.png\">\n在vscode中能看到这个文件夹 但是在finder中没有\n<img src=\"//static.cnodejs.org/FiAJpJ8ZJOqTR1fovelYrXc-Rp8r\" alt=\"image.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FmI7lg8rBXyodmL__FUvHY0SfTmO', 1537347911, 1546275661, '客户端测试', 0, 0),
(811, '求解答   const proto = module.exporst = {} 是什么意思呀，怎么理解呀', 'heguangda', '', '<div class=\"markdown-text\"><p>最近看源码看到一些const proto = module.exports = {} 之类的写法，这是什么意思来的呀</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(807, 'Jenkins+Docker部署Node应用（Mongo+Redis）', 'tinycold', '', '<div class=\"markdown-text\"><p>我有一个Node应用，用到了Mongo和Redis，现在想要用jenkins做CI。</p>\n<p>jenkins是直接在服务器上用apt-get下载的，直接安装在服务器上。\nNode，Mongo，Redis都用docker做支持。</p>\n<p>我目前是分了几个stages，第一个stage启动Mongo，第二个stage启动Redis，第三个stage才是在Node中启动应用。\nJenkinsfile大致为：</p>\n<pre class=\"prettyprint\"><code>pipeline {\n    agent none\n    stages {\n        stage(&#x27;Mongo&#x27;) {\n            agent {\n                docker { image: &#x27;mongo:latest&#x27; }\n            }\n            steps {\n                sh &#x27;mongod&#x27;\n            }\n        }\n        stage(&#x27;Redis&#x27;) {\n            agent {\n                docker { image: &#x27;redis:latest&#x27; }\n            }\n            steps {\n                sh &#x27;xx&#x27;\n            }\n        }\n        stage(&#x27;Deploy&#x27;) {\n            agent {\n                docker { image: &#x27;node:8.9.0&#x27; }\n            }\n            steps {\n                sh &#x27;npm --version&#x27;\n                sh &#x27;npm --version&#x27;\n                sh &#x27;npm install&#x27;\n                sh &#x27;npm start&#x27;\n            }\n        }\n    }\n}\n</code></pre><p>出了自己写个dockerfile把Node+mongo+redis搞到一个image里之外，还有没有什么更优雅的实现方法？</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(808, 'nodejs 相对路径比较复杂，例如const foo = require(\'../../../foo.js\')，有什么好的解决方案吗？', 'AfterThreeYears', '', '<div class=\"markdown-text\"><p>类似webpack里alias</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(809, '微信端的h5应用，想用service worker做一个首屏缓存，让用户离线也能用，结果发现不行，有没有人做过类似的', 'jiyarong', '', '<div class=\"markdown-text\"><p>微信端的h5应用，想用service worker做一个首屏缓存，让用户离线也能用，结果发现不行，有没有人做过类似的</p>\n<p>貌似首屏不让离线，非得进去之后，才能开始离线，这就有点没意思了</p>\n</div>', '', 63, '', 1537347911, 1546275661, '客户端测试', 0, 0),
(810, 'express不重启进程，热更新路由。', 'zhang962976642', '', '<div class=\"markdown-text\"><p><strong>事发原因</strong></p>\n<p>最近因公司需求，做一个仓管管理系统，其中产品提了一个功能需求，她要自己在后台可视化控制路由功能，<strong>手动添加修改停用某些后台路由</strong>功能。考虑到node是启动时，读本地配置文件，路由等配置存在<strong>内存中</strong>。</p>\n<p><strong>问题二</strong></p>\n<p>另外还有一个问题，想请教一下各位，路由的权限码，是单纯的写在配置文件中，还是数据库中好一些，考虑到存在数据库中，每次进入路由，路由中间件去查库鉴权，有无这个必要，请问一下常用的路由权限控制，大家怎么做。</p>\n<p><strong>测试流程</strong></p>\n<p>上午抽空测试了一下，本地读取文件分发路由控制器，通过post请求读取本地路由配置，通过pm2 reload all重启，发现一直在重启中。然后会断开连接，请问这种情况如何解决，或者说有什么思路实现产品提的需求吗。</p>\n<p><strong>1. 初始路由</strong><br>\n<img src=\"//static.cnodejs.org/FuxpPT34FPGykPc-yzeJbjh01jLM\" alt=\"1.png\"><br>\n<strong>2. 新增路由</strong><br>\n<img src=\"//static.cnodejs.org/FpahTotybrrpZheFRN56doKrxOiK\" alt=\"2.png\"><br>\n<strong>3. exec调用pm2 reload all时 pm2 日志信息</strong><br>\n<img src=\"//static.cnodejs.org/Fiwzu5iaT8QghupWlCpZkU827wLk\" alt=\"3.png\"><br>\n<strong>4. 代码</strong><br>\n<img src=\"//static.cnodejs.org/FrqO3nFdnKQR4aCfa99nfmlIaatO\" alt=\"6.png\"><br>\n<strong>5. 本地路由表</strong><br>\n<img src=\"//static.cnodejs.org/FtUVX2MxfgRuLqrYjndaSgSkQndi\" alt=\"4.png\"><br>\n<strong>6. 这个时候会一直等待响应，这是我本人强行在reload一边的结果</strong><br>\n<img src=\"//static.cnodejs.org/FtwaFbEFA7N5lI-CisZVFbz5tZ6U\" alt=\"5.png\"></p>\n<p>请问有什么解决方式没，或者如何设计可以满足这个需求。<br>\n如果没有解决方案，<em>是否需要同产品干架</em>？，这算不算为难我这个小前端。\n再次谢谢诸位！</p>\n<p>BY：栀九月 、2018/08/18</p>\n</div>', '', 63, '//static.cnodejs.org/FuxpPT34FPGykPc-yzeJbjh01jLM', 1537347911, 1546275661, '客户端测试', 0, 0),
(806, '使用const加箭头函数声明函数相对于function声明函数有什么好处？', 'ta7sudan', '', '<div class=\"markdown-text\"><p>看很多开源项目声明函数时都是用const加箭头函数</p>\n<pre class=\"prettyprint language-js\"><code>const test = () =&gt; {\n  &#x2F;&#x2F; ...\n}\n</code></pre><p>相比较于普通的function声明</p>\n<pre class=\"prettyprint language-js\"><code>function test() {\n  &#x2F;&#x2F; ...\n}\n</code></pre><p>有什么好处? 有利于编译器优化还是? 不然个人感觉function应该更加符合语义吧\n补充下: this绑定这种区别就不用说了，比较关心的是对于那些没有用到this的函数，这样写的好处</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(805, '不确定个数的回调函数怎么等待全部回调之后再执行下一步？', 'helloMane', '', '<div class=\"markdown-text\"><p>例如，我这里需要动态获取url地址，个数不确定，然后使用\nfunction funcA(){\nhttp.request(options, (ret) =&gt; {\n	  //TODO\n})\n}\n怎么样在所有回调全部执行后再执行下一步？另外，有些url的访问可能会超时（超过3m之后才会返回超时信息），该怎么处理？</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(804, 'pomelo 多 connector 剔除 session', 'linkenliu', '', '<div class=\"markdown-text\"><pre class=\"prettyprint language-bash\"><code>比如有多个connector（connector-1,connector-2)。\n1.场景是这样的，用户用多个设备登陆同一个账号的时候 ，剔除掉之前登陆设置的session。\n2.我现在的做法是这样的，登陆之前先检查 session 是否存在；做法是遍历所有的connector ，根据玩家ID 找出存在的session ，然后剔除掉\n3.但现在出现的问题时，当玩家A用a设备登陆（connector-1），然后玩家A用b设备登陆（connector-1），这个时候剔除的时候，会将2个设备的session都剔除掉。ps:如果玩家A用b设备登陆到connector-2  就没有问题，是的，这里很清晰了，因为session在登陆之前就已经挂载到pomelo里面了。但现在知道问题却不知道如何解决。\n</code></pre><ul>\n<li>代码</li>\n</ul>\n<pre class=\"prettyprint language-javascript\"><code>	&#x2F;&#x2F;获取session\n	 private getSessionByUid(uid, next) {\n        var connectors = this.app.getServersByType(&#x27;connector&#x27;);\n        var backendSessionService = this.app.get(&#x27;localSessionService&#x27;);\n        for (let i = 0; i &lt; connectors.length; i++) {\n            backendSessionService.getByUid(connectors[i].id, uid, function (err, sessions) {\n                if (sessions) {\n                    let session = sessions[0];\n                    if (session &amp;&amp; uid == session.uid) {\n                        next(session);\n                        return;\n                    } else {\n                        if (i == connectors.length - 1) {\n                            next(null);\n                            return;\n                        }\n                    }\n                } else {\n                    if (i == connectors.length - 1) {\n                        next(null);\n                        return;\n                    }\n                }\n            })\n        }\n    }\n	\n	\n	&#x2F;&#x2F;剔除session\n	private async checkSession(playerId) {\n        return new Promise(async (resolve, reject) =&gt; {\n        	this.getSessionByUid(playerId, async (session) =&gt; {\n                if (session) {\n                    let serverId = session.frontendId;\n                    console.log(&quot;##=======&quot; + serverId)\n                    let opts = {\n                        playerId: playerId,\n                        msg: &#x27;你的账号正在另一个设备上登录，你被迫下线。&#x27;\n                    };\n                    this.channelService.pushMessageByUid(config.channelRoute.onKick, serverId, playerId, config.redisRoom.ChessWord, opts);\n                    setTimeout( () =&gt; {\n                        session.__sessionService__.kickByUid(serverId, playerId);\n                        resolve(&#x27;ok&#x27;);\n                    },200)\n                } else {\n                    resolve(&#x27;ok&#x27;);\n                }\n            })\n        })\n    }\n</code></pre></div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(802, '如何学习，数据结构与算法？自己看一遍他人的实现，然后自己理解的敲一遍，算学习吗？', 'BengBu-YueZhang', '', '<div class=\"markdown-text\"><p>rt</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(803, '【已解决】socket.io 如何使用在小程序中', 'RajanZhan', '', '<div class=\"markdown-text\"><p>我用nodejs搭建了一个socket.io的服务器，确保没问题，并且在H5页面中连接成功，但是放到小程序中就GG了，我的小程序是在开发工具中，没有appid，请问如何解决，最好给个demo地址，感激不尽。</p>\n<p>来自酷炫的 <a href=\"https://github.com/TakWolf/CNode-Material-Design\">CNodeMD</a></p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(801, 'node处理高并发请求cpu过高的问题', 'sunstdot', '', '<div class=\"markdown-text\"><p>问题描述：\n在公司有做一个node中间层负责 merge多个后端接口返回给前端调用，现在有一情景，需要分7次请求某个后端接口，一次请求6个id，这7次可以并发请求，\n单纯压测后端接口（6个id的情况），qps可达7000，node中间层代理后 qps降到了 220左右， 去掉了其他影响条件，只是单纯的并发请求7次接口，qps也只有280左右，\ncpu占用率 高达80%，内存占用不高，应该只有socket创建产生的内存，几十M左右。\n使用strace 跟踪进程，发现是\n<img src=\"//static.cnodejs.org/Fpq8fK0ymwYAGLfaF3EN1YlqMGi0\" alt=\"image.png\">\nfutex跟读写操作占cpu使用较高\n使用pstack分析结果：\n<img src=\"//static.cnodejs.org/FsrDd7a0gTPqQI8-dpD4d5NqH4HU\" alt=\"image.png\">\nC++较弱，看样子是在创建序列化JSON对象。</p>\n<p>问题条件：\n1.打印这7次并发请求的时间，发现最后一次请求的时间 远大于前6次，应该是响应时间过长导致qps上不去，\n做了以下优化：agent的maxSocket设置为3000，keepalive为true，减少tcp握手浪费的时间，使用tcpdump抓包，确实没有了tcp握手这一步，时间有一点点减少</p>\n<ol>\n<li>单个接口(批量6个id请求后端接口)时间为 20ms左右，但是并发七个 请求 就变成了 1500ms+了 (<strong>忽略该条件，重新验证时间差不多)</strong></li>\n</ol>\n<p>令人头秃的疑问：\nsocket在资源足够的情况下理论上是可以无限创建的，这意味着request请求可以无限发起，而且node本身是异步的，网络io不需要阻塞等待，可以继续发起下一次req，如果下一个事件循环中res返回了，再进行处理。\n即使是由于node事件监听这块的性能有损耗，不能无限发起，现在的情况 也太低了， 应该到1000qps左右才算正常，（参照后端接口7000的并发）</p>\n<p>希望cnode 里的node大佬给咱解释一下这个问题。\n以上测试 都是在单纯的并发7个请求并返回给前端的情况，中间层无额外处理逻辑。\n拜谢~~</p>\n<hr>\n<p>问题补充：\n框架使用的是简化版的egg，基于koa的，请求包用的是request，并未对 http请求做额外的封装\n补充一：\n重新验证了同时发6次，7次的情况，日志里记录的时间 差不多，没有较大差异， 使用process.hrttime()记录的，应该比较准</p>\n<p>代码补充二：\n<img src=\"//static.cnodejs.org/Fh9PXRGYTk_qhaVhCVYfsUun2msL\" alt=\"image.png\"></p>\n<h1>一直在测试，把代码搞得比较丑陋，大家将就看， 1，2 分别是切割出 长度为3和4的数组，每个数组的item是 6个视频id组成的字符串，我要去后端请求这6个id的数据\n下面的promiseAll是请求接口的操作，promise.all 里面 就是request请求，没做任何其他的事情\n然后把数据返回。\n以上</h1>\n<p>补充三\n论坛里应该不止我们一家 把node 用在生产环境做中间层， 大家应该也会遇到这样的问题，还请 大佬指教 或者说一下自己的使用经验， 是不是 node本身的性能就这样？\n我觉得还是蛮值得探讨一下的</p>\n<p>问题关闭结论：\n真是很尴尬啊，测试同学的压测集群 跟我们测试机以及后端接口不是一个 运营商，属于跨机房调用了， 当时说的7000qps的压测数据 是 测试同学压测 后端同机房同运营商接口 的数据， 压测我们中间层接口的时候，变成夸机房了，所以 这个7000qps是不准的， 刚才在测试集群上 压 跨机房的 后端接口 qps大概3800左右，我在我的测试机上ab测试压 后端接口也是3800，在测试机上压本机接口127,0,0,1这个 qps 为430左右，乘以7算下来与后端的接口qps大致相当，所以node做接口转发是没问题的，node的性能以及http socket以及time_wait并不是本次的性能瓶颈。\n错的是我。\n幸好及时发现了这个问题，还是感谢社群大佬的解答，这个问题暂时不删了，希望能给犯了相同错误的同学一点警示。\n拜谢~~~</p>\n</div>', '', 63, '//static.cnodejs.org/Fpq8fK0ymwYAGLfaF3EN1YlqMGi0', 1537347898, 1546275661, '客户端测试', 0, 0),
(800, 'mongoose 关联查询 返回查询字段是一个二位数组，数组里边的数据是一个[Object,Object]', 'wiscgazf', '', '<div class=\"markdown-text\"><p>mongoose 关联查询 返回查询字段是一个二位数组，数组里边的数据是一个[Object,Object]\n<img src=\"//static.cnodejs.org/FiM4rerD6QHczc9QUZdW9DB4GoAd\" alt=\"01.png\"></p>\n<p><img src=\"//static.cnodejs.org/Fo-CAB-_KqoUiWSUzeiFvsXwgG-w\" alt=\"02.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FiM4rerD6QHczc9QUZdW9DB4GoAd', 1537347898, 1546275661, '客户端测试', 0, 0),
(799, 'node开发游戏服务器遇到的性能问题', 'wf744', '', '<div class=\"markdown-text\"><p>问题描述：\n使用node开发了一个游戏服务器，为了尽可能提高服务器的性能，服务器采用多进程的架构，前面处理玩家socket连接的是多个node进程，使用 child_process 模块，服务器启动时fork出来，而处理玩家游戏逻辑的是单独一个node进程（因为玩家之间需要交互，而且玩家都是有状态的，所以无法分成多个进程）这个作为主进程；主进程与子进程之间使用使用child_process模块内建的通讯方式进行通讯；</p>\n<p>现在服务器性能出现瓶颈，服务器同时在线去到1500人左右，CPU占用率在40+左右，目标是3000人同时在线；通过CPU Profile分析，唯一无状态的可分离出来而且比较占用CPU的，就是玩家数据读数据库和保存数据库的时候，数据库使用的是mongodb,所以现在想把读写数据库的逻辑独立到一个新的进程中；但是问题来了，由于玩家的数据是一个大的Json结构，最大的大小能达到600+K，而node的child_process模块的内建进程间通讯是通过JSON.stringify和JSON.parse来转换成字符串来进行通讯的，所</p>\n<p>以独立出来以后，性能的问题，又指向了child_process模块中的进程之间的通讯的函数，通过实验：\nJSON.strinify 一个600K+玩家的数据平均需要35ms,JSON.parse 一个600K+玩家的数据平均需要20ms，而且这两个函数都是同步的，会造成阻塞；这也就是说主进程无法把一些包含大数据处理的任务分派到其他进程去做，这也直接限制了主进程的承载量和在线玩家人数；</p>\n<p>尝试找过一写解决的方案：\n1.异步版的 JSON.stringify 和 JSON.parse ，可惜没有结果，正如这里的讨论：<a href=\"https://github.com/joyent/node/issues/7543\">https://github.com/joyent/node/issues/7543</a>\n2.为node加入多线程？node有几个多线程的库，但是貌似都不支持共享进程内存，无法操作主进程的内存，只能通过字符串进行交换数据，也就是说轮回到以上进程间的通讯问题；</p>\n<p>这个问题一直比较困扰，还没有找到好的解决方法，希望大牛来赐教</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(798, 'socket 如何 在 disconnect 的时候 知道是哪个玩家退出的？', 'linkenliu', '', '<div class=\"markdown-text\"><p>socket 如何 在 disconnect 的时候 知道是哪个玩家退出的？</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(797, 'node修改新生代半空间大小(--max-new-space-size)失败', 'Borkes', '', '<div class=\"markdown-text\"><p>node版本 v6.9.5\nmac 10.13.1\n最近在看V8垃圾回收处理，遇到两个问题不是很明白:\n首先index.js:</p>\n<pre class=\"prettyprint\"><code>let arr = []\nfor (let i = 0; i &lt; 100000; i++) {\n    arr.push(new Array(100));\n}\n</code></pre><p>查看垃圾回收日志:\n<code>node --trace_gc index.js &gt; gc.log</code>\n第一个问题是：默认64位1.4G 32位0.7G，新生代内存大小分别是32M，16M(深入浅出nodejs)，，但是gc.log里面Scavenge算法显示的内存很大，还是说括号里面的不是指大小？深入浅出书中40M就开始用标记清理算法了。</p>\n<pre class=\"prettyprint\"><code>[21881:0x103000000]        7 ms: Scavenge 2.1 (6.0) -&gt; 2.1 (7.0) MB, 0.6 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]        8 ms: Scavenge 2.1 (7.0) -&gt; 2.1 (8.0) MB, 0.6 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]       42 ms: Scavenge 3.9 (11.0) -&gt; 3.6 (13.0) MB, 0.4 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]       44 ms: Scavenge 5.0 (13.0) -&gt; 4.9 (14.0) MB, 1.8 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]       46 ms: Scavenge 5.6 (14.0) -&gt; 5.6 (19.0) MB, 1.2 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]       50 ms: Scavenge 8.8 (19.0) -&gt; 8.7 (20.0) MB, 2.2 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]       54 ms: Scavenge 9.5 (20.0) -&gt; 9.5 (31.0) MB, 3.1 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]       60 ms: Scavenge 16.6 (31.0) -&gt; 16.5 (32.0) MB, 4.3 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]       67 ms: Scavenge 17.4 (32.0) -&gt; 17.4 (55.0) MB, 6.3 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]       80 ms: Scavenge 32.2 (55.0) -&gt; 32.0 (56.0) MB, 8.2 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]       98 ms: Scavenge 33.1 (56.0) -&gt; 33.1 (70.0) MB, 17.8 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]      107 ms: Scavenge 47.7 (70.0) -&gt; 47.4 (72.0) MB, 6.0 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]      138 ms: Scavenge 48.9 (72.0) -&gt; 48.9 (86.0) MB, 31.4 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]      153 ms: Scavenge 64.0 (86.9) -&gt; 64.0 (88.9) MB, 12.3 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]      170 ms: Scavenge 65.4 (88.9) -&gt; 65.4 (102.9) MB, 17.1 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]      179 ms: Scavenge 79.7 (102.9) -&gt; 79.7 (103.9) MB, 6.7 &#x2F; 0.0 ms [allocation failure].\n[21881:0x103000000]      197 ms: Scavenge 81.1 (103.9) -&gt; 81.1 (118.9) MB, 18.0 &#x2F; 0.0 ms [allocation failure].\n</code></pre><p>第二个问题：\n我想自己设置一下新生代半空间大小，也就是：\n<code>node --max-new-space-size=1024 index.js</code>\n提示的是：\n<code>node: bad option: --max-new-space-size=1024</code>\n然后我用nodev9.0.0版本试了一下也不行。\n如果是版本升级导致这些问题的话，新版的处理算法和分配空间大小可以在哪里查看？</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(796, '求教在node用rpc的时候中间用rabbitmq传递消息多吗？', 'vincent178', '', '<div class=\"markdown-text\"><p>如题，求教在node rpc调用的时候中间用rabbitmq传递消息多吗？</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(795, 'egg.js 2.0 为什么这样写路由会只加载最后一个', 'Rock-1', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FiH-k1FHaR561f08fGv9QWlTCWw8\" alt=\"image.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FiH-k1FHaR561f08fGv9QWlTCWw8', 1537347898, 1546275661, '客户端测试', 0, 0),
(794, 'mongoose 查询时将返回结果排除_id，报错，求解答', 'ersSan', '', '<div class=\"markdown-text\"><p>代码如下，我也用了这个帖子中所说的方法 <em><a href=\"https://cnodejs.org/topic/535a290e8bdbbcf22f01c027\">如何在mongoose中执行find命令不返回_id字段？</a></em>**，一样报错，没找出来什么原因。但如果不排除 _id 就不会报错</p>\n<p><strong>代码如下</strong>：</p>\n<pre class=\"prettyprint language-nodejs\"><code>function userLogin(option, callback) {\n    userModel.findOne(option, {&quot;_id&quot;:0}).exec(function (err, result){\n        if (err) console.log(err);\n        callback(result);\n    })\n}\n</code></pre><p><strong>报错如下</strong>：</p>\n<pre class=\"prettyprint language-javascript\"><code>(node:19840) UnhandledPromiseRejectionWarning: MongooseError: No _id found on document!\n    at new MongooseError (G:\\train\\project\\Collector\\node_modules\\_mongoose@5.2.13@mongoose\\lib\\error\\mongooseError.js:13:11)\n    at model._where [as $__where] (G:\\train\\project\\Collector\\node_modules\\_mongoose@5.2.13@mongoose\\lib\\model.js:778:12)\n    at model.Model.$__handleSave (G:\\train\\project\\Collector\\node_modules\\_mongoose@5.2.13@mongoose\\lib\\model.js:217:26)\n    at model.Model.$__save (G:\\train\\project\\Collector\\node_modules\\_mongoose@5.2.13@mongoose\\lib\\model.js:255:8)\n    at G:\\train\\project\\Collector\\node_modules\\_kareem@2.2.1@kareem\\index.js:278:20\n    at _next (G:\\train\\project\\Collector\\node_modules\\_kareem@2.2.1@kareem\\index.js:102:16)\n    at process.nextTick (G:\\train\\project\\Collector\\node_modules\\_kareem@2.2.1@kareem\\index.js:452:38)\n    at process._tickCallback (internal&#x2F;process&#x2F;next_tick.js:61:11)\n(node:19840) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:19840) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n</code></pre></div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(793, '菜鸟提问，react前后同构，如何实现，首次打开ssr，之后的操作spa？', 'iloveyo123u1', '', '<div class=\"markdown-text\"><p>各位前辈好\n小弟是一个新手\n刚学react不久</p>\n<p>用react做了一个网站， 是spa的，用react16写的\n我的网站有大约10个模块， 每个模块对应不同的路由，  如 /user 是user模块    /blog 是博客模块   /news是新闻模块\n我希望每个模块的首页 能让搜索引擎抓到， 但之后的页面 因为全部要求登陆才能操作，所以不用顾及seo</p>\n<p>但是我现在遇到以下几个问题：</p>\n<ol>\n<li>当我采用ssr后，如何只让每个模块的首页使用ssr，让其他页面保持spa呢？\n2.当用户首次访问模块首页，如/blog模块，得到是ssr的内容，这时候，用户提交搜索请求，如何让这个请求是spa中的ajax请求呢？\n3.每个模块的首页是长期不变的，如何设置缓存，更好的提醒性能呢？是否有成熟方案呢？</li>\n</ol>\n<p>简单的说，就是希望 没有登陆的用户（包含搜索引擎），看到的是ssr， 登陆的用户，看到的是spa</p>\n<p>请各位前辈指点一二， 谢谢</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(790, '求助！open file map error', 'Ethan-Fung', '', '<div class=\"markdown-text\"><p><strong>问题</strong>：输入所有有关node命令都报这个错! 连卸载命令都报错<a href=\"//static.cnodejs.org/Foljg-Sg_dEeP8lg1Z5lQm2wa7Tr\">8E900406-A13D-40f8-A386-9A5229C3F886.png</a>\n<strong>触发</strong>：无条件触发，周五还可以的，今天跑项目时就报错了\n<strong>尝试解决</strong>：未解决，试过手动卸载node.js，删除所有关于npm的文件，清除无效注册表，重启，重新安装，但都无效。\n百度google都没有相关信息，希望各位大牛帮下忙解决这个棘手的问题</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(791, '你有得意的开源项目吗？发出来秀秀', 'OXOYO', '', '<div class=\"markdown-text\"><p>RT</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(792, '公司打算前后完全分离，请问前端和后端人员比例是多少比较合适呢？', 'ishanyang', '', '<div class=\"markdown-text\"><p>目前java有6个人</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(789, '在用egg-socket时,遇到了一点问题，麻烦懂的老哥们看下', 'dengnan123', '', '<div class=\"markdown-text\"><p>前端控制台一直报错如下：\n<img src=\"//static.cnodejs.org/Fu9sAsSJERq5JUvkW1X9DuQrW3TK\" alt=\"image.png\">\n后台这边也报错\n<img src=\"//static.cnodejs.org/FrTom56iobi14WE3wMFFCXMmgpZ9\" alt=\"image.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fu9sAsSJERq5JUvkW1X9DuQrW3TK', 1537347898, 1546275661, '客户端测试', 0, 0),
(788, '【问】node如何读取本地图片并显示在浏览器', 'ASCII26', '', '<div class=\"markdown-text\"><p>如题，我折腾了好久啊，简直是无头绪啊。。。。附上代码，各位大神帮忙看看怎么搞：\nvar http = require(‘http’),\nfs = require(‘fs’);</p>\n<p>fs.readFile(’./avatar.jpg’,‘binary’,function(err, file) {\n	if (err) {\n	  console.log(err);\n	  return;\n	}else{\n	  http.createServer(function(req, res) {\n	    res.writeHead(200, {‘Content-Type’: ‘image/jpeg’});\n	    res.write(file,‘binary’);\n	    res.end();\n	    return;\n	  }).listen(8888);\n	}\n});</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(787, 'egg-mongoose如何先异步获取配置再创建连接？', 'HobaiRiku', '', '<div class=\"markdown-text\"><p>今天突然想在工程内把数据库连接的配置做成文件加载或者远程获取，如果没有的话就默认读取config文件，看了一下egg-mongoose、以及addSingleton和createInstance的那些源码，感觉只是使用egg-mongoose并不能插入这个配置的更换，有大神指点一下吗？</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(779, '感觉Vue的路由传参好难，找了很多资料看不懂，求推荐比较好的资料或者简单的实例T.T', 'zhuhaifeng1251pm', '', '<div class=\"markdown-text\"><p>react的经过大佬们的指点之后，已经基本上掌握了,现在在学习Vue，接触到Vue的路由部分的时候，基本的配置我都明白也配置出来了，但是里面的传参除了id，但是Vue提供的可以通过路由传输数据的时候，我就有些蒙圈了，找资料说有 params 跟 jquery ，没有具体的例子，求大神指点T.T</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(780, 'eggjs 设置session的时候为什么以_下划线开头的都设置不进去', 'shenjianzch', '', '<div class=\"markdown-text\"><p>不知道就我一个这样还是本来就是这么定的 求大佬告知下 类似这种全都没有用 不知道依赖外部是否有用</p>\n<p><img src=\"//static.cnodejs.org/FrdgRLgJRwYnwMYpyyhaC2GXfsGl\" alt=\"image.png\">\n<img src=\"//static.cnodejs.org/Fum5QatVOumLFz_SNUaW7JvFH6--\" alt=\"image.png\">\n死活设置不进去</p>\n</div>', '', 63, '//static.cnodejs.org/FrdgRLgJRwYnwMYpyyhaC2GXfsGl', 1537347898, 1546275661, '客户端测试', 0, 0),
(781, 'Egg框架config.default.js内容过多如何拆分成多个配置文件？', 'deadwind4', '', '<div class=\"markdown-text\"><p>各位老铁，这种情况最佳实践是什么。</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(782, 'mongose能对文档中的某个字段分片返回吗？', 'MaelWeb', '', '<div class=\"markdown-text\"><p>比如说，我有个文档，里面的某个字段有50kb数据，我想在查这个字段时按每10kb一片返回……能实现么？或者有其他方案？</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(783, '做日志分析，没有啥思路，想问问大佬们有没有好的思路？', 'qinianqing', '', '<div class=\"markdown-text\"><p>又什么好的想法，希望能给点建议</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(784, '求node和微信小程序的教程或者 开源项目', 'longletian', '', '<div class=\"markdown-text\"><p>小白一个 学了点小基础 希望能够提升一下\n希望各位表哥  分享一下开源项目和学习教程</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(785, 'egg config.{env}.js中能否执行异步操作？', 'chrish-2017', '', '<div class=\"markdown-text\"><p>基于egg+mongo开发的项目，最近在补单元测试。\n本地装了mongo可以正常跑，CI上不想依赖外部环境。\n想用<a href=\"https://www.npmjs.com/package/mongodb-memory-server\">mongodb-memory-server</a>，但是在config.unittest.js中异步获取url没成功。</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(786, 'egg.js一个工程里，能不能在app目录下建立子目录 然后下一级再是controller ?', 'FreemanJiangX', '', '<div class=\"markdown-text\"><p>app目录下建立子目录，对应多个小项目，  子项目包含一些 功能简单的api接口\n有没有办法达到类似的目标啊？</p>\n<p>我是菜鸟，谢谢帮助。</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(777, '有没有好的react学习源码可看的哇', 'ycqida', '', '<div class=\"markdown-text\"><p>有没有好的react学习源码可看的哇</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(778, '新手求好项目来练手', 'HaoyangFan96', '', '<div class=\"markdown-text\"><p>在校生，之前有一定的java spring基础，这个暑假通过实习接触了nodejs，实习的时候写了个node + express + mysql + pug/bootstrap4的小项目, 效果还不错所以对node非常感兴趣，开学后想利用课余时间多做几个node的项目来丰富下简历+好好入门node</p>\n<p>我的学习计划路线是这样的：先补nodejs课同时自己做几个项目 -&gt; github找开源项目读源码 -&gt; 读官方文档+源码</p>\n<p>目前在跟nswbmw大的这个blog项目<a href=\"https://github.com/nswbmw/N-blog\">git</a></p>\n<p>想求大大们在这里推荐一些其他适合上手的node的实战项目(star + fork 二连），最好能做出完整的app，</p>\n<p>提前感谢各位大大~</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(775, '创建主题演示', 'unknowwy', '', '<div class=\"markdown-text\"><p>框架空间软件</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0);
INSERT INTO `hos_article` (`id`, `title`, `author`, `description`, `content`, `md`, `author_id`, `banner_img`, `dateline`, `fuck_date`, `tags`, `agree`, `disagree`) VALUES
(776, '前端docker化时，怎么根据不同的环境调用对应的后台服务？', 'yyp544784013', '', '<div class=\"markdown-text\"><p>开发项目时，一般有3套环境，同一个接口服务，不同环境访问域名是不一样的，如：\n开发环境：<a href=\"http://dev.test.com\">dev.test.com</a>\n测试环境：<a href=\"http://qa.test.com\">qa.test.com</a>\n正式环境：<a href=\"http://pro.test.com\">pro.test.com</a></p>\n<p>我们目前的做法是： 不同的环境构建时，执行不同的命令，可以实现不同环境访问不同的域名。</p>\n<p>但是现在要容器化，代码只构建一次，做成镜像，发布到不同的环境。这样就没办法根据环境动态构建不同的域名服务。</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(767, '前后端 300 集视频教程分享（React、Nodejs）', 'x123h', '', '<div class=\"markdown-text\"><p><a href=\"https://cnodejs.org/topic/5b99bc7937b3005a0b0e6ec6\">https://cnodejs.org/topic/5b99bc7937b3005a0b0e6ec6</a></p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(768, '有使用过nest.js搭建微服务的同学吗，想请教下用那种方案好？', 'luluzero', '', '<div class=\"markdown-text\"><p>官方文档上写的有这几种方案：</p>\n<ol>\n<li>TCP</li>\n<li>Redis</li>\n<li>MQTT</li>\n<li>NATS</li>\n<li>gRPC</li>\n</ol>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(769, 'pm2能实现自启动吗？', 'Einsy', '', '<div class=\"markdown-text\"><p>开机启动pm2，似乎很难实现？\n环境ubuntu16.04 x86 64位</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(770, '项目集群后使用消息中间件遇到的问题', 'fvxiaoyi', '', '<div class=\"markdown-text\"><p>我现在有个单进程的项目订阅了消息中间件的某个主题，假设后续这个项目需要集群部署，那么就会出现问题，我集群的这些项目不就都订阅了这个主题，从而照成消息的重复消费？这个问题需要怎么解决？或者有什么比较好的解决方案？感谢不吝赐教。</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(771, '移动端入门Node.js怎么学习?', 'jincc', '', '<div class=\"markdown-text\"><p>首先，我是做移动端iOS，最近在学Node,目前再看Node in Action这本书，感觉自己有点像无头苍蝇。书中的很多例子都是构建web应用，而我的前端知识呢?还停留在小学水平，所有有点迷茫。</p>\n<p>能不能来个老司机来带带我，帮我看看怎么学习是最高效的.\n老司机们~</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(772, 'express中间件里面如何进行异步操作？', 'JeffWong16', '', '<div class=\"markdown-text\"><p>先接触的koa，知道koa中间件是个async function,所以在中间件里面进行像fs.readFile这类异步操作的的时候可以把他转化成promise。\n但是在express中间件并不是aysnc function啊，它如何进行上面的操作。（node新手，望有错勿喷）</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(773, '涉及dll/so调用，结构体参数类型如何定义，函数如何调用呢', 'Einsy', '', '<div class=\"markdown-text\"><p>这是部分 <code>.h</code> 头文件</p>\n<pre class=\"prettyprint language-c\"><code>#ifndef _GENERIC_GB_API_H_\n#define _GENERIC_GB_API_H_\n\n#ifdef WIN32\n#ifdef DLL_GBSDK\n#define GBAPI _declspec(dllexport)\n#else\n#define GBAPI _declspec(dllimport)\n#endif\n#else\n#define GBAPI\n#endif\n\ntypedef unsigned long long UINT64;\ntypedef long long INT64;\n\n#ifdef __cplusplus \nextern &quot;C&quot; { \n#endif \n\ntypedef struct _LogInfo\n{\n	char severip[16]; &#x2F;&#x2F;内存占16个字节\n	int  severport;\n    char severid[24];\n    char localip[16];\n    int  localport;\n	char username[24];\n	char password[64];\n    int  keepalive;\n	int  timeout;\n	int  expires;\n}LogInfo;\n\ntypedef void (*Callback_Offline)( void *userdata );\n\nvoid GBAPI NP_GB_Init();\n\nint GBAPI NP_GB_Login( void* userdata, LogInfo &amp;info, Callback_Offline callback );\n\nint GBAPI NP_GB_OpenToDecoder( char* id, char* decoder );\n#ifdef __cplusplus \n}  \n#endif\n#endif\n</code></pre><p>我想问的是如何调 <code>NP_GB_Login</code> 函数呢？写了一部分代码，下面不知道该如何写了，这个结构体定义正确吗？</p>\n<pre class=\"prettyprint language-js\"><code>var ffi = require(&#x27;ffi&#x27;);\nvar ref = require(&#x27;ref&#x27;);\nvar Struct = require(&#x27;ref-struct&#x27;);\n&#x2F;&#x2F;var hWnd = new Buffer(8);\nvar int64_t = ref.types.int64;\nvar voidptr = ref.refType(ref.types.void);\nvar intptr = ref.refType(ref.types.int);\nvar uint8_ptr = ref.refType(ref.types.uint8);\n&#x2F;** 登录信息\n *\n *&#x2F;\nvar _LogInfo = Struct({\n  &#x27;severip&#x27;: &quot;string&quot;,\n  &#x27;severport&#x27;: &quot;int32&quot;,\n  &quot;severid&quot;: &quot;string&quot;,\n  &quot;localip&quot;: &quot;string&quot;,\n  &quot;localport&quot;: &quot;int32&quot;,\n  &quot;username&quot;: &quot;string&quot;,\n  &quot;password&quot;: &quot;string&quot;,\n  &quot;keepalive&quot;: &quot;int32&quot;,\n  &quot;timeout&quot;: &quot;int32&quot;,\n  &quot;expires&quot;: &quot;int32&quot;\n});\n&#x2F;&#x2F;byte[24];\nvar _LogInfoPtr = ref.refType(_LogInfo);\nvar Callback_Offline=ffi.callback(&quot;void&quot;,[&quot;void&quot;],function(userdata){\n\n});\nvar SDKHandle = ffi.Library(&#x27;.&#x2F;sdk.dll&#x27;, {\n  &#x27;NP_GB_Init&#x27;: [&#x27;void&#x27;, [&quot;void&quot;]],\n  &#x27;NP_GB_Cleanup&#x27;: [&#x27;void&#x27;, [&quot;void&quot;]],\n  &#x27;NP_GB_Login&#x27;: [&#x27;int&#x27;, [&quot;void&quot;,_LogInfoPtr,&quot;pointer&quot;]],\n  &#x27;NP_GB_Logout&#x27;: [&#x27;void&#x27;, [&quot;void&quot;]]\n});\n</code></pre><p>运行不正常。哪里不正确呢</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(774, '请教各位前端大佬 js、css 文件太大问题', 'im-here', '', '<div class=\"markdown-text\"><p>后端出身，偶尔也写点前端代码，但是基本上都是借用现有的框架</p>\n<p>最近做一个移动端的网页，使用vue 2.0+element-ui</p>\n<p>做完build之后发现js和css文件太大了，打开一个页面要加载1.2M的js和css文件</p>\n<p>贴一下vue build 的log</p>\n<pre class=\"prettyprint\"><code>Version: webpack 3.12.0\nTime: 20721ms\n                                                  Asset       Size  Chunks                    Chunk Names\n                 static&#x2F;fonts&#x2F;element-icons.6f0a763.ttf      11 kB          [emitted]\n               static&#x2F;js&#x2F;vendor.74e7738e8c0916a28a81.js     726 kB       0  [emitted]  [big]  vendor\n                  static&#x2F;js&#x2F;app.1cd5647b901de7d30cc7.js    5.04 kB       1  [emitted]         app\n             static&#x2F;js&#x2F;manifest.2ae2e69a05c33dfc65f8.js  857 bytes       2  [emitted]         manifest\n    static&#x2F;css&#x2F;app.78fb8a529b8373e9e08b2d3833526bb5.css     403 kB       1  [emitted]  [big]  app\nstatic&#x2F;css&#x2F;app.78fb8a529b8373e9e08b2d3833526bb5.css.map     574 kB          [emitted]\n           static&#x2F;js&#x2F;vendor.74e7738e8c0916a28a81.js.map    2.78 MB       0  [emitted]         vendor\n              static&#x2F;js&#x2F;app.1cd5647b901de7d30cc7.js.map    19.9 kB       1  [emitted]         app\n         static&#x2F;js&#x2F;manifest.2ae2e69a05c33dfc65f8.js.map    4.97 kB       2  [emitted]         manifest\n                                             index.html    1.08 kB          [emitted]\n</code></pre><p>请教各位大佬，该如何优化呢？</p>\n</div>', '', 63, '', 1537347898, 1546275661, '客户端测试', 0, 0),
(759, 'md5加密的问题，求帮助', 'chelsh', '', '<div class=\"markdown-text\"><p>类似这样的数据：</p>\n<pre class=\"prettyprint\"><code>data={\n	&quot;key1&quot;:{\n			a:[1,2],\n			b:{\n				&quot;c&quot;:1,\n			    &quot;d&quot;:2\n			}\n	},\n	&quot;key2&quot;:[2,3]\n}\n</code></pre><p>进行这样的签名：【将所有参数字段按首字母排序， 拼接成key1 = value1 &amp; key2 = value2的格式，再在末尾拼接上key = appSecret， 再做MD5加密生成sign】，由于数据里面的value有的是数组 有的是object，要怎么样转化为“拼接成key1 = value1 &amp; key2 = value2的格式”这样的格式啊，value会出现这样[object Object]；这种情况怎么和ios协商md5加密方法呢？</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(760, '请问各位大佬，nuxt项目在nginx反向代理后，无缓存首次访问prefetch的资源会503，刷新一下又好了，这是怎么回事呢', 'CaanDoll', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fomn4q1cVoXJT9tvVri93yzHxHXp\" alt=\"TIM图片20180905095345.png\">\n<img src=\"//static.cnodejs.org/FoMRwfVl9NXrfzH67izwSXhV2MV6\" alt=\"TIM图片20180905095350.png\">\n请问有同学是相同的情况吗，nuxt是1.4.x，最新稳定版。\nPS：测试环境没有nginx反向代理，就没有这个问题。</p>\n</div>', '', 63, '//static.cnodejs.org/Fomn4q1cVoXJT9tvVri93yzHxHXp', 1537347897, 1546275661, '客户端测试', 0, 0),
(761, '谁有 docker+typescript 好的项目示例', 'lh199507', '', '<div class=\"markdown-text\"><p>最近在学习ts和docker ，希望可以一起使用它们，有关于ts+docker好的示例嘛？？</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(762, 'crontab执行pm2命令', 'im-here', '', '<div class=\"markdown-text\"><p>最近有个需求需要定时执行一些pm2命令，于是我就想到了将这些pm2命令写入一个.sh脚本，然后直接用crontab定时执行这个脚本就行了</p>\n<p>一开始直接在sh脚本里写 <code>pm2 xxx</code>,执行了下报<code>pm2 command not found</code>\n于是which了一下pm2 然后在sh里写上了pm2的完整路径，同时也单独执行了下这个sh脚本是没问题的\n但是放在crontab里执行就报<code>/usr/bin/env: node: No such file or directory</code>\n服务器node是用nvm安装的，所有操作都是同一个用户</p>\n<p>奇怪的是两台服务器，一台能成功执行，另一台不能成功执行，两台环境都是一样的\nLinux这块知识比较薄弱，请教各位大神应该如何排查问题和解决</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(763, 'egg.js和nest.js改选择哪一个作为系统框架呢，大神们给点意见？', 'danielmlc', '', '<div class=\"markdown-text\"><p>最近想用node.js重构公司后端。egg.js和nest.js改选择哪一个作为系统框架呢，大神们给点意见？</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(764, 'egg 服务配置域名后，403', 'Helovebai', '', '<div class=\"markdown-text\"><p>egg服务上线，配了个域名，csrftoken 在cookie跟header头里都有，qa上面的服务没配置域名，能正常访问，但是用域名访问线上的就403，不知道为啥，求路过的大神回答一下</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(765, '如何才能学好node.js', 'kouxiang2008', '', '<div class=\"markdown-text\"><p>怎么才能真正学好node.js,东西太多了，老忘记怎么办？</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(766, 'new Image().src =url; 这行代码的Image对象什么时候被释放？', 'jinkankakushoujo', '', '<div class=\"markdown-text\"><p>new Image().src =url;\n这行代码中创建的Image对象没有被任何一个变量代入，那么其还会不会加载图片？如果会加载图片，那么onload回调会不会百分百执行？\n由于这图片可能要加载一段时间才能够加载完成，那么这段时间里这对象不会被GC释放掉吗？</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(758, '关于 JWT 到底比 session 强在哪些地方？', 'mintsweet', '', '<div class=\"markdown-text\"><p>昨天开始着手用<code>Koa</code>重构<code>Express</code>的时候，在<code>Github</code>上面发现<code>Koa</code>组织里面关于<code>jwt</code>的<code>star</code>数比<code>session</code>更高，加上公司里面<code>Java</code>也是使用的<code>JWT</code>的认证方式，所以就很好奇的去查阅了一番关于它的知识，但是得到的结果并不满意，所谓的优点在我看来并没有比<code>session</code>更加强大，加上公司不大，大家了解不深，所以只能请教一下有深入了解的大神们。</p>\n<h2>有以下几点疑问</h2>\n<p>看了一些文章，对<code>JWT</code>本身有一些疑问，希望不吝赐教。</p>\n<h3>使用更简单</h3>\n<p>由于<code>JWT</code>本身需要你手动续时，而且续时是一件还挺麻烦的事情，而<code>session</code>是不需要的，那为什么会更简单？</p>\n<h3>更灵活</h3>\n<p>这一点的体现在哪里？能同时在不同的<code>server</code>下使用？但是我使用外接专门保存<code>session</code>的服务不也能达到同样的效果吗？</p>\n<h3>内置过期功能</h3>\n<p>这一点<code>session</code>是自带的啊，所以好在哪？</p>\n<h2>实在是好奇应用场景</h2>\n<pre class=\"prettyprint\"><code>- 有人说纯API的服务好用？但是也没说清楚好用在哪？\n- 有人说它更加的安全，存储在&#96;client&#96;下面真的更加安全吗？\n- 有人说它更容易扩展，很好奇什么业务下需要扩展什么东西？\n</code></pre><p>问题略多，还请见谅，因为实在是有太多疑问了，<code>google</code>了一番心中的困惑确实也没有解开很多，望见谅。</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(757, 'sequelize 无缘无故报了这样一个错，但是还能正常用，请问如何解决？', 'RajanZhan', '', '<div class=\"markdown-text\"><p>Unhandled rejection TypeError: this._length.toLowerCase is not a function\nat TEXT.toSql (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_modules\\sequeli\nze\\lib\\data-types.js:93:24)\nat TEXT.toString (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_modules\\sequ\nelize\\lib\\data-types.js:19:15)\nat Object.attributeToSQL (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_modu\nles\\sequelize\\lib\\dialects\\mysql\\query-generator.js:320:44)\nat Object.attributesToSQL (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_mod\nules\\sequelize\\lib\\dialects\\mysql\\query-generator.js:385:45)\nat QueryInterface.createTable (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node\n_modules\\sequelize\\lib\\query-interface.js:274:40)\nat Promise.try.then.then (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_modu\nles\\sequelize\\lib\\model.js:1128:39)\nat tryCatcher (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_modules\\bluebir\nd\\js\\release\\util.js:16:23)\nat Promise._settlePromiseFromHandler (C:\\Project\\wxApi\\APIforDoctorWorkstati\non\\node_modules\\bluebird\\js\\release\\promise.js:512:31)\nat Promise._settlePromise (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_mod\nules\\bluebird\\js\\release\\promise.js:569:18)\nat Promise._settlePromise0 (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_mo\ndules\\bluebird\\js\\release\\promise.js:614:10)\nat Promise._settlePromises (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_mo\ndules\\bluebird\\js\\release\\promise.js:693:18)\nat Async._drainQueue (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_modules<br>\nbluebird\\js\\release\\async.js:133:16)\nat Async._drainQueues (C:\\Project\\wxApi\\APIforDoctorWorkstation\\node_modules\n\\bluebird\\js\\release\\async.js:143:10)\nat Immediate.Async.drainQueues (C:\\Project\\wxApi\\APIforDoctorWorkstation\\nod\ne_modules\\bluebird\\js\\release\\async.js:17:14)\nat runCallback (timers.js:810:20)\nat tryOnImmediate (timers.js:768:5)\nat processImmediate [as _immediateCallback] (timers.js:745:5)</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(755, '搞不懂“单向数据流”', 'linxiaoziruo', '', '<div class=\"markdown-text\"><p>react 的虚拟树深度优先对比我清楚，局部更新渲染我也清楚，MVVM 模式我也清楚。但就是搞不懂什么叫“单向数据流”？什么叫“视图的状态”？</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(756, '关于koa框架源码中创建上下文的疑问', 'heguangda', '', '<div class=\"markdown-text\"><p>红线当中代码其实不用是不是也可以的，为什么要这样写呀\n(<a href=\"//static.cnodejs.org/FtCdM0GyeJ8iZxa5Yby44b4zw3lO\">//static.cnodejs.org/FtCdM0GyeJ8iZxa5Yby44b4zw3lO</a>)</p>\n</div>', '', 63, '', 1537347897, 1546275661, '客户端测试', 0, 0),
(754, 'MQTT TCP连接数超过6万后，web服务器连接不上数据库，redis等', 'timl71', '', '<div class=\"markdown-text\"><p>nodejs mqtt server， egg web api，数据库， reids 都在一台机器上 16core CPU， 32GB内存\n当mqtt 长连接超过6完后， 服务器的网络通讯就不正常了， 此时 cpu 和内存利用率都不高， 负载很低，2左右\nwebapi 服务器连不上 数据库  redis， 外部接口，接着egg框架把worker都关掉了\n这是什么原因导致的？</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(753, '如何将Node和js打包成单独的可执行文件？', 'xyzingh', '', '<div class=\"markdown-text\"><p>出于一个不可描述的可笑需求，务必要把做好的js文件和node打包在一起，发布成 Windows 下 .exe x86\n四方求索无果后，先在论坛发个帖求问在座老哥们。回头如果找到做法也会在帖子里补上。</p>\n<p>要说版本的话，Node为v9，程序对外只需要标准输入输出，不需图形界面，nwjs和electron似乎不行…\n要是没有办法的话，发布成64位应该也能成…</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(752, '试一下这个markdown编辑器，请不要回！', 'kouxiang2008', '', '<div class=\"markdown-text\"><p><img src alt=\"telangpu.jpeg\"></p>\n<h1>我是特朗普，帅不帅？</h1>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(750, 'find查询的数据，我想在任何一个ejs模板中都可以使用他的数据 ，如何做一个公共的，可以全局访问的数据（在ejs模板中）？', 'wiscgazf', '', '<div class=\"markdown-text\"><p>Notes.find().populate({\npath: ‘author’,\nselect: ‘name’,\nmodel: ‘admin’\n}).limit(10).sort({createTime: -1}).exec(function (err, data) {\nif (err) {\nres.status(500).json(Errors.networkError);\n} else {\nres.render(‘pc/index’, {\nDatas: data.map(item =&gt; {\nreturn {\nid: item._id,\ncreateTime: moment(item.createTime).format(“YYYY-MM-DD”),\ntitle: item.title,\nthumbImg: item.thumbImg,\npageView: item.pageView,\ncategory: item.category,\ndescription: item.description,\nauthor: item.author,\nreplyData: item.replyData.length\n}\n})\n})\n}\n})\n};</p>\n<p>此时数据只能在当前返回的ejs页面中获取到，有什么办法可以在其他ejs模板中也可以使用这个数据 ，不用其他页面也查询一遍在返回 同样的数据</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(751, 'iscroll触屏快速滚动元素消失，transform奇葩问题', 'langlangxu', '', '<div class=\"markdown-text\"><p>最近在做一个web项目，用到了iscroll。</p>\n<p>当我的列表在手机触屏上 <strong>快速滚动</strong> 的时候,有一定概率元素直接消失在屏幕上。\n当我通过js获取它的style属性，translate 属性正常，修改一下translate 为 0，元素又显示了，再去掉修改，恢复正常。\ntoggle一次样式，前后样式都是一样，但是toggle后，元素就显示正常了。\n目前测试，只有切换（覆盖原来属性，然后去掉）一次 transform 或者 display-none可以让它恢复，其他样式无效</p>\n<p>这个隐藏的问题，出现几率较小，目前是需要快速滑动多次，偶现。</p>\n<p>整个滚动区域不可见时，区域中的banner也不可见，但是在banner自动播放的动画的时候，banner会显示持续到动画结束。</p>\n<p>不知道有没有人遇到过类似问题，求解答，感谢</p>\n<p>banner上的点，位置跑到下面去了，而且大小没有使用rem，正常显示时，这个点会大一些\n<img src=\"//static.cnodejs.org/FubrBvagQjMuOmzQGiHUX_-SKjDS\" alt=\"share.jpg\"></p>\n</div>', '', 63, '//static.cnodejs.org/FubrBvagQjMuOmzQGiHUX_-SKjDS', 1537347896, 1546275661, '客户端测试', 0, 0),
(749, '老师布置的作业，第二个功能有点搞不明白，有朋友能指点一二吗', 'misland', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fhn6wMIYrh9xXmut-rP8ZPla7_fR\" alt=\"作业.PNG\">\n上面是老师布置的作业，我觉得老师的意思是让做一个前后端分离的小小系统，毕竟老师之前也有说想让我们做全栈，现在第一个功能我已经做好了，但是第二个功能就有点不太理解了，老师是让在前端控制后台的服务启动和停止？如果是这样我搜了好久资料发现好像没有这方面的实现，希望有人能帮我分析一下，十分感谢！</p>\n</div>', '', 63, '//static.cnodejs.org/Fhn6wMIYrh9xXmut-rP8ZPla7_fR', 1537347896, 1546275661, '客户端测试', 0, 0),
(747, '用新语法class怎么实现prototype常量', 'ishanyang', '', '<div class=\"markdown-text\"><p>function Person () {\n}</p>\n<p>Person.prototype.fingerNumber = 10</p>\n<p>var xiaobai = new Person()\nvar xiaohong = new Person()\nxiaohong.fingerNumber=11\n// 11\nconsole.log(xiaohong.fingerNumber)\n// 10\nconsole.log(xiaobai.fingerNumber)</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(748, '用node写了个数据接口，小程序如何通过这个node项目访问数据', 'Ayden-Chan', '', '<div class=\"markdown-text\"><p>写了个node数据接口，<a href=\"http://xn--www-lp6ez75d.xxx.com/xcx%E4%B8%AD,%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87www.xxx.com/xcx%E8%AE%BF%E9%97%AE%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9F%AD%E5%B7%B2%E7%BB%8F%E7%94%A8pm2\">放在www.xxx.com/xcx中,小程序如何通过www.xxx.com/xcx访问接口，服务器短已经用pm2</a> 启动了node项目，是要做反向代理吗</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(745, 'socket io 推送消息的问题', 'quanpf2481', '', '<div class=\"markdown-text\"><p>最近做了一款聊天室的app，用socket io来做长连接，一般是监听事件，然后进行相应的处理，但是如果现在想往客户端主动推送一些消息的话，应该怎么来处理呢？？？有没有相关的参考或者例子或者思路都可以，谢谢！！！</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(746, '关于request.pipe（）的问题', 'heguangda', '', '<div class=\"markdown-text\"><p>看到网上爬虫爬取图片的写法都是\nrequest(src).pipe(fs.createWriteStream(’./img/’+img_filename));\n之类的。\n为什么我用request拿回来的response.pipe（fs.createWriteStream(’./img/’+img_filename)）会不行呀，然后手动监听了response.on(‘data’,func)，没有进入data事件，但是打印这个response，看到body却有图片的信息，虽然是乱码的</p>\n<p><strong>这是可以拿到图片的代码</strong>\nvar fs = require(‘fs’)\nvar request = require(‘request’)\nvar options = {\nurl:‘<a href=\"https://ww1.sinaimg.cn/large/006tNc79ly1fcvrbhd3ddj30i90dl3z0.jpg\">https://ww1.sinaimg.cn/large/006tNc79ly1fcvrbhd3ddj30i90dl3z0.jpg</a>’,\nmethod: ‘get’,\n}\nvar req = request(options,function(err,res,body){\nconsole.log(res.headers)\n})\nvar write = fs.createWriteStream(’./cnode.jpg’)\nreq.pipe(write)</p>\n<p><strong>这是不可以拿到图片的代码</strong>\nvar fs = require(‘fs’)\nvar request = require(‘request’)\nvar options = {\nurl:‘<a href=\"https://ww1.sinaimg.cn/large/006tNc79ly1fcvrbhd3ddj30i90dl3z0.jpg\">https://ww1.sinaimg.cn/large/006tNc79ly1fcvrbhd3ddj30i90dl3z0.jpg</a>’,\nmethod: ‘get’,\n}\nvar req = request(options,function(err,res,body){\nvar write = fs.createWriteStream(’./cnode.jpg’)\nres.pipe(write)\n})</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(743, '智能小程序的动画相关事件无法支持的问题', 'BubblyFace', '', '<div class=\"markdown-text\"><p>不知道论坛里有没有百度前端的小伙伴，最近在研究智能小程序，发现智能小程序对一些动画的api无法支持，具体为\n	transitionend\nanimationstart\nanimationiteration\nanimationend</p>\n<p>如果有支持的计划，麻烦告知</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(744, 'express响应问题（已解决）', 'xiaobai2017666', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>user.post(&#x27;&#x2F;dialog&#x27;,function (req,res,next) {\n  res.header(&#x27;Access-Control-Allow-Origin&#x27;, &#x27;*&#x27;);\n  &#x2F;&#x2F;mongodb数据库查询\n  types.find(function (err,result1) {\n    if(err){\n      console.log(err);\n    }\n	&#x2F;&#x2F;数据库文档的是否查找到的标识\n    let typesFindFlag=true;\n    let dialogsFindFlag=true;\n    for(let i=0,len=result1.length;i&lt;len;i++){\n      let reg = new RegExp(result1[i].title);\n      if (reg.test(req.body.text)) {\n        dialogs.find({ text: &#x27;type&#x27; }, function (err, result2) {\n          if (err) {\n            console.log(err);\n          }\n          result2[0].dialog += &#x27;&lt;ol&gt;&#x27;;\n          for(let j=0,len=result1[i].list.length;j&lt;len;j++){\n            result2[0].dialog += &#x27;&lt;li&gt;&lt;a href=&quot;#&#x2F;work&#x2F;&#x27; + result1[i].list[j] + &#x27;&quot;&gt;&#x27; + result1[i].list[j]+&#x27;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;&#x27;;\n          }\n          result2[0].dialog += &#x27;&lt;&#x2F;ol&gt;&#x27;;\n		  &#x2F;&#x2F;报错行\n          res.send(result2[0]);\n        })\n        typesFindFlag=false;\n        break;\n      }\n    }\n    if(typesFindFlag){\n      dialogs.find(function (err,result) {\n        if(err){\n          console.log(err);\n        }\n        for(let i=0,len=result.length;i&lt;len;i++){\n          let reg=new RegExp(result[i].text);\n          if(reg.test(req.body.text)) {\n		  	&#x2F;&#x2F;报错行\n			res.send(result[i]);\n            dialogsFindFlag=false;\n            break;\n          }\n        }\n      })\n    }\n    if (dialogsFindFlag) {\n      dialogs.find({ text: &#x27;nothing&#x27; },function (err,result) {\n        if(err) {\n          console.log(err);\n        }\n		&#x2F;&#x2F;报错行\n		res.send(result[0]);\n      })\n    }\n  })\n})\n</code></pre><p>场景是我频繁在一个时间段反复访问后出现报错\nthrow er; // Unhandled ‘error’ event\n^</p>\n<p>Error: Can’t set headers after they are sent.\n网上查询分析后我觉得是第二次请求时，第一个请求未响应完成，然后在第二次请求时产生了两次响应。\n但是不知道如何进行处理，求帮助，嘤嘤嘤</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(741, '一个大型的node-vue项目都需要用到哪些插件？', 'kouxiang2008', '', '<div class=\"markdown-text\"><h1>一个大型的node-vue项目都需要用到哪些插件啊？</h1>\n<p>有没有一个完整的模板，感觉用vue-lic搭建的只是初步的，有没有一个详细点儿的？<img src alt=\"微信图片_20170807170450.jpg\"></p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(742, 'sharp 的一个问题 找不到原因', 'nlbydcg', '', '<div class=\"markdown-text\"><p>现在我这有一个问题 用的sharp来吧二维码绑定到一个背景图片上 然后返回给用户使用，我们的设计是可以随意改变二维码大小和对应背景图片的相对位置的坐标，现在改变二维码的大小，（二维码也是动态生成，生成的二维码名字不变） 发现用sharp的overlayWith合并的时候图片的尺寸还是上一次的二维码的尺寸，一直不明所以，后来看了看官方文档改用我自己先把文件读写成buffer 然后在用sharp的overlayWith合并发现就是最新的，难道是sharp代码里面有缓存么还是nodejs读取同一文件名的文件会有缓存 好疑惑</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(739, 'Mongodb时差问题', 'unclexiao', '', '<div class=\"markdown-text\"><p>大家存入Mongodb的时间是默认的GMT么，还是转为UTC+8字符串（或者时间戳）？ 如果是默认ISODate的格式，之后做按时间分组，如何解决时差问题呢？</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(740, 'NUXT整合ueditor报错，搞了一天没搞定！！！求帮助', 'GitHuber-lu', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fj1nwHzpAVwSewFHnt2NKvlm87wi\" alt=\"TIM截图20180415001744.png\"></p>\n<p>ueditor.all.min.js在webpack打包的时候由于用的是严格模式报错。但是在NUXT中实在找不到方法忽略掉对应文件的严格模式，或者完全取消严格模式。找了整个互联网方法都试了。求助！</p>\n</div>', '', 63, '//static.cnodejs.org/Fj1nwHzpAVwSewFHnt2NKvlm87wi', 1537347896, 1546275661, '客户端测试', 0, 0),
(738, 'egg怎么配置https', 'lvyueyang', '', '<div class=\"markdown-text\"><p>如题，谢谢各位大佬</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(737, 'sequelize添加大量数据时报错', 'pretty-foam', '', '<div class=\"markdown-text\"><p>较少数据添加不会报错，当往mysql数据库添加大量数据就会报错，也就<a href=\"https://cnodejs.org/topic/504b4924e2b84515770103dd\">这文章信息一样多的数据量</a>\n以下是部分结构定义</p>\n<p>class Topic {\nconstructor() {\n//定义话题表结构\nthis.Model=sequelize.define(‘topic’, {\nname: Sequelize.STRING,\nblockValue: Sequelize.STRING,\ntypeValue: Sequelize.STRING,\ntitle: Sequelize.STRING,\neditorContent: Sequelize.TEXT(‘long’),\n}, { freezeTableName: true })\n}</p>\n<pre class=\"prettyprint\"><code>&#x2F;&#x2F;添加话题\nasync add({ blockValue, typeValue, name, editorContent, title }) {\n    try {\n        await this.Model.sync({ force: false })  &#x2F;&#x2F;不存在表格则创建表格\n        const result = await this.Model.create({ name, blockValue, typeValue, title, editorContent })\n        return result\n    } catch (err) {\n         throw new Error(err)\n    }\n}\n\n报错： SequelizeDatabaseError: read ECONNRESET</code></pre></div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(734, '如何实现不在主线程中运行的非阻塞的代码？', 'fuguohong', '', '<div class=\"markdown-text\"><p>我需要递归操作文件夹，不希望这些代码在主线程上运行，我该如何操作？</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(735, 'nodejs 适合开发TCP服务吗？', 'lvgithub', '', '<div class=\"markdown-text\"><p>nodejs 适合开发TCP服务吗？node对TCP流的处理API提供的完善吗？</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(736, '关于Nodejs后端Express框架的渗透测试', 'evi0s', '', '<div class=\"markdown-text\"><p>我是一名大二学生，目前主要使用Vue+Express+Nginx+MongoDB做Web开发。在做了很多CTF的Web题目以后发现大部分涉及漏洞的语言都是PHP，还有很多SQL注入。\n因为考虑到Web应用的安全性，想去学习一下针对Nodejs后端Express或Koa框架的渗透测试，和MongoDB的安全防护，但是多方搜索发现资料很少，所以想请教一下有没有关于js后端框架的渗透测试和MongoDB安全防护的书籍资料或网络资料。</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(733, 'TCP 的压力测试改怎么做？', 'MxBird', '', '<div class=\"markdown-text\"><p>公司有个用NODE写的TCP的server，想做关于这个项目的压力测试 没有什么思路，请教一下大家。\n假设我有一个这样的tcp server</p>\n<pre class=\"prettyprint\"><code>var net = require(&#x27;net&#x27;);\n\nvar HOST = &#x27;127.0.0.1&#x27;;\nvar PORT = 6969;\n\n&#x2F;&#x2F; 创建一个TCP服务器实例，调用listen函数开始监听指定端口\n&#x2F;&#x2F; 传入net.createServer()的回调函数将作为”connection“事件的处理函数\n&#x2F;&#x2F; 在每一个“connection”事件中，该回调函数接收到的socket对象是唯一的\nnet.createServer(function(sock) {\n\n    &#x2F;&#x2F; 我们获得一个连接 - 该连接自动关联一个socket对象\n    console.log(&#x27;CONNECTED: &#x27; +\n        sock.remoteAddress + &#x27;:&#x27; + sock.remotePort);\n\n    &#x2F;&#x2F; 为这个socket实例添加一个&quot;data&quot;事件处理函数\n    sock.on(&#x27;data&#x27;, function(data) {\n        console.log(&#x27;DATA &#x27; + sock.remoteAddress + &#x27;: &#x27; + data);\n        &#x2F;&#x2F; 回发该数据，客户端将收到来自服务端的数据\n        sock.write(&#x27;You said &quot;&#x27; + data + &#x27;&quot;&#x27;);\n    });\n\n    &#x2F;&#x2F; 为这个socket实例添加一个&quot;close&quot;事件处理函数\n    sock.on(&#x27;close&#x27;, function(data) {\n        console.log(&#x27;CLOSED: &#x27; +\n            sock.remoteAddress + &#x27; &#x27; + sock.remotePort);\n    });\n\n}).listen(PORT, HOST);\n\nconsole.log(&#x27;Server listening on &#x27; + HOST +&#x27;:&#x27;+ PORT);\n</code></pre><p>我应该写一个怎样的测试client的node脚本，来测试比如我本机能达到多少的client连接数</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(732, '使用sequelize的时候，mysql自增长Id总是  Duplicate entry \'0\' for key \'PRIMARY错误', 'yahue', '', '<div class=\"markdown-text\"><p>生成的语句是：</p>\n<pre class=\"prettyprint language- sql\"><code>INSERT INTO &#96;apps&#96; (&#96;id&#96;,&#96;name&#96;,&#96;uid&#96;,&#96;created_at&#96;,&#96;updated_at&#96;) VALUES (DEFAULT,\\&#x27;yahue\\&#x27;,1,\\&#x27;2018-03-28 12:22:20\\&#x27;,\\&#x27;2018-03-28 12:22:20\\&#x27;);\n</code></pre><p>sequelize自动增长id为 <code>DEFAULT</code> 还是会有 Duplicate entry ‘0’ for key \'PRIMARY 错误\n我是要设置 mysql的什么属性吗？\n有哪位大神遇到过这个问题？</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(730, 'node js调用C++编译好的之后的程序', 'quanpf2481', '', '<div class=\"markdown-text\"><p>node js 可以调用C++程序经过GCC编译后的文件呢？？有没有大神知道的，谢谢！！！</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(731, '求加node微信群，另有酒局一起嗨', 'geek6', '', '<div class=\"markdown-text\"><p><strong>刚刚学习node，正是热情高涨期，想和大家多多交流、共通进步，哪位大佬有不错的node微信群，麻烦把我加进去，非常感激~</strong></p>\n<p><strong>另外，工作之余本人喜欢参加社交局，不定期会举办品酒会，坐标北京，有兴趣的大佬可以一起参与，希望一起Hacking&amp;头脑风暴。</strong></p>\n<p><strong>微信：zhang_fu_xin 拉我，或者留下微信号，我自己加都可以</strong></p>\n<p><strong>附酒会照片。</strong></p>\n<p><img src=\"//static.cnodejs.org/Fm31dmR5-m2jUAfJV3m78i9EtFLh\" alt=\"WechatIMG10.jpeg\">\n<img src=\"//static.cnodejs.org/FokBLOuzyh41mzOuI8HJPQq5vd9f\" alt=\"WechatIMG9.jpeg\">\n<img src=\"//static.cnodejs.org/FoGJ-gkx9NhgCnnEdQsL1JtbKxpc\" alt=\"WechatIMG8.jpeg\">\n<img src=\"//static.cnodejs.org/Fj3occI3IwwKerXTGyIk_DI0UtR4\" alt=\"WechatIMG7.jpeg\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fm31dmR5-m2jUAfJV3m78i9EtFLh', 1537347896, 1546275661, '客户端测试', 0, 0),
(729, 'es6 函数参数的结构疑问？', 'gnailiy', '', '<div class=\"markdown-text\"><p>今天看别人的代码时，看到他使用了 es6 的函数参数默认参数，不过我一下子没有看明白。大概我理解的函数参数的默认值是：</p>\n<pre class=\"prettyprint\"><code>var e = function(d = 3) {\n	console.log(d);\n}\n\ne( );  &#x2F;&#x2F; 3\ne( 2 );  &#x2F;&#x2F; 2\ne(undefined);  &#x2F;&#x2F;3\ne(null);  &#x2F;&#x2F; null\n</code></pre><p>说是对于函数的参数 “严格等于” （===） undefined 的时候，触发默认值，比如空参数。但是 null 不行。但是此时 <code>arguments === undfined; // false</code>  。不知道这里严格等于 undefined 的是哪一个值？</p>\n<p>但是对于函数的参数是对象的情况，我不知道我理解的对不对，总感觉非常绕。</p>\n<pre class=\"prettyprint\"><code>function move({x = 0, y = 0} = {}) {\n  return [x, y];\n}\nmove({x: 3, y: 8}); &#x2F;&#x2F; [3, 8]\nmove({x: 3}); &#x2F;&#x2F; [3, 0]\nmove({}); &#x2F;&#x2F; [0, 0]\nmove(); &#x2F;&#x2F; [0, 0]\n</code></pre><p><code>move()</code> 的时候， 先不纠结于 <code>arguments === undfined; // false</code>  这一点，首先触发参数默认值为 <code>{}</code>， 接着需要使用到 x,y的时候，发现 x  和 y 都是 undefined ， 从参数的默认值中去寻找 ，发现x  = 0 , y = 0 的默默认值， 于是输出内容。</p>\n<p>但是感觉这样的理解是有问题的。 阮老师的书上和网上的博客，通常对于这一概念就一笔带过，告诉了大家在函数中解构 和 默认参数一起使用就是这样。 但是我绕进去了，求教各位。</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(728, '前端转python，以此为突破口往人工智能方向发展', 'ruizhengyun', '', '<div class=\"markdown-text\"><blockquote>\n<p>先说明下，转python不仅仅是就学习下语法，语法几天就能熟悉了。主要是像利用numpy、pandas等做一些事情。</p>\n</blockquote>\n<ul>\n<li>\n<p>这条道路很陡，学习成本很显然，只是基于兴趣，同时也希望在薪资上也能有好的收获（并不是说前端不如人工智能薪资高，不要误解我的意思）。</p>\n</li>\n<li>\n<p>前端本身就有很多要学的技术，现在大前端技术也在学习提升阶段。那是不是就不该把经历放到学习人工智能上（只是人工智能的某个领域而已）。</p>\n</li>\n<li>\n<p>希望大家给点自我看法。</p>\n</li>\n</ul>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(727, 'egg-cnode 邮件发送成功但是收不到', 'thxallvu', '', '<div class=\"markdown-text\"><p><strong>问题描述</strong>\negg-cnode 发送邮件提示成功但是收不到。</p>\n<p><strong>目前排查手段</strong></p>\n<ul>\n<li>阿里云ecs安全组配置，自己用nodemailer写了个发送邮件程序，可以从服务器发送出来，证明ecs配置没问题。</li>\n<li>使用163 qq企业邮箱测试，均未成功，使用了465端口，设置了客户端密钥作为密码。</li>\n<li>ignoreLTS：false 尝试改成secure：true  也没有效果</li>\n<li>不是debug模式</li>\n</ul>\n<p><strong>实在是想不到哪里配置的问题，所以来看看大家有没有遇到类似问题</strong></p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(725, 'node  跨域问题', 'dingyuanwu', '', '<div class=\"markdown-text\"><p>之前一直使用cors库，但是最近发现有些接口在使用的时候还是存在跨域的问题，\n看了一下cors的源码实现，发现里面还是有很多的缺陷，\n有没有更好用的处理跨域问题的库，求推荐。</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(726, '有没有热心老哥可以把nvm windows安装包百度云分享一下，我在github下载 拒绝了我的连接请求。', 'keaifan', '', '<div class=\"markdown-text\"><p>有没有热心老哥可以把nvm windows安装包百度云分享一下，我在github下载 拒绝了我的连接请求。</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(723, '怎么CNode这页面头上那个搜索框是用google搜索的？有什么讲究？', 'zhongshiji', '', '<div class=\"markdown-text\"><p><a href=\"https://www.google.com.hk/#hl=zh-CN&amp;q=site:cnodejs.org+xxx\">https://www.google.com.hk/#hl=zh-CN&amp;q=site:cnodejs.org+xxx</a></p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(724, 'GraphQL 火吗？', 'JerrysShan', '', '<div class=\"markdown-text\"><p>领导说GraphQL很火，强制让我们使用，可我发现这个东西出来那么多年，根本就没有火起来，使用了GraphQL不知道是对前端有好处，还是对后端友好，感觉体验了一番，\n不知道解决了什么痛点???</p>\n</div>', '', 63, '', 1537347896, 1546275661, '客户端测试', 0, 0),
(722, '2018国外付费vpn推荐', 'wallmama', '', '<div class=\"markdown-text\"><h1>付费VPN推荐</h1>\n<h2>免费VPN服务最好不要用</h2>\n<p>用免费VPN服务，网络流量流经一个不可信的第三方，是件危险的事。你的流量里可能有没有充分加密保护的敏感信息：密码，银行账号，私密资料，访问历史等，流量劫持的潜在风险还不止这些。</p>\n<h2>破解的VPN软件更危险</h2>\n<p>这更危险，此类破解软件挂马带病毒是很常见的事，贪便宜从不明来源下载，很快让你的电脑裸奔；况且，破解软件不能更新，即使能用，也只能用极有限的时间。</p>\n<h2>国内的付费VPN服务想用也用不了</h2>\n<p>去年，<a href=\"https://www.wallmama.com/2017/06/greenvpn%E8%A2%AB%E5%85%B3%EF%BC%8C%E6%88%91%E4%BB%AC%E8%AF%A5%E4%BD%95%E5%8E%BB%E4%BD%95%E4%BB%8E/\">GreenVPN被关</a>。</p>\n<p>国内还剩多少可用的付费VPN服务，没统计过，越来越少吧，即使还有也离被关不远了。国内某些小众搜索引擎的结果页里偶尔还出现一些不入流（骗钱）的产品。</p>\n<p>也许存在传说中的“已注册“的服务，但国内政策风险太大，不建议购买。</p>\n<h2>国外的付费VPN服务能用的已经不多</h2>\n<p>绝大多数在这几年也陆续沦陷了，国内无法直接购买，买VPN要先上VPN，本身就很无奈。</p>\n<p>不是所有的付费VPN厂商都重视中国市场，只有一线大厂才可以，小厂商的财力、人力、技术能力都没大到能长期保证国内用户能持续使用服务的程度。</p>\n<h2>国外付费VPN推荐</h2>\n<p>下面推荐的服务商都</p>\n<ul>\n<li>\n<p>重视中国用户，国内还能直接支付宝购买</p>\n</li>\n<li>\n<p>全球服务器，好用的客户端</p>\n</li>\n<li>\n<p>提供额外加强服务，持续改进算法和服务质量</p>\n</li>\n<li>\n<p>支持无条件退款</p>\n</li>\n</ul>\n<p><strong>国内还能用支付宝买到</strong>的国外付费vpn推荐：</p>\n<h2>VPN推荐一：<a href=\"https://indx.cc/exp\">ExpressVPN</a></h2>\n<p>全球148+服务器所在地 / 无限流量 / 多协议，包括openVPN / 一键连接 / 同时3台设备 / 256-bit AES加密 / 支付宝支付 / 支持路由器连接 / 完全IP隐藏 / 零日志 / 全终端覆盖 / 30天无条件退款 / Split tunneling技术 + 浏览器插件，同时访问内外网 / <strong>推荐原因：速度相对最快</strong></p>\n<h2>VPN推荐二：<a href=\"https://indx.cc/vyr\">VyprVPN</a></h2>\n<p>70+自有服务器所在地，200,000+IP地址 / 无限流量 / 多协议，独家混淆协议 / 一键连接 / 同时5台设备 / 支持P2P / 变色龙加密，<strong>推荐原因：连接相对最稳定</strong> / 支付宝支付 / 支持路由器连接 / NAT安全机制 / DNS加密 / 全终端覆盖 / 2年款最大优惠 / 30天无条件退款 / 按程序控制网络技术，同时访问内外网</p>\n<h2>VPN推荐三：<a href=\"https://indx.cc/nrd\">Nord</a></h2>\n<p>3400+服务器 / 无限流量 / 支持Onion over vpn / 一键连接 / 同时6台设备 / 支持P2P / 双重加密 / 支付宝支付 / 支持路由器连接 / CyberSec安全技术 / 零日志 / 专业客户端 / 2年款最大优惠 / 随时退款 / 浏览器代理插件，同时访问内外网 / <strong>推荐原因：随时退款</strong></p>\n<p><em>来源：<a href=\"https://www.wallmama.com/2018/05/%E5%93%AA%E7%A7%8D%E4%BB%98%E8%B4%B9vpn%E6%AF%94%E8%BE%83%E7%A8%B3%E5%AE%9A/\">哪种付费vpn比较稳定？</a></em></p>\n<h2>自建VPN方案</h2>\n<p>自建VPN是否成功，得靠运气，像<a href=\"https://www.vultr.com/?ref=6996621\">Vultr</a>这样的IP池比较大，但国内用户也特别多，准备好换IP吧，长远没有付费VPN靠谱。</p>\n<p><a href=\"https://www.wallmama.com/2017/08/%E7%94%A8%E5%9B%BD%E5%A4%96vps%E7%BF%BB%E5%A2%99%E7%9A%84%E4%B8%80%E7%A7%8D%E5%A7%BF%E5%8A%BF/\">用国外vps翻墙的一种姿势</a>。</p>\n<h2>付费VPN稳定性与速度</h2>\n<p>没有100%稳定的VPN服务，每年特殊时间段的连接质量都不好，容易断线。</p>\n<p>一年中大部分时间，日常使用Google，收发Gmail，使用Youtube还是稳定的。</p>\n<p>1080P的油管通常是不可能的，只在极少时间还算流畅，720P多数时候比较流畅。</p>\n<p>日常使用，偶尔断线，基本换服务器位置重连即可。</p>\n<p>即使是同一个服务，在一天不同时段，或在不同地域访问，服务质量也可能天差地别，没人知道具体原因，所以如果你在旅行途中，如果要保证最大限度的可连接性，可以考虑常备两个以上的服务，如果一个服务暂时出问题，另一个替上。</p>\n<h2>用好试用期</h2>\n<p>一线服务商都提供免费试用或至少7天的无条件退款，利用好试用期，充分检测服务质量，不满意及时退款，因为各服务在不同地域服务质量不同，所以一定要自己试一试。</p>\n</div>', '', 63, '', 1537347895, 1546275661, '客户端测试', 0, 0),
(720, '关于pm2流控的问题', 'awillheartwu', '', '<div class=\"markdown-text\"><p>现在在生产上遇到一个问题……我们现在的业务场景是nodejs的后端(express)通过ffi调用C的动态库，动态库初始化绑定显卡（显卡编号为参数），动态库的作用是OCR识别（基于caffe）。现在有个流控的问题想问问各位大牛,因为有多块显卡，所以现在是利用PM2启动多个node进程，分别绑定显卡。我想的是现在写流控的话只能在node的进程里加入队列控制最大并发，但客户的要求是在端口接收到请求的时候就做流控，我深感头疼，想问问各位大牛，pm2本身有没有限制最大并发的功能？</p>\n</div>', '', 63, '', 1537347893, 1546275661, '客户端测试', 0, 0),
(721, '请教一下，node生成word除了officegen模块，有像java一下通过模板处理的方式吗？类似于poi-tl', 'dpc761218914', '', '<div class=\"markdown-text\"><p>类似于这个；<a href=\"https://github.com/Sayi/poi-tl\">https://github.com/Sayi/poi-tl</a></p>\n<p>可以将doc模板文件\n<img src=\"//static.cnodejs.org/Fg0jObySuJ8WqxIpaSFcus5Rr8-t\" alt=\"QQ截图20180915133547.png\">\n处理成：\n<img src=\"//static.cnodejs.org/Fs3Nhbcg7Z9ajU9J94FPPpYd-_0v\" alt=\"QQ截图20180915133557.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fg0jObySuJ8WqxIpaSFcus5Rr8-t', 1537347893, 1546275661, '客户端测试', 0, 0),
(719, '请问cnpm私有包一直安装404怎么解决', 'dryqiao', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FoScllzFPjBGFu7YwhR0IIzNZVjf\" alt=\"image.png\">\n用<code>cnpm view</code>查看私有包信息，发现私有包传到r.cnpmjs.org上了，\n安装的时候，显示也是从/r.cnpmjs.org获取的，看截图上地址是一样的，但是一直404，\n这是<code>cnpm config list</code>的信息：\n<img src=\"//static.cnodejs.org/FsGo_kv5j39M3o3UN-dzpOWgqxsH\" alt=\"image.png\">\n请问怎么解决？</p>\n</div>', '', 63, '//static.cnodejs.org/FoScllzFPjBGFu7YwhR0IIzNZVjf', 1537347893, 1546275661, '客户端测试', 0, 0),
(718, '如何才能学好react？', 'zhuhaifeng1251pm', '', '<div class=\"markdown-text\"><p>求告知react的入门相关书籍！！！</p>\n</div>', '', 63, '', 1537347893, 1546275661, '客户端测试', 0, 0),
(717, '对react项目进行SSR 改造，求指导', '1160007652', '', '<div class=\"markdown-text\"><p>项目采用：React  V16.4  +   mobx   +   react-router V4   +  axios</p>\n<p>项目已经开发完，现在要改造成SSR 服务端渲染， 做SEO, 怎么下手呢。</p>\n<p>看了 next  对改造， staticRouter 改写， 初始数据获取，  路由跳转，不能使用 BrowserRouter 改staticRouter 的问题不是理解。查阅了React ssr 方案，对改造这块的资料，看着很模糊。</p>\n<p>请大伙赐教</p>\n</div>', '', 63, '', 1537347893, 1546275661, '客户端测试', 0, 0),
(716, 'req.query 获取查询参数，在IE中出现乱码？', 'wiscgazf', '', '<div class=\"markdown-text\"><p>req.query 获取查询参数，在IE中出现乱码？</p>\n<p>描述：<a href=\"http://192.168.0.20:30001/notes?search=%E5%B0%8F%E7%A8%8B%E5%BA%8F\">http://192.168.0.20:30001/notes?search=小程序</a> 从某一个链接跳转到这个查询链接，直接用req.query.search 获取参数 在其他浏览器都可以，就是在IE中 获取的req.query.search  是一个乱码\n<img src=\"//static.cnodejs.org/FgZDUx3rnRHP4xB2g0wuarySkuB6\" alt=\"微信图片_20180912115305.png\">\n<img src=\"//static.cnodejs.org/FqUb0NSNz6Ml1fZQFUfo8BSaeGYK\" alt=\"微信图片_20180912115421.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FgZDUx3rnRHP4xB2g0wuarySkuB6', 1537347893, 1546275661, '客户端测试', 0, 0),
(714, '哪里有Nodejs入门教程-对我菜鸟来说有视频最好谢谢大家', 'nodeper', '', '<div class=\"markdown-text\"><p>哪里有Nodejs入门教程-对我菜鸟来说有视频最好谢谢大家。老铁们帮帮忙推荐推荐。</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(715, '为什么中国人写不出《JS高程》、《深入理解es6》这类通俗易懂的好书？', 'kinm', '', '<div class=\"markdown-text\"><p>RT…</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(713, '在 for 循环中使用 await 是好的实践么？为什么 eslint 会提示不要这样使用？', 'meiwhu', '', '<div class=\"markdown-text\"><p>在 for 循环中使用 await 是好的实践么？为什么 eslint 会提示不要这样使用？</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(711, 'Egg.js现在用的人多吗？那些公司在用有知道的吗？', 'nodeper', '', '<div class=\"markdown-text\"><p>Egg.js现在用的人多吗？那些公司在用有知道的吗？</p>\n<p>同上，老铁们出来吧。</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(712, 'puppeteer使用问题', 'quanpf2481', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fi5uu2fPk_cIlFAHjs9ltsAkLAZr\" alt=\"image.png\">\n调用puppeteer出现了如上图的错误，请问是什么原因？？？</p>\n</div>', '', 63, '//static.cnodejs.org/Fi5uu2fPk_cIlFAHjs9ltsAkLAZr', 1537347892, 1546275661, '客户端测试', 0, 0),
(710, '使用sequelize操作数据库，后期如何新增字段问题', 'xumjs8623', '', '<div class=\"markdown-text\"><p>请问一下，使用sequelize来操作数据库，但是项目进行到后期肯定会有字段的新增，那么这个时候一般都是怎么操作的呢，是自己手动去数据库新增，然后修改sequelize定义的模型么，还是有其他的方法</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(706, '如果没有接触过koa，建议直接学习egg.js吗？', 'chinahsj', '', '<div class=\"markdown-text\"><p>nodejs接触一年左右，一直在用express，想问下大家，如果没有接触过koa，建议直接学习egg.js吗？会不会很吃力，突然对egg.js有兴趣！</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(707, '这个社会怎么了，什么学java的学php的学前端的都在学nodejs，nodejs真的要火一把了吗', 'zlnvsheng', '', '<div class=\"markdown-text\"><p>刚在 egg.js和nest.js改选择哪一个作为系统框架呢？ 这个帖子里面看到很多学java的老铁。</p>\n<p>为什么学java的\n学php的\n学前端的</p>\n<p>都在学nodejs      nodejs真的要火一把了吗？</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(708, 'NodeJs  ES6 Proxy对象导致CPU100% 3分钟 假死', 'ipengyo', '', '<div class=\"markdown-text\"><h5>日志 序列化 输出一个 Proxy对象</h5>\n<p><img src=\"//static.cnodejs.org/Fo58uSTAelFOhk4cJ2scCbDWTNsJ\" alt=\"image.png\"></p>\n<h5>其中的 get 方法 就是如下 这个 Proxy handler 的 get</h5>\n<p><img src=\"//static.cnodejs.org/FpmNkCEa9r7jUiCCzvvnLo2MvqfP\" alt=\"image.png\"></p>\n<h1>请有经验的大大 帮忙瞧瞧呢。。。我使用这个 Proxy对象代理 是为了标记 每一次对象属性的更改操作 达到数据库最小化变化操作。</h1>\n</div>', '', 63, '//static.cnodejs.org/Fo58uSTAelFOhk4cJ2scCbDWTNsJ', 1537347892, 1546275661, '客户端测试', 0, 0),
(709, '网页版聊天室，后台向前台推送消息', 'quanpf2481', '', '<div class=\"markdown-text\"><p>最近做了一个网页版的聊天室，后台是用node js建立了服务器，连接用的是socket io，每次在界面上发送数据，后台监听到之后，再广播转发，，感觉socket io 是被动式的触发，那么如果我现在想在后台向聊天室里推送消息的话，应该怎么做呢？？？</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(703, '如何用好vscode vim模式？', 'chapgaga', '', '<div class=\"markdown-text\"><p>启用vim模式后，Ctrl+w不能用，只能用：q\n一时间不适应\ndd行后，通过u取消更改，恢复原状了，可是文件的dirty位竟然还在，这有点误导人啊</p>\n<p>Ctrl+O无法使用，用什么替代方法呢？</p>\n<p>槽点，优点，欢迎大家都来评论：）</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(704, '剪贴后直接能上传图片获得图床连接的工具？', 'gnailiy', '', '<div class=\"markdown-text\"><p>最近在写markdown的时候 每次需要插图，就会觉得比较麻烦。只会用最原始的qq截图，另存为，找一个图床网站类似七牛云之类的，或者直接用知乎上传也可以，接着获取图片链接。。。。</p>\n<p>不知道有多少人是跟我一样的操作？</p>\n<p>我又尝试找一些比较方便的软件， shareX 试用了一下发现没翻墙很不方便，github上似乎也有一些能够方便一点的软件，不过大多数都是简化了上传的步骤。</p>\n<p>想问一下各位，都是用的什么软件？或者你们用markdown 的时候是如何解决截图比较麻烦的问题的？</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(705, 'puppeteer 爬取网易云网站问题', 'zhongshiji', '', '<div class=\"markdown-text\"><p>转自 <a href=\"/user/huyiyang\">@huyiyang</a> 的代码：\n<strong>获取网易云的歌词和评论</strong></p>\n<pre class=\"prettyprint\"><code>const fs = require(&#x27;fs&#x27;);\nconst puppeteer = require(&#x27;puppeteer&#x27;);\n\n(async () =&gt; {\n  const browser = await (puppeteer.launch({ executablePath: &#x27;&#x2F;Users&#x2F;huqiyang&#x2F;Documents&#x2F;project&#x2F;z&#x2F;chromium&#x2F;Chromium.app&#x2F;Contents&#x2F;MacOS&#x2F;Chromium&#x27;, headless: false }));\n  const page = await browser.newPage();\n  &#x2F;&#x2F; 进入页面\n  await page.goto(&#x27;https:&#x2F;&#x2F;music.163.com&#x2F;#&#x27;);\n\n  &#x2F;&#x2F; 点击搜索框拟人输入 鬼才会想起\n  const musicName = &#x27;鬼才会想&#x27;;\n  await page.type(&#x27;.txt.j-flag&#x27;, musicName, {delay: 0});\n\n  &#x2F;&#x2F; 回车\n  await page.keyboard.press(&#x27;Enter&#x27;);\n\n  &#x2F;&#x2F; 获取歌曲列表的 iframe\n  await page.waitFor(2000);\n  let iframe = await page.frames().find(f =&gt; f.name() === &#x27;contentFrame&#x27;);\n  const SONG_LS_SELECTOR = await iframe.$(&#x27;.srchsongst&#x27;);\n\n  &#x2F;&#x2F; 获取歌曲 鬼才会想起 的地址\n  const selectedSongHref = await iframe.evaluate(e =&gt; {\n    const songList = Array.from(e.childNodes);\n    const idx = songList.findIndex(v =&gt; v.childNodes[1].innerText.replace(&#x2F;\\s&#x2F;g, &#x27;&#x27;) === &#x27;鬼才会想起&#x27;);\n    return songList[idx].childNodes[1].firstChild.firstChild.firstChild.href;\n  }, SONG_LS_SELECTOR);\n\n  &#x2F;&#x2F; 进入歌曲页面\n  await page.goto(selectedSongHref);\n\n  &#x2F;&#x2F; 获取歌曲页面嵌套的 iframe\n  await page.waitFor(2000);\n  iframe = await page.frames().find(f =&gt; f.name() === &#x27;contentFrame&#x27;);\n\n  &#x2F;&#x2F; 点击 展开按钮\n  const unfoldButton = await iframe.$(&#x27;#flag_ctrl&#x27;);\n  await unfoldButton.click();\n\n  &#x2F;&#x2F; 获取歌词\n  const LYRIC_SELECTOR = await iframe.$(&#x27;#lyric-content&#x27;);\n  const lyricCtn = await iframe.evaluate(e =&gt; {\n    return e.innerText;\n  }, LYRIC_SELECTOR);\n\n  console.log(lyricCtn);\n\n  &#x2F;&#x2F; 截图\n  await page.screenshot({\n    path: &#x27;歌曲.png&#x27;,\n    fullPage: true,\n  });\n\n  &#x2F;&#x2F; 写入文件\n  let writerStream = fs.createWriteStream(&#x27;歌词.txt&#x27;);\n  writerStream.write(lyricCtn, &#x27;UTF8&#x27;);\n  writerStream.end();\n\n  &#x2F;&#x2F; 获取评论数量\n  const commentCount = await iframe.$eval(&#x27;.sub.s-fc3&#x27;, e =&gt; e.innerText);\n  console.log(commentCount);\n\n  &#x2F;&#x2F; 获取评论\n  const commentList = await iframe.$$eval(&#x27;.itm&#x27;, elements =&gt; {\n    const ctn = elements.map(v =&gt; {\n      return v.innerText.replace(&#x2F;\\s&#x2F;g, &#x27;&#x27;);\n    });\n    return ctn;\n  });\n  console.log(commentList);\n})();\n</code></pre><p>在18-21行，运行到：</p>\n<pre class=\"prettyprint\"><code>  &#x2F;&#x2F; 获取歌曲列表的 iframe\n  await page.waitFor(2000);\n  let iframe = await page.frames().find(f =&gt; f.name() === &#x27;contentFrame&#x27;);\n  const SONG_LS_SELECTOR = await iframe.$(&#x27;.srchsongst&#x27;);\n  console.log(&#x27;SONG_LS_SELECTOR&#x27;) &#x2F;&#x2F; null\n</code></pre><p>输出 <em>SONG_LS_SELECTOR</em> 为 <em>null</em>，\n导致往后运行不下去，请问是什么原因？</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(701, 'SSR发起HTTP请求的最佳实践，是服务端发起，还是客户端发起？', 'axetroy', '', '<div class=\"markdown-text\"><p>类似于 <code>Nuxt.js</code> 的 <code>asyncData</code> 和 <code>next.js</code> 的 <code>getInitialProps</code></p>\n<p>这些首屏渲染的时候有两种方式:</p>\n<ol>\n<li>服务端发送 HTTP 请求 --&gt; 存储进 <code>store</code> --&gt; 返回页面</li>\n<li>返回页面 --&gt; 客服端发起 HTTP 请求</li>\n</ol>\n<p>我和同事在这里有分歧了，请教下怎么样的才是最佳实践</p>\n<p>我认为: 方式1比较好</p>\n<blockquote>\n<p>因为服务器基本同属一个内网。Node 服务器和 API 服务器的通讯速度，优于客户端和API服务器的通讯速度\n缺点如果API缓慢的话，那么首屏页面也缓慢\nSEO也比较全</p>\n</blockquote>\n<p>他认为: 方式2比较好</p>\n<blockquote>\n<p>SSR就是页面出来得快，即便页面也没什么数据\n接口崩了也不要紧，起码页面出来了，然后在客户端报错</p>\n</blockquote>\n<p>那么你觉得呢</p>\n<p>方式一：\n<img src=\"//static.cnodejs.org/FvqmvxHcrtm2Jejmm_QVsG0J5UFC\" alt=\"1.png\"></p>\n<p>方式二：\n<img src=\"//static.cnodejs.org/Fl0O7i-lQP1wUSCkiMwA_5QezjnP\" alt=\"2.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FvqmvxHcrtm2Jejmm_QVsG0J5UFC', 1537347892, 1546275661, '客户端测试', 0, 0),
(702, '出现Error: getaddrinfo EAI_AGAIN后 ， 如何让程序继续运行下去？', 'zhubenjie', '', '<div class=\"markdown-text\"><h3>爬虫项目 下载图片。</h3>\n<pre class=\"prettyprint language-javascript\"><code>function downImgUrl(url, filename) {\n\n    try {\n        console.log(&#x27;download img url = &#x27;, url)\n        request(url).pipe(fs.createWriteStream(path.join(__dirname, &#96;${config.local_file_path}${filename}&#96;)))\n    } catch (e) {\n        console.log(&#x27;文件创建有错误&#x27;)\n        console.log(e)\n    }\n}\n</code></pre><h3>在下载图片的时候有几率会出现以下问题，并且程序就直接挂掉了，想问通过什么方法可以让程序继续运行下去。</h3>\n<p><img src=\"//static.cnodejs.org/Fs5jY57hOZhBIueGN8pE6VFmOyEn\" alt=\"2.jpg\"></p>\n<p><img src=\"//static.cnodejs.org/Fj8aVnzAUY_duZuhUQTIJ0Wn_Vhm\" alt=\"1.jpg\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fs5jY57hOZhBIueGN8pE6VFmOyEn', 1537347892, 1546275661, '客户端测试', 0, 0),
(700, 'node.js的入门（萌新）', 'remembergf', '', '<div class=\"markdown-text\"><p>近期在学习node.js，由于自己是初学者，看了《Node.js开发指南》和 《Node.js开发实战》上的一些基础的东西，《深入浅出 Node.js》看起来是很吃力，最近试着用Express开发自己的一个 个人博客系统，刚刚开始，就感觉很吃力，最近就在想该怎么来学习，希望曾经和我有相同问题的朋友解答下我的疑惑，学习路线很迷茫啊。。。</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(698, 'db.collection.find(query, projection)的第二个参数为何无效？', 'jinkankakushoujo', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fqqj4_JpEIdu-LcNzN1OxhpSdjl9\" alt=\"QQ截图20180914171602.png\">\n<img src=\"//static.cnodejs.org/FgHHmUcXWhaI4EheymXFXX2qJ6p_\" alt=\"QQ截图20180914171346.png\">\n看代码里的定义发现和手册里的第二个参数名称都不一样，不管用 {title: 0}还是{title: 1}返回的内容都一样。\n版本是 “mongodb”: “^3.1.3”</p>\n</div>', '', 63, '//static.cnodejs.org/Fqqj4_JpEIdu-LcNzN1OxhpSdjl9', 1537347892, 1546275661, '客户端测试', 0, 0),
(699, 'sequelize.query() 原生查询使用replacements 参数能防sql注入吗？', 'zurmokeeper', '', '<div class=\"markdown-text\"><p>sequelize.query() 原生查询使用replacements 参数能防sql注入吗？</p>\n<pre class=\"prettyprint\"><code>sequelize.query(&#x27;SELECT * FROM projects WHERE status = ?&#x27;,\n  { replacements: [&#x27;active&#x27;], type: sequelize.QueryTypes.SELECT }\n).then(projects =&gt; {\n  console.log(projects)\n})\n</code></pre><p>像这里的status的值的查询？</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(697, '区块链入门选择什么开发语言？', 'ezpod', '', '<div class=\"markdown-text\"><p>区块链技术入门涉及那些编程语言？在本文中，将介绍比特币、超级账本Fabric和以太坊这三种区块链中，分别使用什么开发语言来进行智能合约编程，并提供你进一步学习的资源链接。</p>\n<h2>比特币</h2>\n<p>比特币是第一个真正意义上的区块链，不过，从严格意义上来讲，它对智能合约的开发者是不友好的。</p>\n<p>可以用一种低门槛的编程语言<a href=\"https://en.bitcoin.it/wiki/Script\">Bitcoin Script</a>在比特币系统上编写智能合约。每个比特币地址都对应着一个Bitcoin Script程序。看起来是这样：</p>\n<pre class=\"prettyprint\"><code>IF \n    2 &lt;Alices&#x27; pubkey&gt; &lt;Bob&#x27;s pubkey&gt; &lt;Escrow&#x27;s pubkey&gt; 3 CHECKMULTISIG\nELSE\n    &quot;30d&quot; CHECKSEQUENCEVERIFY DROP\n    &lt;Alices&#x27; pubkey&gt; CHECKSIG\nENDIF\n</code></pre><p>另一种较高级别的语言是Ivy，它可以编译成Bitcoin Script。Ivy能够帮助你编写自定义的比特币地址，这种地址与隔离见证（SegWit）兼容，在比特币协议（包括签名检查、hash特征值（commitment）和时间锁）的支持下，可以执行任意条件组合。例如：</p>\n<pre class=\"prettyprint\"><code>contract EscrowWithDeplay{\n    sender: PublicKey\n    recipient: PublicKey,\n    escrow: PublicKey,\n    delay: Duration,\n    val: Value\n}{\n    clause transfer(sig1: Signature, sig2: Signature){\n        verify checkMultiSig([sender, recipient, escrow],[sig1, sig2])\n        unlock val\n    }\n    clause timeout(sig: Signature){\n        verify checkSig(sender, sig)\n        verify older(delay)\n        unlock val\n    }\n}\n</code></pre><p>Ivy的github地址：<a href=\"https://github.com/ivy-lang/ivy-bitcoin\">https://github.com/ivy-lang/ivy-bitcoin</a></p>\n<p>比特币“虚拟机”——协议中负责执行Bitcoin Script程序的一部分——与以太坊或者Chain Protocol等其它智能合约平台的虚拟机相比（功能）更加有限，其指令系统甚至不是图灵完备的。但Bitcoin Script的确提供了一组很有用的基础原语（primitives）——签名校验、哈希计算以及相对和绝对的时间锁——另外还能对这些原语进行自由组合。</p>\n<h2>超级账本fabric</h2>\n<p>fabric是超级账本大家庭中最成熟的一个区块链项目，主要用于行业链、联盟联或私有链，它不需要通过挖矿来形成共识，因此可以达到很高的交易速度。</p>\n<p>在fabric中，智能合约被称为链码（Chaincode），实质上是控制区块链网络中的不同实体或相关方如何相互交互或交易的业务逻辑。简言之，链代码将业务网络交易封装在代码中。可以调用链代码来设置和获取账本或 world state。</p>\n<p>超级账本可以使用go、java或者nodejs来开发智能合约，不过支持最好的还是go语言。下面是使用go开发的一个简单地fabric智能合约：</p>\n<pre class=\"prettyprint\"><code>package main\n \nimport &quot;fmt&quot;\nimport &quot;github.com&#x2F;hyperledger&#x2F;fabric&#x2F;core&#x2F;chaincode&#x2F;shim&quot;\n \ntype SampleChaincode struct {\n}\n \nfunc (t *SampleChaincode) Init(stub shim.ChaincodeStubInterface, function string, args []string) ([]byte, error) {\n    return nil, nil\n}\n \nfunc (t *SampleChaincode) Query(stub shim.ChaincodeStubInterface, function string, args []string) ([]byte, error) {\n    return nil, nil\n}\n \nfunc (t *SampleChaincode) Invoke(stub shim.ChaincodeStubInterface, function string, args []string) ([]byte, error) {\n    return nil, nil\n}\n \nfunc main() {\n    err := shim.Start(new(SampleChaincode))\n    if err != nil {\n        fmt.Println(&quot;Could not start SampleChaincode&quot;)\n    } else {\n        fmt.Println(&quot;SampleChaincode successfully started&quot;)\n    }\n \n}\n</code></pre><p>frabric的智能合约可以使用一个go中的类实现，它必须要实现约定的借口Init和Query。</p>\n<p>Init 方法 在链代码首次部署到区块链网络时调用，将由部署自己的链代码实例的每个对等节点执行。而只要在区块链状态上执行任何读取/获取/查询操作，就会调用 Query 方法。</p>\n<p>访问这里了解更多关于fabric的智能合约开发的相关信息：<a href=\"http://hyperledger-fabric.readthedocs.io/en/release-1.1/chaincode.html\">Fabric Chaincode</a></p>\n<h2>以太坊</h2>\n<p>以太坊是第一个提供完善的智能合约开发框架的区块链，因此它也被称为区块链2.0的代表。事实上，目前绝大多数的区块链应用，包括ICO代币发行，都是基于以太坊来实现的智能合约应用。</p>\n<p>以太坊有四种专用语言可以用来开发智能合约：</p>\n<ul>\n<li>Solidity ，受JavaScript 启发</li>\n<li>Serpent ，受Python启发</li>\n<li>Mutan，受Go 启发</li>\n<li>LLL 受Lisp 启发</li>\n</ul>\n<p>这四种语言都是为面向合约编程而从底层开始设计的语言，但从目前的发展来看，Solidity已经称为以太坊智能合约开发当之无愧的首选语言。</p>\n<p>Solidity的语法类似于JavaScript，这降低了学习门槛，易于被掌握和使用，因为JavaScript是Web开发者的常用语言。例如，下面是一个使用Solidity开发的简单但完整的智能合约：</p>\n<pre class=\"prettyprint\"><code>pragma solidity ^0.4.21;\n\ncontract HelloWorld {\n    string hello = &quot;Hello World!!!&quot;;\n    event say(string _value);\n    \n    function sayHello() public {\n        emit say(hello);\n    }   \n}\n</code></pre><p>合约代码第一行指定该合约使用的Solidity版本为0.4.21，不支持高于0.4.21版本的Solidity特性。</p>\n<p>在Solidity中，contract关键字包含的代码段即表示一个智能合约，它拥有一些成员变量和函数，看起来非常类似于传统的面向对象开发中的类。</p>\n<blockquote>\n<p>如果你希望马上开始学习以太坊智能合约和应用开发，可以访问汇智网提供的出色的在线互动教程：</p>\n<ul>\n<li><a href=\"http://xc.hubwiz.com/course/5a952991adb3847553d205d1?affid=cnode7878\">以太坊智能合约与应用实战开发入门</a></li>\n<li><a href=\"http://xc.hubwiz.com/course/5abbb7acc02e6b6a59171dd6?affid=cnode7878\">以太坊去中心化电商应用实战开发</a></li>\n</ul>\n</blockquote>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0);
INSERT INTO `hos_article` (`id`, `title`, `author`, `description`, `content`, `md`, `author_id`, `banner_img`, `dateline`, `fuck_date`, `tags`, `agree`, `disagree`) VALUES
(696, 'Windows下部署egg.js版cnodejs执行$ npm run assets报错', 'sonong', '', '<div class=\"markdown-text\"><p>npm i 无报错，执行到 $ npm run assets，报错，其中图片的路径 有个C:\n截图：<img src=\"//static.cnodejs.org/FrzxhnQ8G0RhquRn-j2zjZ222vmO\" alt=\"bbs.png\"></p>\n<p>日志：\n0 info it worked if it ends with ok\n1 verbose cli [ ‘C:\\Program Files\\nodejs\\node.exe’,\n1 verbose cli   ‘C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js’,\n1 verbose cli   ‘run’,\n1 verbose cli   ‘assets’ ]\n2 info using npm@5.6.0\n3 info using node@v10.0.0\n4 verbose run-script [ ‘preassets’, ‘assets’, ‘postassets’ ]\n5 info lifecycle bbs@1.0.0~preassets: bbs@1.0.0\n6 info lifecycle bbs@1.0.0~assets: bbs@1.0.0\n7 verbose lifecycle bbs@1.0.0~assets: unsafe-perm in lifecycle true\n8 verbose lifecycle bbs@1.0.0~assets: PATH: C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin;C:\\GitHub\\bbs\\node_modules.bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files\\QCloud\\Monitor\\Barad;C:\\Program Files\\Git\\cmd;C:\\Go\\bin;C:\\nssm-2.24\\win64;C:\\GitHub\\gogs;C:\\mysql;C:\\Program Files\\nodejs;C:\\Program Files (x86)\\Windows Kits\\8.1\\Windows Performance Toolkit;C:\\Users\\Administrator\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\Administrator\\AppData\\Roaming\\npm\n9 verbose lifecycle bbs@1.0.0~assets: CWD: C:\\GitHub\\bbs\n10 silly lifecycle bbs@1.0.0~assets: Args: [ ‘/d /s /c’, ‘loader app/view app/’ ]\n11 silly lifecycle bbs@1.0.0~assets: Returned: code: 1  signal: null\n12 info lifecycle bbs@1.0.0~assets: Failed to exec assets script\n13 verbose stack Error: bbs@1.0.0 assets: <code>loader app/view app/</code>\n13 verbose stack Exit status 1\n13 verbose stack     at EventEmitter.&lt;anonymous&gt; (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\index.js:285:16)\n13 verbose stack     at EventEmitter.emit (events.js:182:13)\n13 verbose stack     at ChildProcess.&lt;anonymous&gt; (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\lib\\spawn.js:55:14)\n13 verbose stack     at ChildProcess.emit (events.js:182:13)\n13 verbose stack     at maybeClose (internal/child_process.js:947:16)\n13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:236:5)\n14 verbose pkgid bbs@1.0.0\n15 verbose cwd C:\\GitHub\\bbs\n16 verbose Windows_NT 6.3.9600\n17 verbose argv “C:\\Program Files\\nodejs\\node.exe” “C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js” “run” &quot;assets&quot;\n18 verbose node v10.0.0\n19 verbose npm  v5.6.0\n20 error code ELIFECYCLE\n21 error errno 1\n22 error bbs@1.0.0 assets: <code>loader app/view app/</code>\n22 error Exit status 1\n23 error Failed at the bbs@1.0.0 assets script.\n23 error This is probably not a problem with npm. There is likely additional logging output above.\n24 verbose exit [ 1, true ]</p>\n</div>', '', 63, '//static.cnodejs.org/FrzxhnQ8G0RhquRn-j2zjZ222vmO', 1537347892, 1546275661, '客户端测试', 0, 0),
(695, 'React入门真难', '15766273878', '', '<div class=\"markdown-text\"><p>react.js 入门真心难，太多步骤太多东西要记了</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(693, 'node做中间层，与pythone 做交互，tcp 通信，能给个思路吗', 'Sxy97', '', '<div class=\"markdown-text\"><p>node做中间层，与pythone 做交互，tcp 通信，能给个思路吗？</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(694, '统计一下，有多少人在egg中使用了TS功能！', 'tong3jie', '', '<div class=\"markdown-text\"><p>+1</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(692, 'express-formidable设定uploadDir上传文件目录问题，能否针对不同的路由，设定不同uploadDir？', 'Shawn211', '', '<div class=\"markdown-text\"><p>小白求解答\n在程序主文件 index.js 中我设定 express-formidable 处理数据\nrequire(‘express-formidable’)({\nuploadDir: path.join(__dirname, ‘public/img/temp’),  // 上传文件目录\nkeepExtensions: true  // 保留后缀\n})</p>\n<p><img src=\"//static.cnodejs.org/FrSsofYZX3VDZE58ICvU7Sn3y3wG\" alt=\"image.png\">\n然后现在在想在各个不同的路由上，例如文章上传的图片上传到pic目录下\n而其他地方的上传的图片或者文件都保存到temp下\n<img src=\"//static.cnodejs.org/Flf_01yjuhmvbN4HCWu0TOGEp9kd\" alt=\"image.png\">\n我使用ajax将文章上传图片通过 /upload 路由上传，如何完成 upload.js 路由文件，使其能够重新设定uploadDir为 ’public/img/pic’？</p>\n<p><img src=\"//static.cnodejs.org/FqbcaozpNUrSkVKahfqne6egNaEc\" alt=\"image.png\">\n这个地方也一直输出不出来\n简单的说就是想：不同的路由对于文件上传时设定不同的 uploadDir 文件保存目录\n或者有别的思路解决这个问题的也可以说说，谢谢各位了，新手学习学习</p>\n</div>', '', 63, '//static.cnodejs.org/FrSsofYZX3VDZE58ICvU7Sn3y3wG', 1537347892, 1546275661, '客户端测试', 0, 0),
(690, 'Vue-cli 3.x让我感觉很别扭，求指教啊', 'bi-kai', '', '<div class=\"markdown-text\"><p>之前用ng+gulp方式做开发，现在切到vue+webpack，学完webpack4.x后，发现vue-cli 3.x的构建竟然隐藏了build目录，很不习惯，是不是我的姿势不对，希望大家指点迷津。</p>\n<ol>\n<li>cli2.x中build看着舒服，写webpack配置能掌控构建的每个细节，cli3.x的构建被隐藏，通过vue.config.js做merge，而且用自己的语法糖包裹，本身webpack4就是比较新了，有学习成本，为什么要包裹语法糖，把简单问题复杂化？</li>\n<li>webpack4零配置的广告效应更明显，实际项目中肯定都是需要各种定制化的，哪会有相同配置的项目呢，比如我的个人构建目录结构和cli提供的完全不同，cli3向这个方向是否是必需的呢？</li>\n<li>还记得当年jQuery写出的裹脚布么，vue.config.js定制过多时给我的感觉就是这样，而且还要求不能用webpack config output下的一些属性，必须用cli里规定的，为什么要这样包裹转换一次呢？</li>\n</ol>\n<p>给我的感觉cli3不如cli2方便，如果按个人喜好，我会自己写构建不用cli，但是cli里提供了很多定制化的模块和预设配置，又希望都能用到，而且cli是主流，可能只是我还没适应吧。</p>\n<p>话说npm包命名规范也是让我觉得很别扭，@开头，虽然好处明显了，不过看着还是很不舒服，像beta版本。</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(691, 'mongoose统计某个数组字段的长度问题？', 'wiscgazf', '', '<div class=\"markdown-text\"><p>例如下面列出的数据有很多条，怎样可以统计出总的数据个数 加上 每条数据下面的replyData的长度 总和？ （下面的数据总和 就是 2条数据 + 每条下面的replyData个数4个长度 最后结果为 6条）\n{\n&quot;_id&quot; : ObjectId(“5ba081f06452d72264e08471”),\n“notesData” : ObjectId(“5b84c4f1f95943259c1f01c9”),\n“userData” : ObjectId(“5b98729d75f1ef1708575269”),\n“content” : “test1 的数据”,\n“createTime” : ISODate(“2018-09-18T04:41:20.391Z”),\n“replyData” : [\n{\n“createTime” : ISODate(“2018-09-18T04:41:20.391Z”),\n“from” : ObjectId(“5b7a777d8de91e20f0c3f712”),\n“to” : ObjectId(“5b7a77f68de91e20f0c3f713”),\n“content” : “第一个”\n},\n{\n“createTime” : ISODate(“2018-09-18T04:41:20.391Z”),\n“from” : ObjectId(“5b7a7844cc4fc41ddc5398c0”),\n“to” : ObjectId(“5b7a777d8de91e20f0c3f712”),\n“content” : “第一个”\n}\n],\n&quot;__v&quot; : 0\n},\n{\n&quot;_id&quot; : ObjectId(“5ba081f06452d72264e08471”),\n“notesData” : ObjectId(“5b84c4f1f95943259c1f01c9”),\n“userData” : ObjectId(“5b98729d75f1ef1708575269”),\n“content” : “test1 的数据”,\n“createTime” : ISODate(“2018-09-18T04:41:20.391Z”),\n“replyData” : [\n{\n“createTime” : ISODate(“2018-09-18T04:41:20.391Z”),\n“from” : ObjectId(“5b7a777d8de91e20f0c3f712”),\n“to” : ObjectId(“5b7a77f68de91e20f0c3f713”),\n“content” : “第一个”\n},\n{\n“createTime” : ISODate(“2018-09-18T04:41:20.391Z”),\n“from” : ObjectId(“5b7a7844cc4fc41ddc5398c0”),\n“to” : ObjectId(“5b7a777d8de91e20f0c3f712”),\n“content” : “第一个”\n}\n],\n&quot;__v&quot; : 0\n}</p>\n</div>', '', 63, '', 1537347891, 1546275661, '客户端测试', 0, 0),
(689, '关于不可枚举属性', 'zhongshiji', '', '<div class=\"markdown-text\"><p>在MDN上看到这样一个例子：</p>\n<pre class=\"prettyprint\"><code>var obj = Object.create({foo: 1}, { &#x2F;&#x2F; foo 是个继承属性。\n    bar: {\n        value: 2  &#x2F;&#x2F; bar 是个不可枚举属性。\n    },\n    baz: {\n        value: 3,\n        enumerable: true  &#x2F;&#x2F; baz 是个自身可枚举属性。\n    }\n});\n\nvar copy = Object.assign({}, obj);\nconsole.log(copy); &#x2F;&#x2F; { baz: 3 }\n</code></pre><p>里面为什么说bar是个不可枚举属性呢？\n网上搜索的答案看不太懂。</p>\n</div>', '', 63, '', 1537347891, 1546275661, '客户端测试', 0, 0),
(688, 'eggjs的vue插件怎么用？', 'onesez', '', '<div class=\"markdown-text\"><p>文档看不太懂，没有发现有example，就他vue的渲染和使用vue的示例哪里有，请教各位！</p>\n</div>', '', 63, '', 1537347892, 1546275661, '客户端测试', 0, 0),
(687, 'node js 中怎么样把spawn产生的子进程中数据返回给node js主程序', 'quanpf2481', '', '<div class=\"markdown-text\"><p>例如程序：\n#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;</p>\n<p>int main() {\nint cntr = 0;\nwhile(1) {\nsleep(1);\ncntr++;\nprintf(“cntr = %d\\n”, cntr);\n}</p>\n<p>}\n编译成getpsdata文件后，\n然后通过：\nvar spawn = require(‘child_process’).spawn;\nvar ps = spawn(’./getpsdata’, {stdio: [‘pipe’, ‘pipe’, ‘pipe’]});</p>\n<p>if(ps.stdout !== null) {\n	ps.stdout.on(‘data’, function(data) {\n	  console.log(‘data’, data.toString());\n	});\n}else{\n	console.log(ps.stdout);\n}\n// ps.stdout.on(‘data’, function(data) {\n//   console.log(‘data’, data.toString());\n// });</p>\n<p>if(ps.stderr !== null) {\n	ps.stderr.on(‘data’, function(data) {\n	  console.log(‘data’, data.toString());\n	});\n}else{\n	console.log(ps.stderr);\n}</p>\n<p>// ps.stderr.on(‘data’, function(data) {\n//   console.log(‘error’, data.toString());\n// });</p>\n<p>ps.on(‘close’, function(code) {\nconsole.log(‘close’, code);\n});</p>\n<p>ps.on(‘exit’,function(code) {\n	console.log(‘exit’, code);\n});</p>\n<p>ps.on(‘error’, function(code) {\nconsole.log(‘error’, code);\n});\n我想把getpsdata里面的打印的数据传给node的主程序中，应该怎么做呢？？？</p>\n</div>', '', 63, '', 1537347891, 1546275661, '客户端测试', 0, 0),
(686, '为什么与node相关的教程十有八九都是mongodb,现实中用的最多的却是mysql,是否会造成想学习服务端的前端(原本对服务端不熟悉的前端)，增加学习成本', '1134506391', '', '<div class=\"markdown-text\"><h2>估计新入node的小伙伴都和我有下面相关的想法</h2>\n<p>1.<strong>不喜勿喷，轻喷，轻喷，轻喷</strong>\n2.为什么与node相关的教程十有八九都是mongodb,现实中用的最多的却是mysql,是否会造成想学习服务端的前端(原本对服务端不熟悉的前端)，增加学习成本\n3.我个人进入node才1年左右，用过mongodb,mysql,根本操作还是会的，但是却越学越迷茫，感觉有种闭门造车的感觉，对于复杂一点的项目，使用mondodb的话，设计数据表的时候，不知从何下手，也没有案例经验可循</p>\n<h2>**课</h2>\n<p><img src=\"//static.cnodejs.org/FkUCczIhniAe5xVOkmeU4v7IgyBF\" alt=\"1537318352(1).png\">\n<img src=\"//static.cnodejs.org/Fkl9pDSXe_NHp3twhnnqXTIIMVQq\" alt=\"1537318447(1).png\"></p>\n<h2>反而**g.js 更深入我心</h2>\n<p><img src=\"//static.cnodejs.org/FghMPjgBrS-YAYXHoW89rvqIwOBf\" alt=\"1537318582(1).png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FkUCczIhniAe5xVOkmeU4v7IgyBF', 1537347891, 1546275661, '客户端测试', 0, 0),
(685, 'sequelize 实例过多导致内存泄漏问题', 'dingyuanwu', '', '<div class=\"markdown-text\"><p>在使用sequelize的时候，对于用户记录表是每一个用户都会有一张表，\n当每一个用户访问的时候都会新建一个model，随着用户数量的增加，model越来越多，\n之前的model由于闭包的其他的问题没有释放，导致model的数量一直在增加，\n类似的表项还有几个，这就导致了现在的问题，内存泄漏的情况比较严重，\n现在修改使用方法的成本很高，有没有其他的解决办法，\n求大神赐教</p>\n</div>', '', 63, '', 1537347891, 1546275661, '客户端测试', 0, 0),
(683, '正在看《深入浅出nodejs》的内存控制，想到一个关于 chrome 内存管理的问题', 'zerosrat', '', '<div class=\"markdown-text\"><p>已知的知识：</p>\n<ol>\n<li>v8 初始化会分配固定大小的内存空间（64位1.4G）</li>\n<li>一个 chrome tab 有一个 v8 实例</li>\n</ol>\n<p>问题：\n为啥开了 n 个 tab 的 chrmoe 的内存占用明显小于 1.4G x n 呢？</p>\n</div>', '', 63, '', 1537347891, 1546275661, '客户端测试', 0, 0),
(684, '请问这种代码如何做的?', 'ixs12000', '', '<div class=\"markdown-text\"><p>一点头绪都没有,看代码不懂怎么看\n<img src=\"//static.cnodejs.org/Fu_7EFA-dt5RPD41E__Wv4KuEFQe\" alt=\"1.jpg\"></p>\n<p><a href=\"https://www.cwebgl.com/code/b8b58051-c620-4bed-8e59-b43997595271\">代码链接</a></p>\n</div>', '', 63, '//static.cnodejs.org/Fu_7EFA-dt5RPD41E__Wv4KuEFQe', 1537347891, 1546275661, '客户端测试', 0, 0),
(1072, '请教一个react 代码格式化的问题，麻烦知道的老哥说下', 'dengnan123', '', '<div class=\"markdown-text\"><p>编辑器是 vscode 装的有prettier,eslint 用的都是antd-pro 的配置\nprettier配置如下</p>\n<pre class=\"prettyprint\"><code> {\n  &quot;singleQuote&quot;: true,\n  &quot;trailingComma&quot;: &quot;es5&quot;,\n  &quot;printWidth&quot;: 100,\n  &quot;overrides&quot;: [\n    {\n      &quot;files&quot;: &quot;.prettierrc&quot;,\n      &quot;options&quot;: { &quot;parser&quot;: &quot;json&quot; }\n    }\n  ]\n}\n\n</code></pre><p>eslint配置如下，</p>\n<pre class=\"prettyprint\"><code>module.exports = {\n  parser: &#x27;babel-eslint&#x27;,\n  extends: [&#x27;airbnb&#x27;, &#x27;prettier&#x27;],\n  env: {\n    browser: true,\n    node: true,\n    es6: true,\n    mocha: true,\n    jest: true,\n    jasmine: true,\n  },\n  rules: {\n    &#x27;generator-star-spacing&#x27;: [0],\n    &#x27;consistent-return&#x27;: [0],\n    &#x27;react&#x2F;forbid-prop-types&#x27;: [0],\n    &#x27;react&#x2F;jsx-filename-extension&#x27;: [1, { extensions: [&#x27;.js&#x27;,&#x27;.jsx&#x27;] }],\n    &#x27;global-require&#x27;: [1],\n    &#x27;import&#x2F;prefer-default-export&#x27;: [0],\n    &#x27;react&#x2F;jsx-no-bind&#x27;: [0],\n    &#x27;react&#x2F;prop-types&#x27;: [0],\n    &#x27;react&#x2F;prefer-stateless-function&#x27;: [0],\n    &#x27;react&#x2F;jsx-one-expression-per-line&#x27;: [0],\n    &#x27;react&#x2F;jsx-wrap-multilines&#x27;: [\n      &#x27;error&#x27;,\n      {\n        declaration: &#x27;parens-new-line&#x27;,\n        assignment: &#x27;parens-new-line&#x27;,\n        return: &#x27;parens-new-line&#x27;,\n        arrow: &#x27;parens-new-line&#x27;,\n        condition: &#x27;parens-new-line&#x27;,\n        logical: &#x27;parens-new-line&#x27;,\n        prop: &#x27;ignore&#x27;,\n      },\n    ],\n    &#x27;no-else-return&#x27;: [0],\n    &#x27;no-restricted-syntax&#x27;: [0],\n    &#x27;import&#x2F;no-extraneous-dependencies&#x27;: [0],\n    &#x27;no-use-before-define&#x27;: [0],\n    &#x27;jsx-a11y&#x2F;no-static-element-interactions&#x27;: [0],\n    &#x27;jsx-a11y&#x2F;no-noninteractive-element-interactions&#x27;: [0],\n    &#x27;jsx-a11y&#x2F;click-events-have-key-events&#x27;: [0],\n    &#x27;jsx-a11y&#x2F;anchor-is-valid&#x27;: [0],\n    &#x27;no-nested-ternary&#x27;: [0],\n    &#x27;arrow-body-style&#x27;: [0],\n    &#x27;import&#x2F;extensions&#x27;: [0],\n    &#x27;no-bitwise&#x27;: [0],\n    &#x27;no-cond-assign&#x27;: [0],\n    &#x27;import&#x2F;no-unresolved&#x27;: [0],\n    &#x27;comma-dangle&#x27;: [\n      &#x27;error&#x27;,\n      {\n        arrays: &#x27;always-multiline&#x27;,\n        objects: &#x27;always-multiline&#x27;,\n        imports: &#x27;always-multiline&#x27;,\n        exports: &#x27;always-multiline&#x27;,\n        functions: &#x27;ignore&#x27;,\n      },\n    ],\n    &#x27;object-curly-newline&#x27;: [0],\n    &#x27;function-paren-newline&#x27;: [0],\n    &#x27;no-restricted-globals&#x27;: [0],\n    &#x27;require-yield&#x27;: [1],\n  },\n  parserOptions: {\n    ecmaFeatures: {\n      experimentalObjectRestSpread: true,\n    },\n  },\n  settings: {\n    polyfills: [&#x27;fetch&#x27;, &#x27;promises&#x27;],\n  },\n};\n\n\n</code></pre><p>如果我的文件是jsx结尾的，用vscode右键的格式化文件可以把代码正常的格式化，\n但是如果是js 右键格式化，代码就乱，如下\n<img src=\"//static.cnodejs.org/Fixv1yK1M3oPG_HaA5VDTHel9pvf\" alt=\"image.png\">\n这是需要在哪里在配置下嘛，刚写react没多久，不太会弄，求知道的老哥解答下，谢谢了</p>\n</div>', '', 63, '//static.cnodejs.org/Fixv1yK1M3oPG_HaA5VDTHel9pvf', 1537347916, 1546275661, '客户端测试', 0, 0),
(1073, '请问node如何设置请求时的 dns ttl 为0，centos系统', 'shuaishenk', '', '<div class=\"markdown-text\"><p>请问node如何设置请求时的 dns ttl 为0，centos系统</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1074, 'node引入静态文件加载很慢', 'dixiaoping', '', '<div class=\"markdown-text\"><p>最近使用node，处理页面，发现只要pv达到十几万，node请求的静态资源css速度就会很慢，导致网站渲染很慢，后来重启node服务就好了，而且日志也没有错误，但是不能一直重启\n<img src=\"//static.cnodejs.org/FiGZtLKQSBvhZj8u44XZjZKteON-\" alt=\"image.png\">\n单独访问css文件也很慢\n<img src=\"//static.cnodejs.org/FnKXZ5h7fDw5Dv9PSS2WcM1VPEcJ\" alt=\"image.png\">\n使用的是express引入的静态文件\n<img src=\"//static.cnodejs.org/FmtOEr3tzFMNwYvSOu40vUWqqi91\" alt=\"image.png\">\n是不是我应该把css放在cdn上边，不要在我项目中，考虑到我css样式不是特别多，我把css放到页面style中，而不是css文件中，但是没有解决了根本问题\n想向大家求教一下，是什么原因造成的，\n但是项目在我的本地环境跑是没有问题的，很快\n我使用的是art-template模板，是与模板有关系吗</p>\n</div>', '', 63, '//static.cnodejs.org/FiGZtLKQSBvhZj8u44XZjZKteON-', 1537347916, 1546275661, '客户端测试', 0, 0),
(1075, '如何人为控制JS代码片段占用主进程（Main Thread）的时间？', 'hz0324', '', '<div class=\"markdown-text\"><p>我知道这是一个前端的问题，但是涉及到很底层的JS代码解析的问题，所以觉得在Cnode论坛问比较合适，毕竟这里的大神对JS理解更深入啊。\n问题如下：</p>\n<p>我们的Web应用规模比较大，会在后台（指的还是前端）进行大量的计算。这就导致用户的操作，比如touch and move等，感觉到明显的卡顿。原因是Main Thread被后台进行js的代码占用了。</p>\n<p>我查了很多资料，看到Google的Web开发建议中，说要把每个JS任务的时长控制在50ms以内，并且尽可能多的给Main thread留出空闲时间，以便Main Thread可以去处理用户输入性操作。</p>\n<p>请问，我该如何控制一个方法运行多久啊？\n是把大的function写成多个小function？还是把for循环之类的改成多久执行一次？</p>\n<p>有没有相关的文章和教程可以学习？</p>\n<p>多谢各位</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1076, '有没有eggjs的开源项目', 'cobola', '', '<div class=\"markdown-text\"><p>比如 类似论坛啊 博客之类的</p>\n<p>找到有个 aliyun-egg showcase\n还有没有推荐的\n功能相对复杂点的</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1077, '请问微信公众号正式账号开发，使用natapp配置js接口安全域名如何配置呢？（使用测试公共账号没有问题）', 'dpc761218914', '', '<div class=\"markdown-text\"><p>1、natapp生成的域名是否是已经备案的域名呢？如 <a href=\"http://5gm3s3.natappfree.cc\">http://5gm3s3.natappfree.cc</a>\n2、如果是已经备案的域名，那么js接口安全域名应该如何配置呢？在node项目中需要放置一个txt的文件。我这里把它public静态文件夹下面了。\n<img src=\"//static.cnodejs.org/FtTPVb2MsGM3tDxqb8ogUe1gaHoU\" alt=\"QQ截图20180811140303.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FtTPVb2MsGM3tDxqb8ogUe1gaHoU', 1537347916, 1546275661, '客户端测试', 0, 0),
(1078, 'TypeScript 中应如何声明一个函数，之后给它添加静态属性？', 'xyzingh', '', '<div class=\"markdown-text\"><p>反面例子1：</p>\n<pre class=\"prettyprint\"><code>function abc(a: string, b: number): void;\nfunction abc(a: string): void;\nfunction abc(a: any, b:any): void {\n	if (typeof b === &#x27;number&#x27;){}\n	else {}\n}\nabc.someAttr = ()=&gt;{};\n</code></pre><p>反面例子2：</p>\n<pre class=\"prettyprint\"><code>interface IAbc {\n	(a: string, b: number): void;\n	(a: string): void;\n	someAttr: ()=&gt;void;\n}\nlet abc: IAbc = (a: any, b:any) =&gt; {\n	if (typeof b === &#x27;number&#x27;){}\n	else {}\n}\nabc.someAttr = ()=&gt;{};\n</code></pre><p>现在这样凑合着：</p>\n<pre class=\"prettyprint\"><code>interface IAbc {\n	(a: string, b: number): void;\n	(a: string): void;\n	someAttr?: ()=&gt;void; &#x2F;&#x2F; 加了个问号\n}\nlet abc: IAbc = (a: any, b?:any) =&gt; {\n	if (typeof b === &#x27;number&#x27;){}\n	else {}\n}\nabc.someAttr = ()=&gt;{};\n</code></pre><p>请问有人知道正确手法吗？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1079, '「深入浅出NodeJS」第一次读取数据到内存时，是否会放入老生代内存？', 'tinycold', '', '<div class=\"markdown-text\"><p>最近在看《深入浅出Nodejs》，关于第五章有一些疑问：</p>\n<ol>\n<li>\n<p>V8的内存管理，是先放入新生代内存，垃圾回收时如果变量还存在，就放入老生代内存，\n或者是新生代中的<code>To semispace</code>使用超过25%了才放入老生代内存。那么这里存在一个问题，\n如果程序执行的第一次读入数据到变量中，此时还没有经过垃圾回收，<code>To semispace</code>用量也未超过25%，但是这个变量非常占内存，已经超过了新生代内存的限制，新生代内存根本放不下，这个时候是如何来处理的呢？</p>\n</li>\n<li>\n<p>既然新生代内存只是分成了两<code>semispace</code>，为何最大保留空间中要给新生代分配4 * reserved_semispace_size的空间，注释中写的<code>ensure that new space can be aligned to its size</code>，完全没懂点在哪儿。与文中前文的对照来看，新生代的最大内存是为2 * reserved_semispace_size的，那这个4 * reserved_semispace_size多出来的没有分配给新生代吗?</p>\n</li>\n</ol>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1080, 'egg 不同controller 共享数据', 'Helovebai', '', '<div class=\"markdown-text\"><p>egg框架下遇到的问题：\n需求如下：\n前端调用获取验证码的接口，返回相应的code，完了提交表单，后端验证验证码输入是否正确。\n本人思路如下：\n在controller中新建全局变量codeMap，绑在global上，在获取验证码的方法中添加code，在验证表单的接口，循环codeMap，返回相应结果。\n出现错误如下：\negg  dev本地调试完全ok，但是上线就会出现codeMap中找不到获取验证码时添加的code，所以会报错。</p>\n<p>希望各位大神赐教，我已经快疯了       =，=。。。。。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1081, 'koa怎么创建一个https的服务器呢', 'wenshiqi0', '', '<div class=\"markdown-text\"><p>基础模块已经加上的差不多了 什么beacat啊 redis啊 包括socketio也都加上了 现在要开始添加安全的模块 首先是openssl 怎么让koa服务器以https的方式来启动呢</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1082, 'sequelize多表查询', 'Kathybren', '', '<div class=\"markdown-text\"><p>请教一下表之间使用逻辑外键，sequelize如何多表查询？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1083, 'node 有什么好用的文字水印模块吗？', 'PowerDos', '', '<div class=\"markdown-text\"><p>想找款好用一点的文字水印模块，想为整张图片加上文字水印，类似下面这张图片的效果。\n<img src=\"//static.cnodejs.org/FgHbJsSyQj8x4QITqz4NevhcnqiS\" alt=\"u=3207034603,2161704123&amp;amp;fm=27&amp;amp;gp=0.jpg\"></p>\n</div>', '', 63, '//static.cnodejs.org/FgHbJsSyQj8x4QITqz4NevhcnqiS', 1537347916, 1546275661, '客户端测试', 0, 0),
(1084, '【求助】Docker部署Jenkins无限重启，CPU占用接近100%', 'noraincode', '', '<div class=\"markdown-text\"><p>服务器环境：阿里云ECS CentOS 7 2G内存\nDocker: v18.06.0-ce</p>\n<p>按照Jenkins官网教程，拉取 jenkinsci/blueocean 镜像</p>\n<pre class=\"prettyprint\"><code>docker run \\\n  --rm \\\n  -u root \\\n  --restart=always \\\n  -p 8080:8080 \\\n  -v jenkins-data:&#x2F;var&#x2F;jenkins_home \\\n  -v &#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run&#x2F;docker.sock \\\n  -v &quot;$HOME&quot;:&#x2F;home \\\n  jenkinsci&#x2F;blueocean\n</code></pre><p>运行后打开localhost:8080，容器就开始不断重启，同时CPU占用飙升，但是日志里没有异常信息，有没有大佬知道是怎么回事，要怎么解决？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1085, 'socket io 连接连续掉线的问题', 'quanpf2481', '', '<div class=\"markdown-text\"><p>最近在做一个app，用socket io来做长连接，但是有的时候app连接socket，会不停的掉线上线，这样来回不断的重复，有没有大神遇到过这样的情况，求大神指点！！！！</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1086, 'node  render 返回页面 却给我返回了整个页面的字符串？ 什么情况', 'wiscgazf', '', '<div class=\"markdown-text\"><p>node  render 返回页面 却给我返回了整个页面的字符串？ 什么情况<img src=\"//static.cnodejs.org/FqsvYzEes0APObc0VH-8Q-wxaQJP\" alt=\"微信图片_20180722191744.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FqsvYzEes0APObc0VH-8Q-wxaQJP', 1537347916, 1546275661, '客户端测试', 0, 0),
(1087, '客户端如何生成非对称密钥对？', 'spursy', '', '<div class=\"markdown-text\"><p><strong>需求：</strong> 老板提出要使用DH加密算法验证用户登录， 请问大佬们如何在客户端生成非对称密钥对？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1088, 'express handle 方法 在koa2 中有同样的替代方法吗？', 'lileilei', '', '<div class=\"markdown-text\"><p>handle方法网上有解释：  它的作用就是将每对[req,res]进行逐级分发，作用在每个定义好的路由及中间件上，直到最后完成。</p>\n<p>请大神再帮忙解释一下 handle方法的具体作用，以及koa2中可替代的方法是什么啊？</p>\n<p>看了koa源码 createContext 是创建一个新的上下文，handleRequest 应该是执行中间件作用于当前上下文上有点像这个方法，但是这个方法必须穿第二个参数中间件方法我想让后面执行的都作用于当前上下文</p>\n<p>以下是express 的效果</p>\n<blockquote>\n<p>var express = require(‘express’)\nvar app = express()\nvar app2 = express()\napp.use((req, res, next) =&gt; {\nconsole.log(111)\nnext()\n})</p>\n</blockquote>\n<p>app.use((req, res, next) =&gt; {\nconsole.log(222)\nnext()\n})\n// app.use((req, res, next) =&gt; {\n//   app2.handle(req, res)\n// })\napp2.use((req, res, next) =&gt; {\nconsole.log(333)\nnext()\n})\napp2.use((req, res, next) =&gt; {\nconsole.log(444)\nnext()\n})\napp.listen(8000)</p>\n<p>请求：  默认打印111 222   ，注释移除后 打印 111 222 333 444</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1089, '重装mysql遇到的经典问题', 'remembergf', '', '<div class=\"markdown-text\"><p>在写系统的时候，使用Navicat创建数据库的时候不小心删除了一个内置的系统库。为了解决这个问题，将mysql重装了好几次，不过都卡在了最后一步的Starting Server 上，翻了很多教程，不过都没有提出来解决的办法，图片如下，希望遇到过此问题的朋友能够提出点建议，忙了一天这个问题还是没有解决，谢谢！\n<img src=\"//static.cnodejs.org/FvQlg08742jRJYsFqrBuLC1gUFH4\" alt=\"TIM截图20180809171039.jpg\">\n<img src=\"//static.cnodejs.org/Fr8Md85NxvhXcWlTcb-H3cYoEUHS\" alt=\"TIM截图20180809171101.jpg\"></p>\n</div>', '', 63, '//static.cnodejs.org/FvQlg08742jRJYsFqrBuLC1gUFH4', 1537347916, 1546275661, '客户端测试', 0, 0),
(1090, '[求助]node.js开发问题：两人对战时较大概率出现数据丢包', 'suckmoney', '', '<div class=\"markdown-text\"><p>我们开发的微信小程序是两个人答题对战然后晋级或淘汰的。</p>\n<p>就是两个人对战的时候会出现数据丢包的问题，造成其中一方收不到题。</p>\n<p>微信开发平台是node.js的，问题是：\n通过websocket和后台的node.js进行通讯，会出现：\n1.客户端可能收不到，但服务端却认定收到了。\n2.客户端收到数据时，收到的顺序是反的（服务端发a、b两次数据，客户端收到b、a)</p>\n<p>求诸位贤达解答，若能解决问题，不胜感激，酬谢不敢免。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1091, 'socket io 监听一个事件后，进行了相关处理后得到数据，数据再广播出去', 'quanpf2481', '', '<div class=\"markdown-text\"><p>在node js里面，利用socket io监听一个查询事件，然后操作数据库，进行相关查询，再将查询的结果在监听事件里广播出去，查询的操作是调用其他模块进行的，怎么样才能在查询的模块完成后将数据返回给监听事件呢？？？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1092, '表单混合上传遇到问题', 'Nickynodejs', '', '<div class=\"markdown-text\"><p>小弟在做前后端分离项目，在前端通过formdata把数据传给node，我用multer解析成json 格式其中里面有pdf文件。但是我传给java那边他不能解析求大神指教下。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1093, 'socket io多聊天室', 'quanpf2481', '', '<div class=\"markdown-text\"><p>有没有大神做过socket io 多聊天室的，有没有例子分享啊？？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1094, 'node 调用方式区分', 'lwxyfer', '', '<div class=\"markdown-text\"><p>需要调用 node 脚本，有两种方式：</p>\n<ol>\n<li>通过 命令行 直接执行</li>\n<li>require 文件</li>\n</ol>\n<p>有通用的API 之类的来区分这两种方式吗？ 就像 py 里的。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1095, '准备做一个消息队列来发送一些定时的消息  暂定用ActiveMQ不知道有人用过么 有什么心得么', 'nlbydcg', '', '<div class=\"markdown-text\"><p>现在用redis做一个一个订阅和发布的功能，用的ioredis 不知道这东西挂到线上有没问题问题，兄弟们你们一般都是用什么做的消息队列？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1096, '移动网站该用什么渲染页面，使用ejs模板，还是渲染模板的工作交给前端用angular', 'dixiaoping', '', '<div class=\"markdown-text\"><p>针对国外的内容网站，使用ejs模板，还是渲染模板的工作交给前端用angular，服务端这边直接把数据send过去，如果使用ejs模板网站页面有很多,\n会不会造成服务端发送数据冗余,每次用户访问都要render整个页面，如果使用angular 服务端只需要res.json数据就可以\n目前纠结的问题就是 怕移动端angular首屏加载慢，感觉不适于内容类的网站，有点重\n网站将来目标日活百万级别，又怕响应速度追不上，</p>\n<p>现在网站使用的是jsp页面，打算重构，使用node获取接口数据，渲染页面，</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1097, 'nuxt.js asyncData 实现的原理是什么？ 一堆编译出来的静态的代码（html+js）如何在输出到浏览器之前就已经把数据渲染好了，在浏览器端几乎就不用再ajax请求数据。', 'RajanZhan', '', '<div class=\"markdown-text\"><p>最近看了nuxt.js服务端渲染后，感觉很神奇，编译出来的一堆静态的东西， 挂到服务器（任何服务器，比如Apache，NGINX）上，请求后，数据都渲染好了直接输出浏览器端，我有有疑问了，异步加载并渲染的工作在服务端并没有相应的环境去运行，怎么就在渲染好了呢？ Apache上不可能去执行这些web前端的代码呀？求大神解答。求大神解答。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1098, 'nginx 可以重写响应头吗？或者 fetch api 可否拦截重定向操作？', 'jamieYou', '', '<div class=\"markdown-text\"><p>现在有一个场景，前端通过 fetch api 发送一个跨域请求，但是对方不接受跨域。所以打算使用 nginx 做代理。\n目前遇到的问题是，发送的 api 带有重定向的响应头，fetch api 自动的去请求这个重定向的url，但是这个 url 也是不接受跨域，导致报错。\n我想到的方法是</p>\n<ol>\n<li>禁止 fetch api 自动处理重定向</li>\n<li>nginx 把重定向的字段去掉，换成自定义的字段，前端这边手动去处理重定向。</li>\n</ol>\n<p>但是这两个方法都没有头绪。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1099, '请问有没有好用的excel库？', 'CodeofGame', '', '<div class=\"markdown-text\"><p>在社区里搜索了一下，大部分都是两三年前的回答，所以想再问问这个问题！\n基本要求：\n1、从数据库中读取数据，生成excel\n2、读取excel，把数据批量导入数据库</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1100, '原生node.js捕获图片的数据流，拿到数据，图片存不起来？', 'leChengWebDev', '', '<div class=\"markdown-text\"><h3>相关代码如下</h3>\n<pre class=\"prettyprint language-js\"><code>&#x2F;&#x2F; 上传图片\nfunction upLoadImg(response, pathname, POST) {\n  var POST = Buffer.from(POST);\n  var rems = [];\n  &#x2F;&#x2F;根据\\r\\n分离数据和报头\n  for (var i = 0; i &lt; POST.length; i++) {\n    var v = POST[i];\n    var v2 = POST[i + 1];\n    if (v == 13 &amp;&amp; v2 == 10) {\n      rems.push(i);\n    }\n  }\n  &#x2F;&#x2F;图片信息\n  var picmsg_1 = POST.slice(rems[0] + 2, rems[3]).toString();\n  var filename = picmsg_1.match(&#x2F;filename=&quot;.*&quot;&#x2F;g)[0].split(&#x27;&quot;&#x27;)[1];\n  &#x2F;&#x2F;图片数据\n  var nbuf = POST.slice(rems[3] + 2, rems[rems.length - 2]);\n  var path = &quot;.&#x2F;views&#x2F;&quot; + filename;\n  fs.writeFileSync(path, nbuf);\n  response.writeHead(200, { &quot;Content-Type&quot;: &quot;text&#x2F;html;charset=utf-8&quot; });\n  response.end(&#x27;&lt;div id=&quot;path&quot;&gt;&#x27; + path + &quot;&lt;&#x2F;div&gt;&quot;);\n}\n</code></pre><h3>相关图片如下</h3>\n<p><img src=\"//static.cnodejs.org/Fh4C-5b7zfRb6jkOSpbLyozEgtjw\" alt=\"图片上传payload.png\"></p>\n<blockquote>\n<p>曾参考文章</p>\n</blockquote>\n<ul>\n<li><a href=\"https://blog.csdn.net/Ymiku/article/details/46243745\">https://blog.csdn.net/Ymiku/article/details/46243745</a></li>\n<li><a href=\"https://segmentfault.com/q/1010000009945178\">https://segmentfault.com/q/1010000009945178</a>\n求教~</li>\n</ul>\n</div>', '', 63, '//static.cnodejs.org/Fh4C-5b7zfRb6jkOSpbLyozEgtjw', 1537347916, 1546275661, '客户端测试', 0, 0),
(1101, '关于 child_process.exec 的使用', 'jamieYou', '', '<div class=\"markdown-text\"><p>使用 <code>childprocess.exec</code> 执行shell命令时，shell 命令的log不会被输出到控制台。\n例如直接在控制台运行 <code>yarn install</code>，在控制台可以看到安装npm包的日志输出。\n但是使用  <code>childprocess.exec(\'yarn install\')</code> 的话，控制台是没有日志输出的。\n请问如何解决？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1102, 'js中，为什么 0.01+0.05≠0.06？', 'chinahsj', '', '<div class=\"markdown-text\"><p>在项目中偶然发现，0.01+0.05并不等于0.06！很震惊，求大佬解释下!!\n[2U659D]838XG7U3883CIW7E.png](<a href=\"//static.cnodejs.org/FtQBiaYYPhjPvrULGVlxmw7vmHor\">//static.cnodejs.org/FtQBiaYYPhjPvrULGVlxmw7vmHor</a>)</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1103, 'express 如何在其他函数中终止本次请求，并且向客户端返回数据，详细如下。', 'RajanZhan', '', '<div class=\"markdown-text\"><p>使用的是express 框架</p>\n<p>express 的路由如下</p>\n<p>myRouter.js</p>\n<blockquote>\n<p>router.get(&quot;/&quot;,(req,res)=&gt;{\nlet  stop = require(“stop.js”);\nstop(res); // 在这里就终止了本次执行请求</p>\n</blockquote>\n<p>res.end(“结束了”); // 这里不会被调用\n})</p>\n<p>==================分割线===============================\nstop.js</p>\n<blockquote>\n<p>module.export = (res)=&gt;{</p>\n</blockquote>\n<p>}</p>\n<p>========================分割线==================================</p>\n<p>我希望的结果是 在stop函数中执行完后，直接就终止了本次执行， 无需添加任何代码来终止。\n请问如何写stop.js 中的代码？？？？？？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1104, '在setTimeout回调被调用后再用同样的ID调用clearTimeout会怎么样？', 'jinkankakushoujo', '', '<div class=\"markdown-text\"><p>当setTimeout回调被调用后，该ID是否会立刻被自动释放，还是在回调返回之后才会自动释放？\n如果是立刻被自动释放，那么在回调里用同样的ID调用clearTimeout似乎可能出问题。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1105, '用egg 服务端渲染的网站，怎么生成静态站点 ？', 'xuj2017', '', '<div class=\"markdown-text\"><p>用egg渲染的服务端页面可以生成静态站点吗？有什么思路没有，谢谢！</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1106, '【已解决】js如何实现类似php的魔术方法，即当调用一个对象中不存在的方法时，可以拦截得到。这样可方便做处理，而不是报错。', 'RajanZhan', '', '<div class=\"markdown-text\"><p>如题。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1107, '模板引擎，哪种用的最舒坦？', 'chapgaga', '', '<div class=\"markdown-text\"><p>Mustache太弱，artTemplate好用，但是逻辑稍微复杂点，代码的可读性就极差了：（</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1108, '各位大佬！！ 这种js加密谁会破解吗？我从未遇到过这种加密！！', 'zhubenjie', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FoOQAIwegTvmOuP-mmUfKHSsElS9\" alt=\"111.jpg\"></p>\n</div>', '', 63, '//static.cnodejs.org/FoOQAIwegTvmOuP-mmUfKHSsElS9', 1537347916, 1546275661, '客户端测试', 0, 0),
(1109, 'request 和 superagent 模块  都可以拿来做爬虫，怎么选择呢', 'souldjl', '', '<div class=\"markdown-text\"><p><code>request</code>和<code>superagent</code> 模块  都可以拿来做爬虫，怎么选择呢?有点迷糊了</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1110, 'fn[Symbol.toStringTag] === \'AsyncFunction\' 什么情况下会返回true? -- node async v2.6.1', 'msforest', '', '<div class=\"markdown-text\"><pre class=\"prettyprint language-javascript\"><code>function isAsync(fn) {\n    return fn[Symbol.toStringTag] === &#x27;AsyncFunction&#x27;;\n}\n\nfunction wrapAsync(asyncFn) {\n    return isAsync(asyncFn) ? asyncify(asyncFn) : asyncFn;\n}\n</code></pre><p>在读这段代码时，想不到<code>isAsync</code>什么情况下会为真？因为<code>asyncFn</code>很多情况下，都是自己写的普通函数，就算是函数里面包含异步代码，那这里也不会为真啊？求解答</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1111, 'express-session 两次req，为什么创建了两个session，导致我登录的状态没有保存到啊', 'ZhangMingZhao1', '', '<div class=\"markdown-text\"><p>问题描述在这里：<a href=\"https://segmentfault.com/q/1010000015914595\">https://segmentfault.com/q/1010000015914595</a></p>\n<p>前端是react的调试模式，端口不一样，所以我在后端设置了跨域，前端每次还要提前发送一个option请求，是这个的锅吗，那怎么解决？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1112, '桌面软件要显示html5页面，除了qt的webengine，还有哪些可用的选择？', 'yakczh', '', '<div class=\"markdown-text\"><p>不是用浏览器直接打开</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1113, 'node js注册/登陆接口', 'quanpf2481', '', '<div class=\"markdown-text\"><p>最近在做一款手机app，想用node js写后台，注册登陆这块没什么思路，各位大神有没有例子或者思路啊？？？谢谢</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1114, 'Node.js如何爬取微信公众号推文内容呢？', 'EddieYD', '', '<div class=\"markdown-text\"><p>就是，比如说我输入一个微信公众号推文的网页链接，然后点击爬取，就可以爬取到这个网站上的内容；\n我有用superagent+cheerio来爬取，但是微信貌似做了一些反爬处理，不能爬取到，请问有相关的文章吗？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1115, 'egg 一个简洁实例 启动不了', 'spitWind', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>const Application = require(&#x27;egg&#x27;).Application;\nconst app = new Application({\n  framework: &#x27;&#x2F;home&#x2F;hwx&#x2F;Wchat&#x2F;wServer&#x2F;node_modules&#x2F;egg&#x27;,\n  baseDir: &#x27;&#x2F;home&#x2F;hwx&#x2F;Wchat&#x2F;wServer&#x2F;&#x27;,\n  workers: 1,\n  plugins: null,\n  https: false,\n  isDebug: true,\n  clusterPort: 39257,\n  port: 7001\n})\n\n&#x2F;&#x2F; app.emit(&#x27;server&#x27;, server);\nconst server = require(&#x27;http&#x27;).createServer(app.callback()).listen(7001);\napp.ready(function (params) {\n  server.emit(&#x27;listening&#x27;);\n})\n</code></pre><p>[egg:core:ready_timeout]\n//\n把 node_modules/_egg-core@4.9.1@egg-core/lib/loader/mixin/custom.js\n第28行</p>\n<pre class=\"prettyprint language- this.getLoadUnits()\"><code>     .forEach&#96;&#96;&#96;\n后面加入 \n</code></pre><p>unit =&gt; {</p>\n<pre class=\"prettyprint\"><code>    if(unit.path.includes(&quot;egg-watcher&quot;))\n      return;\n  &#x2F;&#x2F; console.log(unit);\n    return this.loadFile(this.resolveModule(path.join(unit.path, &#x27;app&#x27;)))\n  }\n</code></pre><pre class=\"prettyprint\"><code>就不会模块加载超时了    \n然后用devtool 启动就启动...   \n话说我这么折腾干嘛...</code></pre></div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1116, '搜索结果关键词高亮如何实现？', 'gnailiy', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fpp88V0IHR9GEFbPFFe4REOiFEIH\" alt=\"6493EB72-AFDC-495E-8235-F4A4EF433E39.png\"></p>\n<p>求问，一般论坛的搜索接口，返回的是字符串或者字符串数组，通常是还未经过加工处理的字符串（描述的不好，就是纯字符，不带dom标签）。那获取结果之后，渲染dom，在vue 或者 react 中，大多数时候都直接用<code>{{}}</code> 渲染了，那怎么样才能实现像图中的那样的关键词高亮呢？ 在渲染之前，字符串也没办法带上标记啊。</p>\n</div>', '', 63, '//static.cnodejs.org/Fpp88V0IHR9GEFbPFFe4REOiFEIH', 1537347916, 1546275661, '客户端测试', 0, 0),
(1117, '求推荐node.js开源的admin后台管理系统', 'maniwang', '', '<div class=\"markdown-text\"><p>多谢大家，之前了解的一些好像都不太好，如果有好的还请推荐一下~</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1118, '手机app开发求助', 'quanpf2481', '', '<div class=\"markdown-text\"><p>各位大神，最近想搞个手机聊天的app，一点头绪都没有，有没有大神给个例子或者思路的？谢谢了！！</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1119, 'NodeJS下载文件Linux句柄不断增加', 'im-here', '', '<div class=\"markdown-text\"><p>标题可能取的不准确，描述下问题：\n最近做了一个系统内包含一个下载.zip文件的功能，单个文件很小，最多就几百kb\n现在发现在/proc/pid/fd 下的句柄数量不断增多，但是我自己在测试服上测试了下，又没有重现，不管怎么下载，都没有下载相关的句柄停留，不知道什么问题</p>\n<p>下载代码如下：</p>\n<pre class=\"prettyprint\"><code>  let mime = &quot;text&#x2F;plain&quot;;\n  let file_path = path.join(&#x27;..gm&#x2F;&#x27;, process.cwd(), &#x27;uploads&#x27;, file_name);\n    fs.exists(file_path, function (exists) {\n        if (!exists) {\n            message.setCode(CODE.OBJECT_NOT_EXIST);\n            return message.send();\n        }\n        &#x2F;&#x2F;获得文件信息\n        fs.stat(file_path, function (err, stats) {\n            if (err) {\n                message.setCode(CODE.FAIL);\n                return message.send();\n            }\n            let content = fs.createReadStream(file_path, {flags: &#x27;r&#x27;});\n\n            res.writeHead(200, {\n                &#x27;Content-Type&#x27;: mime,\n                &quot;Content-Length&quot;: stats.size,\n                &#x27;Content-Disposition&#x27;: &#x27;attachment; filename=&#x27; + file_name\n            });\n            content.pipe(res);\n            content.on(&#x27;end&#x27;, function () {\n                res.end();\n            });\n        });\n    });\n</code></pre><p>贴一部分句柄截图\n<img src=\"//static.cnodejs.org/FlPB8xqU23LS1wYSv3BhUDzKV7f5\" alt=\"66666.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FlPB8xqU23LS1wYSv3BhUDzKV7f5', 1537347916, 1546275661, '客户端测试', 0, 0),
(1120, '网络爬虫爬数据表格', 'quanpf2481', '', '<div class=\"markdown-text\"><p>有大神用node爬过网站的数据表格嘛？求大神指点，爬这个网站的表格数据\n<a href=\"http://www.maigoo.com/news/463071.html\">http://www.maigoo.com/news/463071.html</a>\n谢谢！！！！</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1121, 'javascript 的匿名函数 与 lambda 表达式 有什么区别?', 'maosiyu', '', '<div class=\"markdown-text\"><p>function(){} 与 ()=&gt;{} 区别\n没有搜索到比较有说服力的回答这里面大神很多, 请多多赐教!!!</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1122, 'koa-onerror 这个包，配置json,html error handler的疑问', 'JerrysShan', '', '<div class=\"markdown-text\"><p>有谁熟悉这个包，我想知道这个包根据什么判断返回的是JSON还是HTML，然后使用不同的error handler.\n请大神指点！</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1123, '关于egg-mongoose在egg中怎么把查询结果传给模板？', 'wangwenfan', '', '<div class=\"markdown-text\"><p>初学nodejs，第二段的ret可以得到这个值，怎么可以在第一段代码中把数据传到模板，</p>\n<pre class=\"prettyprint\"><code>  async index() {\n    &#x2F;&#x2F; this.ctx.body = &#x27;hi, egg&#x27;;\n    const ctx = this.ctx;\n    const data = ctx.model.User.find();\n    console.log(data);\n    await ctx.render(&#x27;news&#x2F;list.tpl&#x27;, { list: data });\n  }\n</code></pre><pre class=\"prettyprint\"><code>    const data = ctx.model.User.find({},function(err,ret){\n      console.log(ret);\n    });\n</code></pre></div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1124, '【自己已解决】为什么mongodb操作4万条数据跟20万条数据的query的数据不一样？', 'Centosgoole', '', '<div class=\"markdown-text\"><p>请问一下为什么mongodb操作4万条数据跟20万条数据的query的数据不一样？\n<img src=\"//static.cnodejs.org/Fv8yp8BWSq7TErnQpeKYLLTAyBG9\" alt=\"TIM图片20180718111342.png\">\n这种问题要怎么去解决？同样的代码，不同的数据量，第一个图是4万的数据，query就很快，但是到了20万数据的时候，query的数据就只有0-2之间</p>\n</div>', '', 63, '//static.cnodejs.org/Fv8yp8BWSq7TErnQpeKYLLTAyBG9', 1537347916, 1546275661, '客户端测试', 0, 0),
(1125, 'docker部署vue-cli开发环境，端口映射访问不了？', 'dryqiao', '', '<div class=\"markdown-text\"><p>npm run dev不是用express做的web服务吗，照理说，端口映射出来能访问啊，但是现在访问不了，控制台显示npm run dev成功开启了服务\n	然后我只能打包后把静态文件丢到nginx镜像里，成功访问，\n	这是什么情况啊，刚开始学docker不太懂</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1126, '客户端怎么判断web服务器的ssl/tls版本？', 'yakczh', '', '<div class=\"markdown-text\"><p>旧的浏览器会提示\n<img src=\"//static.cnodejs.org/FtDz5KQyxXhhN7X2_TvwWhrZrnwS\" alt=\"overlap.png\">\n\Z</p>\n</div>', '', 63, '//static.cnodejs.org/FtDz5KQyxXhhN7X2_TvwWhrZrnwS', 1537347916, 1546275661, '客户端测试', 0, 0),
(1127, '@babel/preset-env现在可以解析ES6语法的函数了吗？', 'ziwei3749', '', '<div class=\"markdown-text\"><p>babel-preset-env不是只能解析ES6本身的语法，无法解析API吗？\n用webpack4和<a href=\"/user/babel\">@babel</a>/preset-env测试了一下，\n为什么可以解析Set 、 inlcudes（）这些语法嘞？</p>\n<p>大概效果是这样</p>\n<pre class=\"prettyprint language-js\"><code>      &quot;use strict&quot;;\n        eval(\n            &quot;\\n\\nvar myName = \\&quot;吕子威\\&quot;;\\nvar arr = [1, 2, 3];\\nvar arrSet = new Set(arr);\\nconsole.log(arr.includes(7));\\nconsole.log(arrSet);\\n\\n&#x2F;&#x2F;# sourceURL=webpack:&#x2F;&#x2F;&#x2F;.&#x2F;app.js?&quot;\n        );\n</code></pre><p>想请教各位大大~十分感谢</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1128, '大家都如何进行压力测试和解决高并发下数据重复问题呢？', 'ddzyan', '', '<div class=\"markdown-text\"><p>1.大家现在都是用什么工具进行接口的高并发测试呢？我现在了解到的有jmeter和locust，有使用的朋友介绍下吗</p>\n<p>2.接口现在实现的功能是去是数据库读取一个值进行操作后在进行数据库更新，保障每次数据不重复。但是在高并发的情况下，出现了数据还未更新，下个请求就读取进行操作，造成重复的情况。\n我现在的解决方法是加个锁，如果数据未被更新则不接受接下来的请求，但是这样会造成多个请求失败的情况。是否可以进行消息队列的操作，要如何实现呢？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1129, '遇到一个数据转换问题，求各位大神思路？', 'youngluo', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>原数据\noriginData = [\n    { id: 1, name: &#x27;权限管理-授权管理-授权&#x27; },\n    { id: 2, name: &#x27;权限管理-授权管理-编辑&#x27; },\n    { id: 3, name: &#x27;权限管理-授权管理-删除&#x27; },\n    { id: 4, name: &#x27;权限管理-角色管理-添加&#x27; },\n    { id: 5, name: &#x27;权限管理-角色管理-编辑&#x27; },\n    { id: 6, name: &#x27;系统接入管理-添加&#x27; },\n    { id: 7, name: &#x27;系统接入管理-编辑&#x27; },\n    { id: 8, name: &#x27;动态菜单树&#x27; },\n]\n期望数据\nexpectData = [\n	{\n		name: &#x27;权限管理&#x27;,\n		children: [\n			{\n				name: &#x27;授权管理&#x27;,\n				children: [\n					{ name: &#x27;授权&#x27;, id: &#x27;1&#x27; },\n					{ name: &#x27;编辑&#x27;, id: &#x27;2&#x27; },\n					{ name: &#x27;删除&#x27;, id: &#x27;3&#x27; }\n				]\n			},\n			{\n				name: &#x27;角色管理&#x27;,\n				children: [\n					{ name: &#x27;添加&#x27;, id: &#x27;4&#x27; },\n					{ name: &#x27;编辑&#x27;, id: &#x27;5&#x27; }\n				]\n			}\n		]\n	},\n	{\n		name: &#x27;系统接入管理&#x27;,\n		children: [\n			{ name: &#x27;添加&#x27;, id: &#x27;6&#x27; },\n			{ name: &#x27;编辑&#x27;, id: &#x27;7&#x27; }\n		]\n	},\n	{ name: &#x27;动态菜单树&#x27;, id: &#x27;8&#x27; }\n]\n</code></pre></div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1130, '菜鸟请教个mongo查询语句的问题', 'IEfucker', '', '<div class=\"markdown-text\"><p>这里 <a href=\"https://github.com/cnodejs/egg-cnode/blob/master/app/service/message.js#L101\">https://github.com/cnodejs/egg-cnode/blob/master/app/service/message.js#L101</a>\n的查询条件是</p>\n<blockquote>\n<p>const query = { master_id: userId, _id: { $in: ids } }</p>\n</blockquote>\n<p>这样查询效率更高吗，\n改成这样有差别吗，_id应该是索引吧，效率不是很高吗？</p>\n<blockquote>\n<p>const query = { _id: { $in: ids } }</p>\n</blockquote>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1131, 'echarts绘制地图如何与legend连线？', 'Mrdouhua', '', '<div class=\"markdown-text\"><p>问题描述：\n用jquery导入echarts然后绘制一个中国地图，地图需要与下方十个自定义图片加文字描述（打算用legend实现）连线，但是不知道怎么实现他们的连线。\n之前实现的是地图上的两个点连线</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1132, '怎么在package.json的scripts命令中添加自定义参数？', 'hezhongfeng', '', '<div class=\"markdown-text\"><ol>\n<li>我使用的vue的webpack模板创建的项目</li>\n<li>想在package.json的scripts中想加入一些参数</li>\n</ol>\n<pre class=\"prettyprint\"><code>  &quot;scripts&quot;: {\n    &quot;dev&quot;: &quot;webpack-dev-server --inline --progress --config build&#x2F;webpack.dev.conf.js&quot;,\n    &quot;dwe&quot;: &quot;webpack-dev-server --inline --progress --config build&#x2F;webpack.dev.conf.js -- --cparam&quot;,\n    &quot;start&quot;: &quot;npm run dev -- --reporter&quot;,\n    &quot;lint&quot;: &quot;eslint --fix --ext .js,.vue src&quot;,\n    &quot;build&quot;: &quot;node build&#x2F;build.js&quot;\n  },\n</code></pre><p>然后想在引入路由的时候通过对参数cparam的读取，引入不同的路由\n比如<code>npm run dev --ships=4</code>会提示我<code>his dependency was not found:</code>这样\n试了很多方法也没搞定，有人知道怎么弄吗？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1133, '32 核 64G 最高能承载多少用户使用，不限语言框架？', 'axetroy', '', '<div class=\"markdown-text\"><blockquote>\n<p>假设业务算法不是很复杂，基本上都是 CRUD\n读写分离的独立数据库服务器</p>\n</blockquote>\n<p>手上没有这么高配的服务器，也不知道实际效果如果。</p>\n<p>能否把你的经验分享出来</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1134, '怎么在一个当前IP打开另一IP的页面（独立窗口）？', 'helloMane', '', '<div class=\"markdown-text\"><p>例如现在有两个服务器，100.168.1.80 （命名为A服务器）和 192.168.1.100（命名为B服务器），之前的做法是在A中window.open一个窗口，通过get的方式，将数据放在url中打开B中的页面（例如192.168.1.100/index?a=123）。但是现在想不用window.open访问页面(想直接通过192.168.1.100/index访问)，并且把a=123这个数据也传递过去，应该怎么操作？ajax这些都受到同源的限制，因为设置服务器header这个方法这里行不通，请问一下还有没有别的方法。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1135, 'egg中怎么在控制器中获取mongoose save回调中的结果', 'Magic-zhu', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>import { Controller} from &#x27;egg&#x27;;\nexport default class Login extends Controller{\n    public async login(){\n        const {ctx}=this;\n        ctx.body= await ctx.service.login.login(&quot;admin&quot;,&quot;admin&quot;);\n    };\n    public async register(){\n        const {ctx}=this;\n        let {username,password}=ctx.query;\n        console.log(username);\n        ctx.body= await ctx.service.register.register(username,password);\n    };\n}\n</code></pre><pre class=\"prettyprint\"><code>    public async register(name: String, psw: String) {\n        mongoose.connect(&#x27;mongodb:&#x2F;&#x2F;localhost&#x2F;egg&#x27;);\n        let loginData = mongoose.Schema({\n            username: String,\n            password: String\n        })\n        let loginModel = mongoose.model(&#x27;loginModel&#x27;, loginData);\n        var data = new loginModel({ username: name, password: psw });\n        data.save(function(err){\n            if(!err){\n                return &quot;注册成功&quot;\n            }\n        });\n        return &quot;注册成功&quot;\n        \n    }\n</code></pre><p>egg中使用原生mongoose而不是用egg-monogoose 怎么让Controller能够获取到服务中异步的save回调return的结果呢</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1136, '如何上手VIM前端开发呢？', 'chapgaga', '', '<div class=\"markdown-text\"><p>目前还在折腾Sublime和VSCode，VIM太难上手了，比如html格式化，能做到前面两个编辑器那么好用么？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1137, '使用soap发送请求，服务端接收不到入参，求用过的前辈看看', 'helloHT', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FgnTl9wHbr1OQZ9fWW0k8guUelWu\" alt=\"图片.png\"></p>\n<p>var args = {};\nargs.Request = {};\nargs.Request.TradeCode = ‘1012’;</p>\n<p>soap.createClient(url,function(err, client) {\nif(err)\nthrow err;\nelse<br>\n{</p>\n<pre class=\"prettyprint\"><code>  client.XXXXXXXXXX(args, function(err,result,raw1,soap1,raw2) {\n\nif(err)\n        throw err;\n     else  \n     {\n    console.log(result);\n    console.log(raw1);\n    console.log(soap1);\n    console.log(raw2);\n  }\n\n    \n     });\n}\n</code></pre><p>});</p>\n<p>接收到的内容为\n<img src=\"//static.cnodejs.org/FpP86SEUX88W58UVAlEobObmphrM\" alt=\"图片.png\"></p>\n<p>服务端日志显示没有接收到入参。</p>\n</div>', '', 63, '//static.cnodejs.org/FgnTl9wHbr1OQZ9fWW0k8guUelWu', 1537347916, 1546275661, '客户端测试', 0, 0),
(1138, '有关cnode 验证accessToken 的一个问题', 'DawnL6', '', '<div class=\"markdown-text\"><p>首先  这个请求是没有问题的 返回结果也是正确的\n<img src=\"//static.cnodejs.org/Fp_BbjbZHkCzsn8AA7Ntj_NeaNwC\" alt=\"image.png\">\n但是 我用 node  进行转发 就直接进去catch了\n<img src=\"//static.cnodejs.org/FhUsnoqoGrfeLRZBjeGTLDMmNHF8\" alt=\"image.png\">\n并且返回的状态吗也是200\n<img src=\"//static.cnodejs.org/FnWu6SWCeJ4Aw7BbAfLXRtPRwoat\" alt=\"image.png\"> 结果却是这样的</p>\n</div>', '', 63, '//static.cnodejs.org/Fp_BbjbZHkCzsn8AA7Ntj_NeaNwC', 1537347916, 1546275661, '客户端测试', 0, 0),
(1139, 'pm2怎么开启node的--experimental-modules功能？', 'web19921112', '', '<div class=\"markdown-text\"><p>首先是node版本v10.5.0，然后想用–experimental-modules，也就是使用import/export等es6功能。\n发现supervisor无法使用了（supervisor --experimental-modules ./index.mjs ）,\n发现nodemon还可以使用（nodemon --experimental-modules ./index.mjs ）,\n发现pm2无法使用了（pm2 start --experimental-modules ./index.mjs ）,\n帮忙帮忙。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1140, '这种操作在mongodb中用事务好，还是加锁好？', 'lovegnep', '', '<div class=\"markdown-text\"><p>假设集合A中有文档a1，集合B中有文档b1\n如果a1中的field1字段大于10，则更新b1文档，否则啥也不做。</p>\n<hr>\n<blockquote>\n<p>我现在的做法是对a1文档加锁，然后再进行查询a1（加锁和查询一条语句），修改b1，最后释放锁\n缺点：1. 所有涉及到修改a1的地方都要加锁，2. 有可能死锁</p>\n</blockquote>\n<p><strong>现在mongodb支持事务了，我想用事务将查询和修改这两个操作包起来，但感觉大材小用了，各位有什么建议吗？</strong></p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1141, '向大佬们请教一个关于排行榜的实现问题。', 'JZLeung', '', '<div class=\"markdown-text\"><h2>前提</h2>\n<p>有一堆帖子（大概 100w 条数据左右），有一个点赞的字段。</p>\n<h2>需求</h2>\n<p>实现<strong>本周和上周</strong>热门帖子排行榜，排序的根据是该帖子在<strong>本周或上周被点赞的数量</strong>来进行排行的。</p>\n<p>同理，上月热门也是根据<strong>上月被点赞的数量</strong>来进行排行。</p>\n<h2>实现？</h2>\n<ul>\n<li>\n<p>新的统计表</p>\n<p>既然根据的是<strong>上周 /上月</strong>的数据来进行排序，那么可不可以新建一个表，专门记录每个帖子每周被点赞的数量？但是每月该怎么实现呢？而且这么做，好像数据量有点太大了。。。小肉鸡怕扛不住。</p>\n</li>\n<li>\n<p>缓存</p>\n<p>用 redis 去存？合理吗？</p>\n</li>\n</ul>\n<h2>大佬们的见解？</h2>\n<p>不知道各位大佬们，有没有比较好的解决方法分享一下？</p>\n<p>后端小白一枚，还请各位多多指教。</p>\n<h2>服务器环境</h2>\n<p>操作系统： <strong>ubuntu16.04</strong>\n后台语言：<strong>nodejs v8.11.1</strong>\n数据库：<strong>mongodb v2.6.10</strong>\n服务器配置： <strong>2c4g</strong>.</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1142, '可有bluebird的中文文档？', 'xuj2017', '', '<div class=\"markdown-text\"><p>今天了解到有bluebird这个Promise库，但时没找到相关的api中文文档，请问可有相应的文档？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1143, 'npm全局安装typescript，tsc命令找不到', 'tangtangtangtangtang', '', '<div class=\"markdown-text\"><p>如题：\n运行命令如下\nnpm install -g typescript，安装成功\nnpm list -g --dpath=0\n<img src=\"//static.cnodejs.org/FgdTdQHgsAzUEbajWv1gFEW54M4G\" alt=\"image.png\">\ntsc -v\n<img src=\"//static.cnodejs.org/FlFSo8lKEWU4L0GfqWYPY2DLR109\" alt=\"image.png\">\n这是怎么回事啊。。。。求助\necho $PATH\n<img src=\"//static.cnodejs.org/FptxWC_sxcPd9b2KsgyXXEuWLswF\" alt=\"image.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FgdTdQHgsAzUEbajWv1gFEW54M4G', 1537347916, 1546275661, '客户端测试', 0, 0),
(1144, '狼叔的《更了不起的Node.js》什么时候发布，有知道的吗', 'BengBu-YueZhang', '', '<div class=\"markdown-text\"><p>狼叔的《更了不起的Node.js》什么时候发布，有知道的吗</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1145, '弱弱问一句,怎么搭建一个持续集成环境啊?', 'R0USHAN', '', '<div class=\"markdown-text\"><p>我知道各位大佬都不屑回答这种问题,但我真的折腾好几天了,之前做前端的,现在想学点后端,光开发环境就折腾死我了,一开始我只是想本地搭个玩玩,觉得不够酷,然后就买了个阿里云,部署到了阿里云后,感觉一直ftp上传也太low了,就开始想搭建一个github提交自动部署的环境,然后又开始折腾起docker来,没有基础,开始看社区版的cnode怎么搭起来的,结果折腾到现在,代码都没写几行,社区版的cnode还是没跑起来.快哭了,求各位大佬指条明路,我现在还要继续折腾么?我只是想玩玩个人项目,代码提交然后网站就能自动部署,我要怎么做才行,还是别折腾了?指条明路啊</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1146, '公司选型中有多少选择egg.js的？（个人项目除外）', 'MedusaLeee', '', '<div class=\"markdown-text\"><p>如题，公司选型中有多少选择egg.js的？（个人项目除外）。</p>\n<p>个人感觉，egg的插件还不是特别完善，看到egg issue问题中好多人提的问题，作者都想大家去PR，这出发点是好的，但是在公司中，遇到问题就需要自己去PR的话，很花时间啊。如果是个人项目还是可以贡献代码的，因为时间允许。如何做出选择，我的备选方案是koa2和egg。我更倾向于koa2。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1147, 'socket hang up', 'YeDongaidiiqu', '', '<div class=\"markdown-text\"><p>我的服务端是基于express 框架架构的，其中有一个请求的处理时间特别长，但客户端需要等待处理结果，客户端用的是  request  模块去请求的，结果报错如下</p>\n<p>{ Error: socket hang up\nat createHangUpError (_http_client.js:331:15)\nat Socket.socketOnEnd (_http_client.js:423:23)\nat emitNone (events.js:111:20)\nat Socket.emit (events.js:208:7)\nat endReadableNT (_stream_readable.js:1064:12)\nat _combinedTickCallback (internal/process/next_tick.js:138:11)\nat process._tickCallback (internal/process/next_tick.js:180:9) code: ‘ECONNR\nESET’ }</p>\n<p>请指导指导，</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1148, 'mongoose 如何判断 _id 是否合法', 'CRAZYFAKE', '', '<div class=\"markdown-text\"><p><strong>如题</strong></p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1149, '不使用 passport-local 如何进行鉴权？', 'JZLeung', '', '<div class=\"markdown-text\"><ul>\n<li><strong>Node Version</strong>: 8.11.3</li>\n<li><strong>Egg Version</strong>: 2.9.1</li>\n<li><strong>Plugin Name</strong>: egg-passport-local</li>\n<li><strong>Plugin Version</strong>: ^1.2.1</li>\n<li><strong>Platform</strong>:mac os</li>\n<li><strong>Mini Showcase Repository</strong>:</li>\n</ul>\n<hr>\n<p>因为写的是 api 接口，所以没有使用 <code>egg-passport-local</code> 进行用户账号密码的校验，也没有使用它来进行鉴权。</p>\n<p>目前的问题是：</p>\n<ul>\n<li>如果使用了 <code>egg-passport-local</code> 进行鉴权的话，目前无法返回正确的错误信息给前端。</li>\n<li>如果不使用该插件，无法操作 <code>ctx.user</code><pre class=\"prettyprint language-bash\"><code>Cannot set property user of #&lt;Object&gt; which has only a getter\n</code></pre></li>\n</ul>\n<p>针对这俩问题：</p>\n<ul>\n<li>能否使用 <code>egg-passport-local</code> 进行鉴权，并且可以手动处理具体的错误信息？</li>\n<li>能否不使用 <code>egg-passport-local</code> 鉴权，但是依旧可以往 <code>ctx.user</code> 中写数据？</li>\n</ul>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0);
INSERT INTO `hos_article` (`id`, `title`, `author`, `description`, `content`, `md`, `author_id`, `banner_img`, `dateline`, `fuck_date`, `tags`, `agree`, `disagree`) VALUES
(1150, 'mongodb 里面的poolSize设置多少合理', 'papandadj', '', '<div class=\"markdown-text\"><p>如题</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1151, '如何使http.request 同步响应', 'lh199507', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>function httpRequest(options) {\n    return new Promise((resolve, reject)=&gt; {\n        try{\n            const req = https.request(options, (res) =&gt; {\n                &#x2F;&#x2F; console.log(&#x27;状态码：&#x27;, res.statusCode);\n                &#x2F;&#x2F; console.log(&#x27;请求头：&#x27;, res.headers);\n                res.on(&#x27;data&#x27;, (d) =&gt; {\n                    resolve(d);\n                });\n            });\n            req.on(&#x27;error&#x27;, (e) =&gt; {\n                console.error(e);\n                reject(e)\n            });\n            req.end();\n        }catch(e){\n            console.log(e);\n        }\n    })\n}\n\nfunction main(index) {\n    httpRequest(options).then(d=&gt; {\n        console.log(index);\n        &#x2F;&#x2F; process.stdout.write(d);\n    })\n}\nfor(let i=0;i&lt;1000;i++){\n    main(i);\n}\n</code></pre><p>这样使用因为是异步的，所以<code>console.log(index)</code>打印是不规则的。\n怎么可以达到1，2，3，4.。。。1000的打印出来</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1152, '一台机器可以安装两个nodejs版本吗？', 'yakczh', '', '<div class=\"markdown-text\"><p>安装了最新是nodejs7 原来的node4.4就删除了\n有没有办法一台电脑同时保留两个版本？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1153, '请教顺序可变的列表数据翻页的做法', 'IEfucker', '', '<div class=\"markdown-text\"><p>做评论的翻页发现一个问题，但可能也不算问题…是这样：</p>\n<p>用户初始得到第一页的10条，翻页得到第二页的10条</p>\n<p>因为会有新的评论进来，如果在翻页前有新数据进来，请求接口得到第二页数据已经不是之前的列表了。</p>\n<p>因为评论数据顺序变化还好说，如果是帖子按照新回复的排序，基本实时在变。</p>\n<p>对于这种列表数据变化的情况，应该怎么做。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1154, 'jwt同样的内容生成的token不一样', 'tinycold', '', '<div class=\"markdown-text\"><p>直接贴代码吧：</p>\n<pre class=\"prettyprint language-javascript\"><code>const jwt = require(&#x27;jsonwebtoken&#x27;)\n\nvar token\ntoken = jwt.sign({ foo: &#x27;bar&#x27; }, &#x27;shhhhh&#x27;)\nconsole.log(token)\n\ntoken = jwt.sign({ foo: &#x27;bar&#x27; }, &#x27;shhhhh&#x27;)\nconsole.log(token)\n\ntoken = jwt.sign({ foo: &#x27;bar&#x27; }, &#x27;shhhhh&#x27;)\nconsole.log(token)\n\n</code></pre><p>第一次执行这个代码，连续生成并且打印三次token，三次打印出的token都是一样的。</p>\n<p>第二次执行这个代码，生成的token与第一次执行时不一样。</p>\n<p>也就是不同的进程，生成的token是不一样的。为什么？</p>\n<p>我理解的的HAC算法应该是固定的输入就有固定的输出</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1155, '使用mysql2 连接数据库时，怎么让联表查询返回结构化、层级嵌套的数据呢？', 'my-soul', '', '<div class=\"markdown-text\"><p>大家好， 请问： 使用mysql2 连接数据库时，怎么让联表查询返回结构化，层级嵌套的数据呢？</p>\n<pre class=\"prettyprint language- js\"><code>const sql = &#x27;SELECT * FROM t_teacher LEFT JOIN t_student ON t_teacher.id = t_student.teacher_id&#x27;;\nmysql2.query(sql, () =&gt; {\n});\n\n&#x2F;&#x2F; 希望返回的数据结构\nconst result = [\n	{\n		name: &#x27;张老师&#x27;,\n		students: [\n			{\n				name: &#x27;小明&#x27;,\n			},\n		],\n	},\n];\n\n</code></pre></div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1156, 'koa+mysql,怎么生成数组，一个用户有一个购物车，一个购物车下有多个商店，一个商店下有多个商品，如下图和代码', '1134506391', '', '<div class=\"markdown-text\"><h2>问题,想要查出一个类似淘宝购物车的数据集合</h2>\n<p><strong>一个用户有一个购物车，一个购物车下有多个商店，一个商店下有多个商品</strong>\n联表查询\n1.根据用户id,查出购物车数据，\n2.一个购物车下，有多个商店,黑色框\n3.商店下有多个商品，蓝色框\n4.一个商品，有这个商品的信息，红色框</p>\n<p><img src=\"//static.cnodejs.org/FpAHRBB5cG6G1CfB1aqIwDaSSepx\" alt=\"bVbdCxW.png\"></p>\n<p>##现在查出来的集合数据</p>\n<h4>mysql</h4>\n<p>根据用户id查询数据</p>\n<pre class=\"prettyprint\"><code>let cartSelectGroupByUserId = (userId) =&gt; {\n    let sql = &#96;select a.cart_goods_number,c.goods_id,c.goods_name,c.goods_img,c.goods_price,d.shop_id,d.shop_name from cart a,user b,goods c,shop d where a.user_id = b.user_id and a.goods_id = c.goods_id and c.shop_id = d.shop_id and a.user_id =${userId};&#96;\n    return query(sql)\n}\n</code></pre><p>根据商店id查询商店名</p>\n<pre class=\"prettyprint\"><code>let shopSelectNameById = (id) =&gt; {\n    let sql = &#96;select shop_name from shop where shop_id=${id};&#96;\n    return query(sql)\n}\n</code></pre><p>####接口</p>\n<pre class=\"prettyprint\"><code>const cartSelectGroupByUserId = async(ctx) =&gt; {\n    let id = ctx.params.id;\n    let shopId;\n    await cartModel.cartSelectGroupByUserId(id)\n        .then(result =&gt; {\n            console.log(result)\n            shopId = result[0].shop_id\n        })\n    await cartModel.shopSelectNameById(shopId)\n        .then(result =&gt; {\n            ctx.body = {\n                status: 200,\n                msg: &quot;根据用户id查询用户购物车所有数据&quot;,\n                data: result\n            }\n        })\n        .catch(error =&gt; {\n            console.log(error);\n            ctx.body = false;\n        })\n}\n</code></pre><p><img src=\"//static.cnodejs.org/Fijvk0ek1rwQcZGAI8ZDYyDw9OOU\" alt=\"bVbdCvY.png\"></p>\n<pre class=\"prettyprint\"><code>            data: [\n                {\n                    cart_goods_number: 3,\n                    goods_id: 3,\n                    goods_name: &quot;honor7x&quot;,\n                    goods_img: &quot;honor7x.png&quot;,\n                    goods_price: 1299,\n                    shop_id: 4,\n                    shop_name: &quot;honor之家&quot;\n                },\n                {\n                    cart_goods_number: 2,\n                    goods_id: 4,\n                    goods_name: &quot;honor6x&quot;,\n                    goods_img: &quot;honor6x.png&quot;,\n                    goods_price: 1199,\n                    shop_id: 4,\n                    shop_name: &quot;honor之家&quot;\n                },\n                {\n                    cart_goods_number: 1,\n                    goods_id: 1,\n                    goods_name: &quot;iPhonex&quot;,\n                    goods_img: &quot;iPhonex.png&quot;,\n                    goods_price: 8888,\n                    shop_id: 1,\n                    shop_name: &quot;iPhone之家&quot;\n                }\n            ],\n\n</code></pre><p>##我想要的数据集合大概样子，\n一个用户有一个购物车，一个购物车下有多个商店，一个商店下有多个商品</p>\n<pre class=\"prettyprint\"><code>            data1: [\n                {\n                    shop_id: 4,\n                    shop_name: &quot;honor之家&quot;,\n                    children: [\n                        {\n                            cart_goods_number: 3,\n                            goods_id: 3,\n                            goods_name: &quot;honor7x&quot;,\n                            goods_img: &quot;honor7x.png&quot;,\n                            goods_price: 1299\n                        },\n                        {\n                            cart_goods_number: 2,\n                            goods_id: 4,\n                            goods_name: &quot;honor6x&quot;,\n                            goods_img: &quot;honor6x.png&quot;,\n                            goods_price: 1199\n                        }\n                    ]\n                },\n                {\n                    shop_id: 1,\n                    shop_name: &quot;iPhone之家&quot;,\n                    children: [\n                        {\n                            cart_goods_number: 1,\n                            goods_id: 1,\n                            goods_name: &quot;iPhonex&quot;,\n                            goods_img: &quot;iPhonex.png&quot;,\n                            goods_price: 8888\n                        }\n                    ]\n                }\n            ]\n</code></pre><p>##数据库\n####购物车表\n用户id,商品id,商品数量</p>\n<pre class=\"prettyprint\"><code>CREATE TABLE &#96;cart&#96; (\n  &#96;cart_id&#96; int(10) NOT NULL AUTO_INCREMENT,\n  &#96;user_id&#96; int(10) DEFAULT NULL,\n  &#96;goods_id&#96; int(10) DEFAULT NULL,\n  &#96;cart_goods_number&#96; int(10) DEFAULT NULL,\n  &#96;create_time&#96; datetime DEFAULT NULL,\n  &#96;last_edit_time&#96; datetime DEFAULT NULL,\n  PRIMARY KEY (&#96;cart_id&#96;)\n) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;\n\n</code></pre><h4>用户表</h4>\n<pre class=\"prettyprint\"><code>CREATE TABLE &#96;user&#96; (\n  &#96;user_id&#96; int(10) NOT NULL AUTO_INCREMENT,\n  &#96;user_name&#96; varchar(10) DEFAULT NULL,\n  &#96;user_password&#96; varchar(10) DEFAULT NULL,\n  &#96;user_img&#96; varchar(1024) DEFAULT NULL,\n  &#96;user_phone&#96; varchar(11) DEFAULT NULL,\n  &#96;user_sex&#96; int(2) NOT NULL DEFAULT &#x27;1&#x27; COMMENT &#x27;1:男,2:女&#x27;,\n  &#96;user_address&#96; varchar(100) DEFAULT NULL,\n  &#96;user_state&#96; int(2) NOT NULL DEFAULT &#x27;1&#x27; COMMENT &#x27;1:允许使用,2:禁止使用&#x27;,\n  &#96;create_time&#96; datetime DEFAULT NULL,\n  &#96;last_edit_time&#96; datetime DEFAULT NULL,\n  PRIMARY KEY (&#96;user_id&#96;),\n  UNIQUE KEY &#96;user_name&#96; (&#96;user_name&#96;)\n) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;\n</code></pre><h4>商品表</h4>\n<pre class=\"prettyprint\"><code>CREATE TABLE &#96;goods&#96; (\n  &#96;goods_id&#96; int(10) NOT NULL AUTO_INCREMENT,\n  &#96;goods_name&#96; varchar(10) DEFAULT NULL,\n  &#96;goods_img&#96; varchar(1024) DEFAULT NULL,\n  &#96;goods_price&#96; double DEFAULT NULL,\n  &#96;goods_number&#96; int(10) DEFAULT NULL,\n  &#96;goods_priority&#96; int(2) NOT NULL DEFAULT &#x27;1&#x27;,\n  &#96;goods_state&#96; int(2) NOT NULL DEFAULT &#x27;1&#x27; COMMENT &#x27;1:允许使用,2:禁止使用&#x27;,\n  &#96;shop_id&#96; int(10) DEFAULT NULL,\n  &#96;create_time&#96; datetime DEFAULT NULL,\n  &#96;last_edit_time&#96; datetime DEFAULT NULL,\n  &#96;goods_desc&#96; varchar(1024) DEFAULT NULL,\n  PRIMARY KEY (&#96;goods_id&#96;),\n  UNIQUE KEY &#96;goods_name&#96; (&#96;goods_name&#96;)\n) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;\n\n</code></pre><h4>商店表</h4>\n<pre class=\"prettyprint\"><code>CREATE TABLE &#96;shop&#96; (\n  &#96;shop_id&#96; int(10) NOT NULL AUTO_INCREMENT,\n  &#96;shop_name&#96; varchar(10) DEFAULT NULL,\n  &#96;shop_phone&#96; varchar(11) DEFAULT NULL,\n  &#96;shop_img&#96; varchar(1024) DEFAULT NULL,\n  &#96;shop_category_id&#96; int(10) DEFAULT NULL,\n  &#96;shop_priority&#96; int(2) NOT NULL DEFAULT &#x27;1&#x27;,\n  &#96;shop_state&#96; int(2) NOT NULL DEFAULT &#x27;1&#x27; COMMENT &#x27;1:允许使用,2:禁止使用&#x27;,\n  &#96;create_time&#96; datetime DEFAULT NULL,\n  &#96;last_edit_time&#96; datetime DEFAULT NULL,\n  &#96;shop_desc&#96; varchar(1024) DEFAULT NULL,\n  PRIMARY KEY (&#96;shop_id&#96;),\n  UNIQUE KEY &#96;shop_name&#96; (&#96;shop_name&#96;)\n) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;\n</code></pre></div>', '', 63, '//static.cnodejs.org/FpAHRBB5cG6G1CfB1aqIwDaSSepx', 1537347916, 1546275661, '客户端测试', 0, 0),
(1157, '用 VS Code 做 Egg 项目开发, 大家如何解决代码跳转的问题?', 'Syuusuke', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Ftzivl1Xh9eI48xu05ZRm5VpNWKy\" alt=\"image.png\"></p>\n<p>比如上一段代码, 我想跳转到 service 中 getDevicesInfoOnPaasOnebyOne 方法的定义.\n大家怎么做的?  有什么好的插件推荐吗?</p>\n</div>', '', 63, '//static.cnodejs.org/Ftzivl1Xh9eI48xu05ZRm5VpNWKy', 1537347916, 1546275661, '客户端测试', 0, 0),
(1158, 'excel如何去除所有重复项', 'Arthur-lt', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FuTpDC1CM0m0UmRbIfa9LKTxP7I3\" alt=\"image.png\">\n数据如上，现在要去除所有重复项，即只要“王五”</p>\n</div>', '', 63, '//static.cnodejs.org/FuTpDC1CM0m0UmRbIfa9LKTxP7I3', 1537347916, 1546275661, '客户端测试', 0, 0),
(1159, '有朋友做过ios APP版的cNode吗,准备提交了，审核要注意什么', '1134506391', '', '<div class=\"markdown-text\"><p>有朋友做过ios APP版的cNode吗,准备提交了，审核要注意什么</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1160, '请教关于Node和Java后端交互问题？', 'dpc761218914', '', '<div class=\"markdown-text\"><p>现在尝试：java+dubbo+zookeeper后端=》Node中间件=》vue前端，但是node和java后端交互出现问题，目前使用node-zookeeper-dubbo模块和java后端交互，做测试的时候，会出现这样或那样的问题。</p>\n<p>假如这样的方式：如果所有的dubbo服务都放在java端，java端向node中间件提供http请求，Node端就是简单的转发请求、做日志、缓存等。性能会差吗？在并发较大的情况下（例如使用request模块）</p>\n<p>或者大家有什么更好的node中间件和java dubbo交互的方法吗？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1161, '公司准备用搭建node服务，要定架构，问下现在选哪些比较好', 'kiinlam', '', '<div class=\"markdown-text\"><p>公司有个资讯方面的项目，主要是内容展示，考虑SEO，打算在后端跟前端直接加一层node。\n为了避免踩了大坑，特向兄弟们求教，该怎么选型呢？\n框架有哪些可选，express貌似比较重，而且好像有点过时的样子，koa如何，还有其他选择吗？\n数据库目前还不确定会不会搞，是不是一般选mongo呢？\n缓存应该是redis吧，有没有其他方案呢？\n前端页面交互少，但总免费了什么加载更多，路由控制之类的，主要还是路由支持吧，有没有不太重的前端框架合适呢？\n剩下的应该就是一些配置、服务进程、跟自动化方面的东西，这两块没怎么接触过，有没有好的文章推荐？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1162, 'Alinode很多进程', 'ouyangxuanyun', '', '<div class=\"markdown-text\"><p>用Alinode 监控项目发现有很多下图中的进程，大概有近200个，之前用alinode的时候只有我项目的进程，但是这次找到我项目的进程显示获取进程环境信息失败，我需要重新配置alinode吗？</p>\n<p><img src=\"//static.cnodejs.org/FneUAxTC21E5ncZtdt8if20zkjzF\" alt=\"alinode进程.png\"></p>\n<p>谢谢大家！</p>\n</div>', '', 63, '//static.cnodejs.org/FneUAxTC21E5ncZtdt8if20zkjzF', 1537347916, 1546275661, '客户端测试', 0, 0),
(1163, '最近微信支付暴露的XXE攻击问题，nodejs是否有受影响，如何防范', 'jinjianhua727', '', '<div class=\"markdown-text\"><p><a href=\"https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=23_5\">微信公告和建议</a></p>\n<p>微信支付商户，最近暴露的XML外部实体注入漏洞(XML External Entity Injection，简称 XXE)，该安全问题是由XML组件默认没有禁用外部实体引用导致，非微信支付系统存在漏洞。</p>\n<p>如果你在使用支付业务回调通知中，存在以下场景有使用XML解析的情况，请务必检查是否对进行了防范。\n从网上搜不到nodejs是否受到影响，以及如何防范</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1164, '请教 各位大神 node 里面单双引号，判断字符串的时候，为什么不一样？', 'HopeMa', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FoSYtWJfFBb_obF9veF6maMD9hKr\" alt=\"微信图片_20180706114739.png\">\n感觉好奇怪啊，有哪位大神可以解释一下</p>\n</div>', '', 63, '//static.cnodejs.org/FoSYtWJfFBb_obF9veF6maMD9hKr', 1537347916, 1546275661, '客户端测试', 0, 0),
(1165, '自己用node.js做什么项目可以对自己的求职有帮助？', 'love-imax', '', '<div class=\"markdown-text\"><p>自己用node.js做什么项目可以对自己的求职有帮助？</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1166, '腾讯云ssh过期时间太短,怎么解决?', 'unreal0', '', '<div class=\"markdown-text\"><p>腾讯云ssh过期时间太短,修改/etc/ssh/sshd_config,设置了ServerAliveInterval 60也不起作用,到时还是断开.</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1167, '我想问下大佬，前端学node直接koa2好还是先学下express', 'xintiaobrother', '', '<div class=\"markdown-text\"><p>本人是一个小小的前端，最近准备学node， 谢谢各位大佬。</p>\n</div>', '', 63, '', 1537347916, 1546275661, '客户端测试', 0, 0),
(1168, '有大佬开始用nativescript了吗？', 'jaxQin', '', '<div class=\"markdown-text\"><p><img src=\"https://note.youdao.com/yws/res/76/WEBRESOURCE0796630757de255935893c96497891b4\" alt=\"image\"></p>\n</div>', '', 63, 'https://note.youdao.com/yws/res/76/WEBRESOURCE0796630757de255935893c96497891b4', 1537347916, 1546275661, '客户端测试', 0, 0),
(1169, 'node连接oracle报错。', 'Arthur-lt', '', '<div class=\"markdown-text\"><p>D:\\code\\node\\node_modules_oracledb@2.3.0<a href=\"/user/oracledb\">@oracledb</a>\\lib\\oracledb.js:65\nthrow new Error(nodbUtil.getErrorMessage(‘NJS-045’, nodeInfo));\n^</p>\n<p>Error: NJS-045: cannot load the oracledb add-on binary for Node.js 8.11.3 (win32\n, x64)\nNode.js require() error was:\nDPI-1047: 64-bit Oracle Client library cannot be loaded: “The specified module\ncould not be found”. See <a href=\"https://oracle.github.io/odpi/doc/installation.html#wi\">https://oracle.github.io/odpi/doc/installation.html#wi</a>\nndows for help\nNode.js require() mapped to D:\\code\\node\\node_modules_oracledb@2.3.0<a href=\"/user/oracledb\">@oracledb</a>\\b\nuild\\Release\\oracledb.node\nNode-oracledb installation instructions: <a href=\"https://oracle.github.io/node-oracledb/\">https://oracle.github.io/node-oracledb/</a>\nINSTALL.html\nYou must have 64-bit Oracle client libraries in your PATH environment variable.\nIf you do not have Oracle Database on this computer, then install the Instant Cl\nient Basic or Basic Light package from\n<a href=\"http://www.oracle.com/technetwork/topics/winx64soft-089540.html\">http://www.oracle.com/technetwork/topics/winx64soft-089540.html</a>\nA Microsoft Visual Studio Redistributable suitable for your Oracle client librar\ny version must be available.</p>\n<pre class=\"prettyprint\"><code>at Object.&lt;anonymous&gt; (D:\\code\\node\\node_modules\\_oracledb@2.3.0[@oracledb](&#x2F;user&#x2F;oracledb)\\li\n</code></pre><p>b\\oracledb.js:65:13)\nat Module._compile (module.js:652:30)\nat Object.Module._extensions…js (module.js:663:10)\nat Module.load (module.js:565:32)\nat tryModuleLoad (module.js:505:12)\nat Function.Module._load (module.js:497:3)\nat Module.require (module.js:596:17)\nat require (internal/module.js:11:18)\nat Object.&lt;anonymous&gt; (D:\\code\\node\\node_modules_oracledb@2.3.0<a href=\"/user/oracledb\">@oracledb</a>\\in\ndex.js:1:80)\nat Module._compile (module.js:652:30)\n有大神指导原因吗</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1170, '以前只是日活几十万，现在针对node日活1000万，该如何优化', 'dixiaoping', '', '<div class=\"markdown-text\"><p>首先我使用的的request请求接口，服务端接口拉去数据，\n使用express框架\n使用的log4.js打印日志\n使用的pug模板渲染页面，但是不知道还需要做什么性能调优吗，本地压力测试并发可以扛过去，但是不知道线上怎么样\n需要做多线程处理，\n还有那些需要注意的地方</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1171, '问下怎么用nodejs把文件上传到CDN？', 'leeseean', '', '<div class=\"markdown-text\"><p>有对应的包吗？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1172, 'nodejs 如何刷选出文本中的所有中文？', 'fengyun2', '', '<div class=\"markdown-text\"><p>nodejs 如何刷选出文本中的所有中文?将一个html页面或者js文本的所有中文提取出来（并且去掉所有注释文本），放到另外一个文本？</p>\n<pre class=\"prettyprint language-html\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;首页-我是一个可爱的小萝莉&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n\n&lt;body&gt;\n    &lt;div id=&quot;div1&quot;&gt;我是一个div&lt;&#x2F;div&gt;\n    &lt;div class=&quot;hidden&quot;&gt;\n        你一定能看到我的\n        &lt;!-- 这里的我，你是看不到的啦 --&gt;\n    &lt;&#x2F;div&gt;\n    &lt;script type=&quot;text&#x2F;javascript&quot;&gt;\n        &#x2F;&#x2F; var getId = function(id) {\n        &#x2F;&#x2F;  return document.getElementById(id)\n        &#x2F;&#x2F; }\n        &#x2F;*这里是测试内容，真的!!*&#x2F;\n        document.getElementById = (function (func) {\n            return function () {\n                return func.apply(document, arguments)\n            }\n        })(document.getElementById)\n        var getId = document.getElementById;\n        console.log(getId(&#x27;div1&#x27;))\n\n        &#x2F;*      var func = function(a, b, c) {\n          &#x27;use strict&#x27;;\n          console.log(this)\n          console.log(this === window)\n        }\n        func.apply(null, [1,2,3])*&#x2F;\n\n        &#x2F;*  document.getElementById(&#x27;div1&#x27;).onclick = function() {\n            var func =function() {\n              console.log(this.id)\n            }\n            func.call(this)\n          }*&#x2F;\n\n\n        Function.prototype.bind = function (context) {\n            &#x2F;*  var self = this;\n              return function() {\n                return self.apply(context, arguments)\n              }*&#x2F;\n\n            var self = this,\n                context = [].shift.call(arguments), &#x2F;&#x2F; 提取出上下文\n                args = [].slice.call(arguments); &#x2F;&#x2F; 剩余参数转为数组\n\n            console.log(context, arguments, args)\n            return function () {\n                &#x2F;&#x2F; 结合两次的参数\n                return self.apply(context, [].concat.call(args, [].slice.call(arguments)))\n            }\n        }\n\n        var obj = {\n            name: &#x27;sven&#x27;\n        }\n\n        var func = function (a, b, c, d) {\n            console.log(this.name)\n            console.log([a, b, c, d])\n        }.bind(obj, 1, 2)\n        func(3, 4)\n\n        &#x2F;**\n         * 欢迎大家加入我们的大家庭，你也看不到我的\n         *\n         * @param {*} [params=[]]\n         *&#x2F;\n        function HelloWord(params = []) {\n            console.log(&#x27;欢迎来到中国的大家庭：&#x27;, ...params)\n        }\n    &lt;&#x2F;script&gt;\n&lt;&#x2F;body&gt;\n\n&lt;&#x2F;html&gt;\n</code></pre></div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1173, 'node链接oracle', 'Arthur-lt', '', '<div class=\"markdown-text\"><p>node链接oracle该用什么包啊。</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1174, 'Nodejs 后端程序 class 怎么实现私有方法', 'RooQs', '', '<div class=\"markdown-text\"><p>搞了半天不知道怎么办 自己写的代码看下 可行吗</p>\n<p>“use strict”</p>\n<p>const testF=function (){\nconsole.log(<a href=\"http://this.name\">this.name</a>)\n}</p>\n<p>class Test{</p>\n<pre class=\"prettyprint\"><code>constructor(name){\n    this.name=name\n}\n\ntest(){\n   testF.bind(this)()\n}\n</code></pre><p>}</p>\n<p>let t=new Test(‘小明’)</p>\n<p>t.test()</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1175, '有没有谁能推荐一个完整的nodejs教程？', 'helloMane', '', '<div class=\"markdown-text\"><p>新手才开始学，目前对express和mongodb有一定的了解，希望能找个把mongodb和express这些联系起来用的事例学习学习。有没有谁能推荐一个？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1176, 'koa-jwt 如何设置过期时间', 'Qquanwei', '', '<div class=\"markdown-text\"><p>rt所示 , 超过12小时token失效</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1177, '循环解析多个表格合并后数据排序错乱怎么解决？', 'muzi-xiangxiang', '', '<div class=\"markdown-text\"><p>如图都到15号了突然7号的数据又来了<img src=\"//static.cnodejs.org/FuGDbbtzRwmr_Od0zRa0HASBYhpz\" alt=\"image.png\"></p>\n<pre class=\"prettyprint language-javascript\"><code>new Promise(function (resolve, reject) {\n          if (files.file.name == undefined &amp;&amp; files.file.length &gt; 1) {\n            if (!isFileType(files.file, &#x27;.xls&#x27;)) {\n              res.send({errcode: 90002, errmsg: returncode[90002]});\n              res.end();\n              return;\n            }\n            async.eachSeries(files.file, function (item, cb) {\n              nxls.open(&#96;${item.path}&#96;, function (err, bk) {\n                var data = [];\n                if (err) {\n                  console.log(err.name, err.message);\n                  return cb(err, null);\n                }\n                data = xlsToArray(bk.sheets[0]);\n                data.shift();&#x2F;&#x2F;删除重复的标题栏\n                datas = datas.concat(data);\n                cb(err, datas);\n              });\n            }, function (err) {\n              if (err) {\n                console.log(&quot;errlog : &quot; + err);\n                res.send({errcode: 90001, errmsg: returncode[90001]});\n                res.end();\n              } else {\n                resolve(&#x27;ok&#x27;);\n              }\n            })\n          }\n        }).then(function () {\n          var fomart_cvs=[];\n          for(let i=0;i&lt;datas.length;i++){\n            if(datas[i][0]!=&quot;&quot;){\n              fomart_cvs.push(datas[i]);\n            }\n          }\n          exportCsv(res, fomart_cvs, &#x27;-yunda&#x27;);\n        })\n      })\n</code></pre><p>求帮助看下是不是哪里写的有问题啊？</p>\n</div>', '', 63, '//static.cnodejs.org/FuGDbbtzRwmr_Od0zRa0HASBYhpz', 1537347917, 1546275661, '客户端测试', 0, 0),
(1178, 'centos 7 : npm install memwatch-next 出错', 'unreal0', '', '<div class=\"markdown-text\"><p>nvm\nnode -v : 10.0.0\n[root<a href=\"/user/VM_0_13_centos\">@VM_0_13_centos</a> ParseServer]# npm install memwatch-next</p>\n<blockquote>\n<p>bcrypt@1.0.3 install /root/ParseServer/node_modules/bcrypt\nnode-pre-gyp install --fallback-to-build</p>\n</blockquote>\n<p>node-pre-gyp ERR! Tried to download(404): <a href=\"https://github.com/kelektiv/node.bcrypt.js/releases/download/v1.0.3/bcrypt_lib-v1.0.3-node-v64-linux-x64.tar.gz\">https://github.com/kelektiv/node.bcrypt.js/releases/download/v1.0.3/bcrypt_lib-v1.0.3-node-v64-linux-x64.tar.gz</a>\nnode-pre-gyp ERR! Pre-built binaries not found for bcrypt@1.0.3 and node@10.0.0 (node-v64 ABI) (falling back to source compile with node-gyp)\ngyp WARN download NVM_NODEJS_ORG_MIRROR is deprecated and will be removed in node-gyp v4, please use NODEJS_ORG_MIRROR\ngyp WARN download NVM_NODEJS_ORG_MIRROR is deprecated and will be removed in node-gyp v4, please use NODEJS_ORG_MIRROR\ngyp WARN download NVM_NODEJS_ORG_MIRROR is deprecated and will be removed in node-gyp v4, please use NODEJS_ORG_MIRROR\nmake: 进入目录“/root/ParseServer/node_modules/bcrypt/build”\nCXX(target) Release/obj.target/bcrypt_lib/src/blowfish.o\nCXX(target) Release/obj.target/bcrypt_lib/src/bcrypt.o\nCXX(target) Release/obj.target/bcrypt_lib/src/bcrypt_node.o\nIn file included from …/node_modules/nan/nan.h:192:0,\nfrom …/src/bcrypt_node.cc:1:\n…/node_modules/nan/nan_maybe_43_inl.h: 在函数‘Nan::Maybe&lt;bool&gt; Nan::ForceSet(v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::Value</a>, v8::Local<a href>v8::Value</a>, v8::PropertyAttribute)’中:\n…/node_modules/nan/nan_maybe_43_inl.h:112:15: 错误：‘class v8::Object’没有名为‘ForceSet’的成员\nreturn obj-&gt;ForceSet(isolate-&gt;GetCurrentContext(), key, value, attribs);\n^\nIn file included from …/src/bcrypt_node.cc:1:0:\n…/node_modules/nan/nan.h: 在函数‘v8::Local<a href>v8::Value</a> Nan::MakeCallback(v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::Function</a>, int, v8::Local<a href>v8::Value</a><em>)’中:\n…/node_modules/nan/nan.h:835:60: 警告：不建议使用‘v8::Local<a href>v8::Value</a> node::MakeCallback(v8::Isolate</em>, v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::Function</a>, int, v8::Local<a href>v8::Value</a><em>)’(声明于 /root/.node-gyp/10.0.0/include/node/node.h:171)：Use MakeCallback(…, async_context) [-Wdeprecated-declarations]\nv8::Isolate::GetCurrent(), target, func, argc, argv);\n^\n…/node_modules/nan/nan.h: 在函数‘v8::Local<a href>v8::Value</a> Nan::MakeCallback(v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::String</a>, int, v8::Local<a href>v8::Value</a></em>)’中:\n…/node_modules/nan/nan.h:850:62: 警告：不建议使用‘v8::Local<a href>v8::Value</a> node::MakeCallback(v8::Isolate*, v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::String</a>, int, v8::Local<a href>v8::Value</a><em>)’(声明于 /root/.node-gyp/10.0.0/include/node/node.h:164)：Use MakeCallback(…, async_context) [-Wdeprecated-declarations]\nv8::Isolate::GetCurrent(), target, symbol, argc, argv);\n^\n…/node_modules/nan/nan.h: 在函数‘v8::Local<a href>v8::Value</a> Nan::MakeCallback(v8::Local<a href>v8::Object</a>, const char</em>, int, v8::Local<a href>v8::Value</a><em>)’中:\n…/node_modules/nan/nan.h:865:62: 警告：不建议使用‘v8::Local<a href>v8::Value</a> node::MakeCallback(v8::Isolate</em>, v8::Local<a href>v8::Object</a>, const char*, int, v8::Local<a href>v8::Value</a><em>)’(声明于 /root/.node-gyp/10.0.0/include/node/node.h:157)：Use MakeCallback(…, async_context) [-Wdeprecated-declarations]\nv8::Isolate::GetCurrent(), target, method, argc, argv);\n^\n…/node_modules/nan/nan.h: 在成员函数‘v8::Local<a href>v8::Value</a> Nan::Callback::Call_(v8::Isolate</em>, v8::Local<a href>v8::Object</a>, int, v8::Local<a href>v8::Value</a><em>) const’中:\n…/node_modules/nan/nan.h:1479:5: 警告：不建议使用‘v8::Local<a href>v8::Value</a> node::MakeCallback(v8::Isolate</em>, v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::Function</a>, int, v8::Local<a href>v8::Value</a>*)’(声明于 /root/.node-gyp/10.0.0/include/node/node.h:171)：Use MakeCallback(…, async_context) [-Wdeprecated-declarations]\n));\n^\nmake: *** [Release/obj.target/bcrypt_lib/src/bcrypt_node.o] 错误 1\nmake: 离开目录“/root/ParseServer/node_modules/bcrypt/build”\ngyp ERR! build error\ngyp ERR! stack Error: <code>make</code> failed with exit code: 2\ngyp ERR! stack     at ChildProcess.onExit (/root/.nvm/v10.0.0/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:258:23)\ngyp ERR! stack     at ChildProcess.emit (events.js:182:13)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:225:12)\ngyp ERR! System Linux 3.10.0-514.26.2.el7.x86_64\ngyp ERR! command “/root/.nvm/v10.0.0/bin/node” “/root/.nvm/v10.0.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js” “build” “–fallback-to-build” “–module=/root/ParseServer/node_modules/bcrypt/lib/binding/bcrypt_lib.node” “–module_name=bcrypt_lib” &quot;–module_path=/root/ParseServer/node_modules/bcrypt/lib/binding&quot;\ngyp ERR! cwd /root/ParseServer/node_modules/bcrypt\ngyp ERR! node -v v10.0.0\ngyp ERR! node-gyp -v v3.6.2\ngyp ERR! not ok\nnode-pre-gyp ERR! build error\nnode-pre-gyp ERR! stack Error: Failed to execute ‘/root/.nvm/v10.0.0/bin/node /root/.nvm/v10.0.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js build --fallback-to-build --module=/root/ParseServer/node_modules/bcrypt/lib/binding/bcrypt_lib.node --module_name=bcrypt_lib --module_path=/root/ParseServer/node_modules/bcrypt/lib/binding’ (1)\nnode-pre-gyp ERR! stack     at ChildProcess.&lt;anonymous&gt; (/root/ParseServer/node_modules/node-pre-gyp/lib/util/compile.js:83:29)\nnode-pre-gyp ERR! stack     at ChildProcess.emit (events.js:182:13)\nnode-pre-gyp ERR! stack     at maybeClose (internal/child_process.js:947:16)\nnode-pre-gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:236:5)\nnode-pre-gyp ERR! System Linux 3.10.0-514.26.2.el7.x86_64\nnode-pre-gyp ERR! command “/root/.nvm/v10.0.0/bin/node” “/root/ParseServer/node_modules/.bin/node-pre-gyp” “install” &quot;–fallback-to-build&quot;\nnode-pre-gyp ERR! cwd /root/ParseServer/node_modules/bcrypt\nnode-pre-gyp ERR! node -v v10.0.0\nnode-pre-gyp ERR! node-pre-gyp -v v0.6.36\nnode-pre-gyp ERR! not ok\nFailed to execute ‘/root/.nvm/v10.0.0/bin/node /root/.nvm/v10.0.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js build --fallback-to-build --module=/root/ParseServer/node_modules/bcrypt/lib/binding/bcrypt_lib.node --module_name=bcrypt_lib --module_path=/root/ParseServer/node_modules/bcrypt/lib/binding’ (1)</p>\n<blockquote>\n<p>memwatch-next@0.3.0 install /root/ParseServer/node_modules/memwatch-next\nnode-gyp rebuild</p>\n</blockquote>\n<p>gyp WARN download NVM_NODEJS_ORG_MIRROR is deprecated and will be removed in node-gyp v4, please use NODEJS_ORG_MIRROR\ngyp WARN download NVM_NODEJS_ORG_MIRROR is deprecated and will be removed in node-gyp v4, please use NODEJS_ORG_MIRROR\ngyp WARN download NVM_NODEJS_ORG_MIRROR is deprecated and will be removed in node-gyp v4, please use NODEJS_ORG_MIRROR\nmake: 进入目录“/root/ParseServer/node_modules/memwatch-next/build”\nCXX(target) Release/obj.target/memwatch/src/heapdiff.o\nIn file included from …/…/nan/nan.h:190:0,\nfrom …/src/heapdiff.hh:11,\nfrom …/src/heapdiff.cc:12:\n…/…/nan/nan_maybe_43_inl.h: 在函数‘Nan::Maybe&lt;bool&gt; Nan::ForceSet(v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::Value</a>, v8::Local<a href>v8::Value</a>, v8::PropertyAttribute)’中:\n…/…/nan/nan_maybe_43_inl.h:112:15: 错误：‘class v8::Object’没有名为‘ForceSet’的成员\nreturn obj-&gt;ForceSet(isolate-&gt;GetCurrentContext(), key, value, attribs);\n^\nIn file included from …/src/heapdiff.hh:11:0,\nfrom …/src/heapdiff.cc:12:\n…/…/nan/nan.h: 在函数‘v8::Local<a href>v8::Value</a> Nan::MakeCallback(v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::Function</a>, int, v8::Local<a href>v8::Value</a><em>)’中:\n…/…/nan/nan.h:833:60: 警告：不建议使用‘v8::Local<a href>v8::Value</a> node::MakeCallback(v8::Isolate</em>, v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::Function</a>, int, v8::Local<a href>v8::Value</a><em>)’(声明于 /root/.node-gyp/10.0.0/include/node/node.h:171)：Use MakeCallback(…, async_context) [-Wdeprecated-declarations]\nv8::Isolate::GetCurrent(), target, func, argc, argv);\n^\n…/…/nan/nan.h: 在函数‘v8::Local<a href>v8::Value</a> Nan::MakeCallback(v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::String</a>, int, v8::Local<a href>v8::Value</a></em>)’中:\n…/…/nan/nan.h:848:62: 警告：不建议使用‘v8::Local<a href>v8::Value</a> node::MakeCallback(v8::Isolate*, v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::String</a>, int, v8::Local<a href>v8::Value</a><em>)’(声明于 /root/.node-gyp/10.0.0/include/node/node.h:164)：Use MakeCallback(…, async_context) [-Wdeprecated-declarations]\nv8::Isolate::GetCurrent(), target, symbol, argc, argv);\n^\n…/…/nan/nan.h: 在函数‘v8::Local<a href>v8::Value</a> Nan::MakeCallback(v8::Local<a href>v8::Object</a>, const char</em>, int, v8::Local<a href>v8::Value</a><em>)’中:\n…/…/nan/nan.h:863:62: 警告：不建议使用‘v8::Local<a href>v8::Value</a> node::MakeCallback(v8::Isolate</em>, v8::Local<a href>v8::Object</a>, const char*, int, v8::Local<a href>v8::Value</a><em>)’(声明于 /root/.node-gyp/10.0.0/include/node/node.h:157)：Use MakeCallback(…, async_context) [-Wdeprecated-declarations]\nv8::Isolate::GetCurrent(), target, method, argc, argv);\n^\n…/…/nan/nan.h: 在成员函数‘v8::Local<a href>v8::Value</a> Nan::Callback::Call_(v8::Isolate</em>, v8::Local<a href>v8::Object</a>, int, v8::Local<a href>v8::Value</a><em>) const’中:\n…/…/nan/nan.h:1477:5: 警告：不建议使用‘v8::Local<a href>v8::Value</a> node::MakeCallback(v8::Isolate</em>, v8::Local<a href>v8::Object</a>, v8::Local<a href>v8::Function</a>, int, v8::Local<a href>v8::Value</a>*)’(声明于 /root/.node-gyp/10.0.0/include/node/node.h:171)：Use MakeCallback(…, async_context) [-Wdeprecated-declarations]\n));\n^\n…/src/heapdiff.cc: 在函数‘std::string handleToStr(v8::Handle<a href>v8::Value</a>&amp;)’中:\n…/src/heapdiff.cc:95:45: 警告：不建议使用‘v8::String::Utf8Value::Utf8Value(v8::Local<a href>v8::Value</a>)’(声明于 /root/.node-gyp/10.0.0/include/node/v8.h:2821)：Use Isolate version [-Wdeprecated-declarations]\nString::Utf8Value utfString(str-&gt;ToString());\n^\nmake: *** [Release/obj.target/memwatch/src/heapdiff.o] 错误 1\nmake: 离开目录“/root/ParseServer/node_modules/memwatch-next/build”\ngyp ERR! build error\ngyp ERR! stack Error: <code>make</code> failed with exit code: 2\ngyp ERR! stack     at ChildProcess.onExit (/root/.nvm/v10.0.0/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:258:23)\ngyp ERR! stack     at ChildProcess.emit (events.js:182:13)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:225:12)\ngyp ERR! System Linux 3.10.0-514.26.2.el7.x86_64\ngyp ERR! command “/root/.nvm/v10.0.0/bin/node” “/root/.nvm/v10.0.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js” &quot;rebuild&quot;\ngyp ERR! cwd /root/ParseServer/node_modules/memwatch-next\ngyp ERR! node -v v10.0.0\ngyp ERR! node-gyp -v v3.6.2\ngyp ERR! not ok\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: bcrypt@1.0.3 (node_modules/bcrypt):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: bcrypt@1.0.3 install: <code>node-pre-gyp install --fallback-to-build</code>\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1</p>\n<p>npm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! memwatch-next@0.3.0 install: <code>node-gyp rebuild</code>\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the memwatch-next@0.3.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.</p>\n<p>npm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-07-05T06_13_25_958Z-debug.log</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1179, 'promise的状态传递到底怎么理解？', 'CoderSavior', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fj_r5ZB9Wqpn7l6wcDtIpqpciShQ\" alt=\"promise.png\">\n各种资料看了不少，但是还是没有完全理解阮一峰两个promise实例状态传递的原理。如图，以图中p1,p2来举例，疑问点主要有以下几点\n1&gt;如果是p1到底如何决定p2的状态，如果p1调用resolve，貌似p2并没有调用resolve\n2&gt;如果p2调用了reject，并且执行了then第二个参数的话，为什么其promise状态还是‘resolved’\n3&gt;p1，p2之间值到底是如何传递的，因为打印出来值有时会是undefined。</p>\n<p>综上所述，我完全没有理解promise，希望大佬们指点一下迷津。</p>\n</div>', '', 63, '//static.cnodejs.org/Fj_r5ZB9Wqpn7l6wcDtIpqpciShQ', 1537347917, 1546275661, '客户端测试', 0, 0),
(1180, 'node如何监控到渲染的模板，并且缓存下来', 'dixiaoping', '', '<div class=\"markdown-text\"><p>现在遇到的问题是，并发qps是100，使用了大概14s，对比国外网站人家特别快，大概4s，（未使用vpv）\n<img src=\"//static.cnodejs.org/FvAUcG6KrPPrrtChONcOMOK6M0FK\" alt=\"image.png\">\n<strong>这是路由代码，</strong>\n<img src=\"//static.cnodejs.org/FkvQcrulUXMZyMMPY2zaqZVnANYp\" alt=\"image.png\">\n<strong>处理首页路径的代码</strong>\n我在想，有什么办法用户第一次访问，通过ejs渲染的html页面缓存下来，可以设置缓存期限，每次其他用户访问首页的时候，就不需要再次render页面了\n直接把第一次渲染好的页面，扔给用户也就不要渲染了，网上看了可以把模板缓存下来，会不会导致内存常驻，内存泄漏呢</p>\n<p>目前测试出来是接口慢了，目前针对的是海外用户，服务器在海外部署的，连上vpn 接口大概4秒多，吞吐量1000左右，网站平均访问6秒多，吞吐量1分钟1400左右，想请教一下大家，代码还可以怎么优化，让速度更好呢，使用pm2开启了4个进程，用jmeter做了压力测试，但是cpu最高才5%，都在1%左右，</p>\n</div>', '', 63, '//static.cnodejs.org/FvAUcG6KrPPrrtChONcOMOK6M0FK', 1537347917, 1546275661, '客户端测试', 0, 0),
(1181, 'The Node Craftsman Book这本书目前还没有人翻译吗？', 'ymmagic', '', '<div class=\"markdown-text\"><p>请问The Node Craftsman Book这本书是不是还没有中文版的？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1182, '为什么node项目部署到服务器上后，项目启动不来', 'wpengw', '', '<div class=\"markdown-text\"><p>最近用本站开源的项目写了点东西，准备部署到服务器，因为是前端出身，对服务器和node了解还是不足。\n昨天买的阿里云服务器，今天上午运行 node app.js 还是好使的，下午配置完redis的环境后就起不来了，不知道哪里出了问题</p>\n<p>运行完node app.js 直接跳出了\n<img src=\"//static.cnodejs.org/FlX3d1i5wNFyhf8zAz5iS5UTVIzm\" alt=\"error.png\"></p>\n<p>本地运行没什么问题\n<img src=\"//static.cnodejs.org/FjAJtXUY-Xc3qxWNbw-2wYsjsvLG\" alt=\"success.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/FlX3d1i5wNFyhf8zAz5iS5UTVIzm', 1537347917, 1546275661, '客户端测试', 0, 0),
(1183, '前后分离用egg出 missing csrf token', 'liuboo456', '', '<div class=\"markdown-text\"><p>做前后分离。CSRF 可以将csrfToken放到cookie下通过js获取\n这样不还是会出现CSRF风险吗\n<img src=\"//static.cnodejs.org/FgqCerRMoVQf2HruV_i_FF7zc0j9\" alt=\"image.png\">\negg也提供了一个方式。将csrfToken放到session里面。\n但是这样前后分离岂不是获取不了csrfToken\n找不到更好的办法。。只能先关闭CSRF验证了。。</p>\n</div>', '', 63, '//static.cnodejs.org/FgqCerRMoVQf2HruV_i_FF7zc0j9', 1537347917, 1546275661, '客户端测试', 0, 0),
(1184, 'node使用fetch或者axios处理http请求', 'Arthur-lt', '', '<div class=\"markdown-text\"><p>node中，使用fetch发送http的get请求，获取json数据。一次获取10条20条数据没问题。但获取上万条就出问题了</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1185, 'Koa2中使用ctx.cookie.get(name)得不到值', 'hsyq', '', '<div class=\"markdown-text\"><p>使用get请求可以写cookie，读cookie，使用post请求读写cookie失败。\n代码如下。</p>\n<pre class=\"prettyprint\"><code>&#x2F;&#x2F; post 用户登录\nrouter.post(&#x27;&#x2F;user&#x2F;login&#x27;, async (ctx, next) =&gt; {\n    let {username, pwd} = ctx.request.body;\n \n    let result = await User.findOne({username});\n    console.log(result)\n    if(!result){\n        return ctx.body = {\n            code:0,\n            msg: &#x27;用户名不存在&#x27;\n        }\n    } else if(result.pwd === md5Pwd(pwd)) {\n        console.log(result._id);     \n        ctx.cookies.set(&#x27;userid&#x27;, result._id);\n        console.log(ctx.cookies.get(&#x27;userid&#x27;));          &#x2F;&#x2F; undefined\n\n        return ctx.body = {\n            code:1,\n            msg: &#x27;登录成功&#x27;,\n            data: result\n        }\n    }\n})\n\n</code></pre></div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1186, 'fs.createReadStream()放入Buffer数据出现报错', '2015-lizaiyang', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FszN4f9yDp4Pqk1hJJvM5tBq8eUp\" alt=\"喂喂喂喂.png\">\n<strong>具体代码如上图\n整个代码的意思是从数据库里取出数据，循环查看用户是否有base64编码头像，有就解码成buffer，传入到一个可读流中，这里之所以要传入到一个可读流中的原因是，七牛云插件规定要是一个可读流参数。</strong>\n<img src=\"//static.cnodejs.org/Fi8cU9Eb953xq386Pk7OT6mpXEEC\" alt=\"fs.png\">\n<strong>nodejs文档中说是支持传入Buffer数据</strong></p>\n</div>', '', 63, '//static.cnodejs.org/FszN4f9yDp4Pqk1hJJvM5tBq8eUp', 1537347917, 1546275661, '客户端测试', 0, 0),
(1187, 'win10下nvm切换node版本失败，到底因为什么？', 'CoderSavior', '', '<div class=\"markdown-text\"><p>我先独立安装的node，又安装的nvm，继而切换版本，发现失败了，google后说原因是两个运行的目录不一样，卸载node后，再用nvm安装，发现可以切换了，问题是我尝试又从官网下载后，发现也可以切换了，所以问题的关键是不是先下载的是node还是nvm？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1188, '前端怎么一步步走向全栈呢？', 'cgsp', '', '<div class=\"markdown-text\"><p>前端怎么一步步走向全栈呢？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1189, '你们想要哪些开源项目的中文文档啊？我们可以提供翻译系统大家一块翻译。', '92hackers', '', '<div class=\"markdown-text\"><p>具体的项目可以留言，加上 项目链接地址。</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1190, 'Fiddler 抓取微信小程序', '642250185', '', '<div class=\"markdown-text\"><p>Fiddler 抓取微信小程序返回的数据总是 Succes?\n看不到返回json格式数据，是怎么回事???</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1191, 'puppeteer生成pdf文件分页问题？', 'okotta1', '', '<div class=\"markdown-text\"><p>用puppeteer将html文件转成pdf，但是生成的文件在分页的时候，直接从一行文本中间分开\n<img src=\"//static.cnodejs.org/FqKlkwhNdNyDwWoY3RVAiWvdxxQg\" alt=\"temp.png\">\n找了下官方的api但是好像没有有关这个问题的option？请问这种问题有解决的办法吗？</p>\n</div>', '', 63, '//static.cnodejs.org/FqKlkwhNdNyDwWoY3RVAiWvdxxQg', 1537347917, 1546275661, '客户端测试', 0, 0),
(1192, 'express中session设置secret后整体流程是什么？', 'zhang852774731', '', '<div class=\"markdown-text\"><p>我先说一下我的理解：\n	app.use(session({\n		secret: ‘keyboard cat’,\n	}))\n	当设置secret后，express-session模块会在cookie中设置名为connect.sid的值，并且它的值是以“s:”开头的。这个值是cookieidd和secret加密后的结果。当重新访问相同页面时，express-session会提取出connect.sid的值并解析出对应的值进行解密。\n	我的疑问是解密之后的值应该与加密前的值进行对比，以判断cookie时候被改写。加密前的值是存储在哪里的，内存中吗？\n	以上是我的理解和疑问，如果有问题请大家指出，谢谢。\n	还有，为什么要对session id进行签名</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1193, '萌新求问promise.map与underscore.map的区别', 'Masterlu1998', '', '<div class=\"markdown-text\"><p>在实际项目中，我发现这两个map的表面行为似乎一模一样，想问下这两个函数有什么区别吗？两个函数的使用有场合讲究吗？（注：promise引用了bluebird）</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1194, '关于小程序，node，腾讯cos web直传，ssl部署的问题？', 'lwpassvoice', '', '<div class=\"markdown-text\"><p>是这样的最近做了个小程序，想要用腾讯对象存储的web直传来保存图片，但是在合法域名上有些问题</p>\n<p>1、小程序request <a href=\"http://xn--api-xy3ez4m0c607hxue8s8b.xxx.com\">的接口地址是api.xxx.com</a>，这个配了腾讯云的免费ssl证书</p>\n<p>2、因为小程序上传文件需要配合法的upload地址，就在腾讯云cos上配置了域名cname，<a href=\"http://xn--upload-vy7i.xxx.com\">为upload.xxx.com</a>，这样从upload.xxx.com就能直接上传文件到腾讯云</p>\n<p>3、但是这样就有问题了：我服务器上（node写的）配的证书是api.xxx.com的， upload.xxx.com就没有匹配的证书，导致小程序上传失败</p>\n<p>4、请问如何才能做到访问api.xxx.com和upload.xxx.com都能使用各自的证书，或者有其他方法解决这个问题，谢谢各位</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1195, 'vue  keep-alive include无效但exclude有效', 'yuanshuai007', '', '<div class=\"markdown-text\"><p>&lt;keep-alive include=‘user’&gt;\n&lt;router-view/&gt;\n&lt;/keep-alive&gt;</p>\n<hr>\n<p>上面的无效 下面的有效\n也就是说上面的谁也缓存不了  但下面的可以缓存除了user以外的页面\n&lt;keep-alive exclude=‘user’&gt;\n&lt;router-view/&gt;\n&lt;/keep-alive&gt;</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1196, 'GraphQL 使用后的疑惑点', 'junhaotong', '', '<div class=\"markdown-text\"><p>Node框架: Egg.js\nGraphQL插件： egg-graphql</p>\n<p>egg-graphql将GraphQL逻辑分成了四个部分: Schema, Resolvers, Models, 和 Connectors。</p>\n<p>在上手尝试之后，我咋觉得，一个简单的应用，Controller和Service部分都省了？\n然后我使用的是MongoDB，是否需要维护MongoDB的Schema还有GraphQL的Schema？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1197, '我安装了mocha模块，为何出现`ReferenceError: describe is not defined`', 'napster99', '', '<div class=\"markdown-text\"><pre class=\"prettyprint\"><code>var assert = require(&quot;assert&quot;);\ndescribe(&#x27;Array&#x27;, function(){\n    describe(&#x27;#indexOf()&#x27;, function(){\n          it(&#x27;should return -1 when the value is not present&#x27;, function(){\n            assert.equal(-1, [1,2,3].indexOf(5));\n            assert.equal(-1, [1,2,3].indexOf(0));\n        })\n    })\n});\n</code></pre><p>我安装了mocha模块，为何出现<code>ReferenceError: describe is not defined</code>\n怎么回事？？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1198, '如何批量生成api呢？', 'wangsenyan', '', '<div class=\"markdown-text\"><blockquote></blockquote>\n<pre class=\"prettyprint\"><code>var apiList = {\n&quot;&#x2F;api&#x2F;enterprise&#x2F;book&quot;: &quot;post&quot;,\n&quot;&#x2F;api&#x2F;enterprise&#x2F;book&#x2F;:namespace&#x2F;:name&quot;: &quot;get&quot;,\n&quot;&#x2F;api&#x2F;enterprise&#x2F;book&#x2F;:namespace&#x2F;:name&quot;: &quot;put&quot;,\n&quot;&#x2F;api&#x2F;enterprise&#x2F;book&#x2F;:namespace&#x2F;:name&quot;: &quot;delete&quot;,\n&quot;&#x2F;api&#x2F;enterprise&#x2F;book&quot;: &quot;get&quot;,\n&quot;&#x2F;api&#x2F;enterprise&#x2F;book&#x2F;:namespace&#x2F;:name&#x2F;release&quot;: &quot;post&quot;,\n&quot;&#x2F;api&#x2F;enterprise&#x2F;team&quot;: &quot;post&quot;,\n&quot;&#x2F;api&#x2F;enterprise&#x2F;team&#x2F;:teamname&quot;: &quot;put&quot;,\n&quot;&#x2F;api&#x2F;enterprise&#x2F;team&#x2F;:teamname&quot;: &quot;get&quot;,\n&quot;&#x2F;api&#x2F;enterprise&#x2F;team&#x2F;:teamname&quot;: &quot;delete&quot;,\n&quot;&#x2F;api&#x2F;enterprise&#x2F;team&quot;: &quot;get&quot;\n</code></pre><p>}\nfor (var i in apiList) {\napp[apiList[i]](i, function (req, res) {\nvar method = req.method;\nvar pathname = req.url;\nvar body = req.body;\nconsole.log(method, pathname, body)\nvar options = getOptions(method, pathname, body);\nrequest(options, function (err, resp, body) {\nif (err) {\nreturn res.err(err)\n} else {\nreturn res.ok(body)\n}\n})\n})\n}</p>\n<blockquote>\n<p>这样生成的api，只有简单的get能用，其他不能用，为什么呢？</p>\n</blockquote>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1199, '求助：我的linux服务器tcp链接不能超过9000个！', 'meiwhu', '', '<div class=\"markdown-text\"><p>服务器：用node写了个helloworld，直接监听81端口。\n客户端：用node的net模块发起发起一万个tcp链接。</p>\n<p>结果：只有8000多个链接建立了，剩下的都超时了。</p>\n<p>我已经修改了:\nulimit -n 20480\ncat /proc/sys/fs/file-max\n100000</p>\n<p>请问怎样修改才可以突破这个限制？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1200, '关于CNode.js为评论点赞的API问题', 'fattypiggy', '', '<div class=\"markdown-text\"><p>背景：我在做CNode.js的基于ionic的客户端，在做为评论点赞的功能\nPOST请求：<a href=\"https://cnodejs.org/api/v1/topic/59d62dc5eab6a6536873fec8\">https://cnodejs.org/api/v1/topic/59d62dc5eab6a6536873fec8</a>\n返回</p>\n<pre class=\"prettyprint language- &quot;replies&quot;: [\"><code>            {\n                &quot;id&quot;: &quot;59d62de2eab6a6536873fec9&quot;,\n                &quot;author&quot;: {\n                    &quot;loginname&quot;: &quot;lazyopen&quot;,\n                    &quot;avatar_url&quot;: &quot;https:&#x2F;&#x2F;avatars1.githubusercontent.com&#x2F;u&#x2F;4491617?v=4&amp;s=120&quot;\n                },\n                &quot;content&quot;: &quot;&lt;div class=\\&quot;markdown-text\\&quot;&gt;&lt;p&gt;哈哈哈哈\\nFrom &lt;a href=\\&quot;https:&#x2F;&#x2F;github.com&#x2F;soliury&#x2F;noder-react-native\\&quot;&gt;Noder&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\\n&lt;&#x2F;div&gt;&quot;,\n                &quot;ups&quot;: [\n                    &quot;590c2ed552c3650e042a7fd9&quot;\n                ],\n                &quot;create_at&quot;: &quot;2017-10-05T13:04:34.685Z&quot;,\n                &quot;reply_id&quot;: null,\n                &quot;is_uped&quot;: false\n            }...\n</code></pre><p>这里面的的ups数组应该是点赞的人的信息，然后我想问问这里面的<strong><em>590c2ed552c3650e042a7fd9</em></strong>怎么才能和我的token绑定，换句话说，在不提交新请求的情况下如何判断是否点赞?谢谢。\n另：这是我项目地址<a href=\"https://github.com/fattypiggy/CNode-ionic\">GitHub传送门</a>，欢迎小伙伴们给我的项目提建议，欢迎PR，欢迎Star</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1201, '关于pm2平滑更新的问题', 'Gitforxuyang', '', '<div class=\"markdown-text\"><p>网上一直说reload是0秒平滑更新，但是我今天在试的时候发现。当reload创建完新的进程接收请求后就会关闭旧进程。此时，旧进程里正在连接的socket会被强制关闭（准确来说应该是进程整个被Kill了），而不是等待它完成再关闭。 然后gracefulReload我也试了，也差不多。并不会照顾到当前正在连接的socket。\n所以想问一下，难道就没有一种办法，让pm2创建新进程接收新的请求，同时等待原进程的所有请求完成后再关闭旧进程。</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1202, '记得论坛里有人发过一个基于flex 布局的css框架', 'yakczh', '', '<div class=\"markdown-text\"><p>一时找不到了，有人还记得吗</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1203, 'koa2 cors 跨域处理中怎样处理 preflight 问题？', 'youngluo', '', '<div class=\"markdown-text\"><blockquote>\n<p>if (ctx.request.method === ‘OPTIONS’) {\nctx.status = 200;\n} else {\nctx.throw(401);\n}</p>\n</blockquote>\n<p>通过放行 options 请求的话，前端请求后会同时触发 resolve 和 reject</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1204, 'cnode的富文本编辑框是什么插件', 'Tianfer', '', '<div class=\"markdown-text\"><p>如题。\n最近找了好多的富文本编辑框，要么就是用不来，要么就是不合适。\n找的就是cnode这个发布功能的富文本编辑框，能配合markdown语法的</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1205, 'mongodb更新数组元素的问题', 'lovegnep', '', '<div class=\"markdown-text\"><h2>假设文档如下</h2>\n<pre class=\"prettyprint\"><code>{\n	id:7778888\n	itemList:[{type:1,count:10},{type:2,count:12},{type:21,count:21}],\n	nick:&quot;hehe&quot;\n}\n</code></pre><h2>有两个问题：</h2>\n<p>1.现在要向该文档的itemList添加元素{type:90,count:23}  如果itemList中已经有元素的type为90则直接将该元素的count加23，如果没有则直接将该元素添加到itemList中，<strong>要怎么用一条更新实现这个功能呢？</strong></p>\n<p>2.假设该文档的itemList中没有type为90的元素，现在向itemList中添加元素{type:90,count:23}， 同时更新type为2的元素的count减10，我是这样做的，但是报错了：</p>\n<pre class=\"prettyprint\"><code>	testmodel.update(\n	  {id:7778888},\n	  {\n		$inc:{&quot;itemList.$[elem].count&quot;:-10}, \n		$push:{itemList:{type:90,count:23}}},\n	  {arrayFilters:[{&quot;elem.type&quot;:2}]}\n	);\n	\n	mongoError: Updating the path &#x27;itemList.$[elem].count&#x27; would create a conflict at &#x27;itemList&#x27;\n</code></pre><p>有人知道这是为啥吗？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1206, '一个关于mongoose的问题!!!', 'MeetTheBest', '', '<div class=\"markdown-text\"><p>本人对于数据库着一块比较陌生, mongoose的文档的示例感觉讲的不细.\n集合A</p>\n<pre class=\"prettyprint\"><code>{ _id: &#x27;5b34a9a5bdd28a144eeb479a&#x27;, book: &#x27;5b34a949bdd28a144eeb4792&#x27; }\n</code></pre><p>集合book</p>\n<pre class=\"prettyprint\"><code>{ _id: &#x27;5b34a949bdd28a144eeb4792&#x27;, name: &#x27;xx故事书 &#x27;, ... }\n</code></pre><p><a href=\"http://xn--Abook-rs1ht4bn8p8t6a2kpq38gytj24az01d.name\">请问怎么通过A加条件book.name</a> = ‘xx故事书’ 来查询需要的数据?</p>\n<p>谢过!!!</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1207, '【问题】mongoose 如何多条件查询，包括同时查询数组？', 'lisniuse', '', '<div class=\"markdown-text\"><p>我的需求：我想查找_id 为 5b35fdfeea0b0221640b2039  并且数组 starPropertys 里包含了 5b35fdffea0b0221640b203b 的数据</p>\n<p>我有一个集合符合条件，它这样的：</p>\n<pre class=\"prettyprint language-javasciprt\"><code>{\n    &quot;_id&quot;: &quot;5b35fdfeea0b0221640b2039&quot;,\n    &quot;power&quot;: [],\n    &quot;score&quot;: 0,\n    &quot;starPropertys&quot;: [\n        &quot;5b35fdffea0b0221640b203b&quot;,\n        &quot;5b35fe07ea0b0221640b203d&quot;\n    ],\n    &quot;active&quot;: true,\n    &quot;email&quot;: &quot;test12@qq.com&quot;,\n    &quot;password&quot;: &quot;$2a$10$PoTkIE0WyVHvSnUGH60hNeHQIw1UWUvvpaN3ra4&#x2F;v49tw87e1GJ1m&quot;,\n    &quot;createTime&quot;: 1530265086887,\n    &quot;updateTime&quot;: 1530265086887,\n    &quot;__v&quot;: 0,\n    &quot;nickname&quot;: &quot;jack ma&quot;\n}\n</code></pre><p>我的查询语句如下：</p>\n<pre class=\"prettyprint language-javasciprt\"><code>this.ctx.model.Col.findOne({\n  $and: [\n	  {\n		  _id: userId,\n	  },\n	  {\n		  &quot;starPropertys&quot;: propertyId\n	  }\n  ]\n}).exec();\n</code></pre><p>然而并没有查到任何数据，我想请问如何实现我这样的需求？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0);
INSERT INTO `hos_article` (`id`, `title`, `author`, `description`, `content`, `md`, `author_id`, `banner_img`, `dateline`, `fuck_date`, `tags`, `agree`, `disagree`) VALUES
(1208, '一个关于promise的问题!!!', 'MeetTheBest', '', '<div class=\"markdown-text\"><p>请大佬们帮忙看看, 那个<code>index</code>为啥每次都是最后一次的值(第五行的那个<code>index</code>).</p>\n<p><img src=\"//static.cnodejs.org/Fk2dSixqzx0fhPLutafcCVnx6uj7\" alt=\"promise_problem.png\"></p>\n</div>', '', 63, '//static.cnodejs.org/Fk2dSixqzx0fhPLutafcCVnx6uj7', 1537347917, 1546275661, '客户端测试', 0, 0),
(1209, '关于 Mocha 在测试类似短信验证码过期十分钟这种，应该如何去做呢？', 'mintsweet', '', '<div class=\"markdown-text\"><h1>如题</h1>\n<p><code>Mocha</code>本身有超时的限制，而且在测试短信验证码的时候，一般过期的时间至少也是5分钟以上，不可能去设置一个5分钟的定时器撒，这样如果整个测试之中有好几个需要测试过期时间的地方，就需要等待很久的时间。</p>\n<p>虚心求助…好奇大神们是怎么做的！！！</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1210, 'egg复写d.ts文件', 'lzy2014love', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/Fudik4q60iiBWW0vOc4qZfoyYe20\" alt=\"image.png\"></p>\n<p>egg这个返回值没有了类型，不能提示，我怎么不修改库的d.ts的前提来提示类型</p>\n</div>', '', 63, '//static.cnodejs.org/Fudik4q60iiBWW0vOc4qZfoyYe20', 1537347917, 1546275661, '客户端测试', 0, 0),
(1211, 'morgan如何手动写入日志', '18823752727', '', '<div class=\"markdown-text\"><p>express   morgan只能自动生成日志，如果我想手动写入日志，该怎么做，求大神指点</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1212, '求node包（download-git-repo）的使用方法！', 'chaoming007', '', '<div class=\"markdown-text\"><p>想构建一个脚手架，但是用download-git-repo报错：‘git clone’ failed with status 128</p>\n<p>download(‘github地址’, process.cwd(), { clone: true }, function (err) {\nif (err) console.log(err)\n})</p>\n<p>求指点这个包怎么用？我想让脚手架工具的模板是从github上下载的而不是和工具放在一起的！</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1213, 'not authorized on egg_cnode to execute command { listIndexes: \"topics\", cursor: {} }', 'vipzrx', '', '<div class=\"markdown-text\"><p>使用egg-cnode 在本地搭建 报错</p>\n<pre class=\"prettyprint\"><code>kk@V1:~&#x2F;src$ ls\napp           bin                     docker-compose.yml  LICENSE       package.json       run\napp.js        config                  Dockerfile          logs          package-lock.json  test\nappveyor.yml  docker-compose.dev.yml  init.d              node_modules  README.md          tutorials\n\n</code></pre><p>npm i</p>\n<pre class=\"prettyprint\"><code>kk@V1:~&#x2F;src$ npm i\nnpm WARN ajv-keywords@2.1.1 requires a peer of ajv@^5.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN co-mocha@1.2.2 requires a peer of mocha@&gt;=1.18 &lt;6 but none is installed. You must install peer dependencies yourself.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules&#x2F;fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;} (current: {&quot;os&quot;:&quot;linux&quot;,&quot;arch&quot;:&quot;x64&quot;})\n\nup to date in 16.837s\n\n</code></pre><p>npm run dev</p>\n<pre class=\"prettyprint\"><code>kk@V1:~&#x2F;src$ npm run dev\n\n&gt; cnode@1.0.0 dev &#x2F;home&#x2F;kk&#x2F;src\n&gt; egg-bin dev\n\n2018-06-29 16:22:02,725 INFO 3037 [master] node version v8.11.3\n2018-06-29 16:22:02,727 INFO 3037 [master] egg version 2.9.1\n2018-06-29 16:22:03,499 INFO 3037 [master] agent_worker#1:3043 started (768ms)\n2018-06-29 16:22:05,189 INFO 3037 [master] egg started on http:&#x2F;&#x2F;127.0.0.1:7001 (2462ms)\n2018-06-29 16:22:05,236 ERROR 3053 nodejs.MongoError: not authorized on egg_cnode to execute command { listIndexes: &quot;topics&quot;, cursor: {} }\n    at Function.MongoError.create (&#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;error.js:31:11)\n    at queryCallback (&#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;cursor.js:212:36)\n    at &#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;connection&#x2F;pool.js:469:18\n    at _combinedTickCallback (internal&#x2F;process&#x2F;next_tick.js:131:7)\n    at process._tickCallback (internal&#x2F;process&#x2F;next_tick.js:180:9)\n\nname: &#x27;MongoError&#x27;\nmessage: &#x27;not authorized on egg_cnode to execute command { listIndexes: &quot;topics&quot;, cursor: {} }&#x27;\nok: 0\nerrmsg: &#x27;not authorized on egg_cnode to execute command { listIndexes: &quot;topics&quot;, cursor: {} }&#x27;\ncode: 13\npid: 3053\nhostname: V1\n\n2018-06-29 16:22:05,241 ERROR 3053 nodejs.MongoError: not authorized on egg_cnode to execute command { listIndexes: &quot;replies&quot;, cursor: {} }\n    at Function.MongoError.create (&#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;error.js:31:11)\n    at queryCallback (&#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;cursor.js:212:36)\n    at &#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;connection&#x2F;pool.js:469:18\n    at _combinedTickCallback (internal&#x2F;process&#x2F;next_tick.js:131:7)\n    at process._tickCallback (internal&#x2F;process&#x2F;next_tick.js:180:9)\n\nname: &#x27;MongoError&#x27;\nmessage: &#x27;not authorized on egg_cnode to execute command { listIndexes: &quot;replies&quot;, cursor: {} }&#x27;\nok: 0\nerrmsg: &#x27;not authorized on egg_cnode to execute command { listIndexes: &quot;replies&quot;, cursor: {} }&#x27;\ncode: 13\npid: 3053\nhostname: V1\n\n2018-06-29 16:22:05,245 ERROR 3053 nodejs.MongoError: not authorized on egg_cnode to execute command { listIndexes: &quot;topiccollects&quot;, cursor: {} }\n    at Function.MongoError.create (&#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;error.js:31:11)\n    at queryCallback (&#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;cursor.js:212:36)\n    at &#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;connection&#x2F;pool.js:469:18\n    at _combinedTickCallback (internal&#x2F;process&#x2F;next_tick.js:131:7)\n    at process._tickCallback (internal&#x2F;process&#x2F;next_tick.js:180:9)\n\nname: &#x27;MongoError&#x27;\nmessage: &#x27;not authorized on egg_cnode to execute command { listIndexes: &quot;topiccollects&quot;, cursor: {} }&#x27;\nok: 0\nerrmsg: &#x27;not authorized on egg_cnode to execute command { listIndexes: &quot;topiccollects&quot;, cursor: {} }&#x27;\ncode: 13\npid: 3053\nhostname: V1\n\n2018-06-29 16:22:05,248 ERROR 3053 nodejs.MongoError: not authorized on egg_cnode to execute command { listIndexes: &quot;messages&quot;, cursor: {} }\n    at Function.MongoError.create (&#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;error.js:31:11)\n    at queryCallback (&#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;cursor.js:212:36)\n    at &#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;connection&#x2F;pool.js:469:18\n    at _combinedTickCallback (internal&#x2F;process&#x2F;next_tick.js:131:7)\n    at process._tickCallback (internal&#x2F;process&#x2F;next_tick.js:180:9)\n\nname: &#x27;MongoError&#x27;\nmessage: &#x27;not authorized on egg_cnode to execute command { listIndexes: &quot;messages&quot;, cursor: {} }&#x27;\nok: 0\nerrmsg: &#x27;not authorized on egg_cnode to execute command { listIndexes: &quot;messages&quot;, cursor: {} }&#x27;\ncode: 13\npid: 3053\nhostname: V1\n\n2018-06-29 16:22:05,249 ERROR 3053 nodejs.MongoError: not authorized on egg_cnode to execute command { listIndexes: &quot;users&quot;, cursor: {} }\n    at Function.MongoError.create (&#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;error.js:31:11)\n    at queryCallback (&#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;cursor.js:212:36)\n    at &#x2F;home&#x2F;kk&#x2F;src&#x2F;node_modules&#x2F;mongodb-core&#x2F;lib&#x2F;connection&#x2F;pool.js:469:18\n    at _combinedTickCallback (internal&#x2F;process&#x2F;next_tick.js:131:7)\n    at process._tickCallback (internal&#x2F;process&#x2F;next_tick.js:180:9)\n\nname: &#x27;MongoError&#x27;\nmessage: &#x27;not authorized on egg_cnode to execute command { listIndexes: &quot;users&quot;, cursor: {} }&#x27;\nok: 0\nerrmsg: &#x27;not authorized on egg_cnode to execute command { listIndexes: &quot;users&quot;, cursor: {} }&#x27;\ncode: 13\npid: 3053\nhostname: V1\n\n\n</code></pre></div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1214, 'Egg.js上传文件如何将Filestream转换成buffer', 'JamesGu14', '', '<div class=\"markdown-text\"><p>在使用egg.js上传文件的时候，遇到一些问题：</p>\n<ol>\n<li>\n<p>先是上传到本地的时候，stream.pipe存储的时候常常文件还没保存完毕，程序就会开始继续运行下面的指令了。发现一个之前别人提的问题，貌似也没有结论。<a href=\"https://cnodejs.org/topic/58f8a3cb31e8c2bb1c3dcc18\">https://cnodejs.org/topic/58f8a3cb31e8c2bb1c3dcc18</a></p>\n</li>\n<li>\n<p>OK，既然填不了坑我就绕着走，存OSS，没问题。但是现在有个问题是，我需要在存OSS之前，把图片进行压缩，意味着在读完FileStream后，需要使用resize的库，修改图片后再上传。我的代码如下：</p>\n</li>\n</ol>\n<pre class=\"prettyprint\"><code>const Controller = require(&#x27;egg&#x27;).Controller\n</code></pre><p>const sendToWormhole = require(‘stream-wormhole’)\nconst resizeImg = require(‘resize-img’)\nasync compare() {\nconst stream = await this.ctx.getFileStream()\nif (!stream.truncated) {\nconst name = this.ctx.helper.uuid() + path.extname(stream.filename)\nconst fields = stream.fields\nlet postResult\ntry {\n// 在\n// const buf = await resizeImg(new Buffer(stream._readableState.buffer.tail.data), {width: 300})</p>\n<pre class=\"prettyprint\"><code>  postResult = await this.ctx.service.ali.postFace(name, stream)  &#x2F;&#x2F; 这里是上传到OSS的代码\n    } catch (err) {\n        await sendToWormhole(stream)\n        throw err\n    }\n</code></pre><p>就在const buf = await resizeImg(xxxx) 那行，不知道如何做才能将FileStream object转成buffer呢？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1215, '请教一下关于native abstractions for nodejs的问题', 'lircsszz', '', '<div class=\"markdown-text\"><p>我希望写一个NAN_METHOD能将opencv的数据格式std::vector<a href>cv::Mat</a>, std::vector&lt;std::vector<a href>cv::Point2f</a>&gt;转换为v8的object，请问有什么办法么？\n<a href=\"https://stackoverflow.com/q/51058678/8069114\">https://stackoverflow.com/q/51058678/8069114</a>\n<a href=\"https://community.nodebb.org/topic/12542/i-have-some-trouble-with-how-to-write-native-abstraction-for-nodejs\">https://community.nodebb.org/topic/12542/i-have-some-trouble-with-how-to-write-native-abstraction-for-nodejs</a>\n我在StackOverflow和nodebb上面有这个问题更详细的说明，希望大家能给我一些启发。</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1216, '关于server.close不在接收新的请求的问题', 'lyt308012546', '', '<div class=\"markdown-text\"><p>如果再代码执行server.close时，我不断的发请求，那么服务器会一直处理请求，直到大概5秒内没有任何请求，那么server.close才会关闭监听不再接收新的请求，\n有没有什么办法，可以直接强制关掉监听，不再接收新的请求？</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1217, 'PHPer 关于Koa项目结构 求解惑', 'RooQs', '', '<div class=\"markdown-text\"><p>我是php程序员 对node比较感兴趣 使用koa写了2个项目  但是对目录结构总是觉得不知道怎么设计比较好 有没有人指教一下</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1218, 'angular cli三种打包方式有什么不同', 'ZPLSSSTD', '', '<div class=\"markdown-text\"><p>最近根据慕课网上学习angular5，然后自己按照公司的要求写了一个后台网站，打包之后发现有的JS文件很大，可以达到3M或者4M以上，然后楼主自己在网上查了一些资料，发现了三种类似的打包命令，可是三种命令虽然相似，可打包出来的最终文件却差异很多，但功能没有差别。\n第一种： ng build --env=prod\n<img src=\"//static.cnodejs.org/FrcjxuojqewlcE8smfW1xik9qJXu\" alt=\"1.png\">\n这个是第一种命令打包后的文件，发现有一个3M左右的js文件，然后部署到服务器上，首次请求竟然将近30s\n<img src=\"//static.cnodejs.org/FhS3YSYRRwt4iqvTiSeDbz_wg3jx\" alt=\"1-1.png\"></p>\n<p>第二种： ng build --env=prod --aot\n<img src=\"//static.cnodejs.org/FnO-8GnCugY5Z1KKt--R81sZxp1B\" alt=\"2.png\">\n这个是第二种命令打包的文件，发现之前那个3M的js已经变成了1.9M左右，同样部署到服务器，首次请求相比第一种少了近10s\n<img src=\"//static.cnodejs.org/Foc3CdgBLXe6bc5vl3pSmNawMnbx\" alt=\"2-2.png\"></p>\n<p>第三种：ng build --prod --env=prod --aot\n<img src=\"//static.cnodejs.org/FgYaT04Ragn2QZISNP4F0hiBxw2C\" alt=\"3.png\">\n这个是第三种命令打包的文件，发现不仅仅文件的大小变小了很多，连文件数量也不一样，跟之前的两个差别巨大，同样部署到服务器上，首次请求让我惊讶，4s。\n<img src=\"//static.cnodejs.org/FtHqQVzDhBto970FYsXfr1ilYGqI\" alt=\"3-3.png\"></p>\n<p>有大神或者知道的能帮我解惑一下吗？这三种命令具体的意义还有第三种命令会不会有什么问题。楼主自己测三种功能都正常</p>\n</div>', '', 63, '//static.cnodejs.org/FrcjxuojqewlcE8smfW1xik9qJXu', 1537347917, 1546275661, '客户端测试', 0, 0),
(1219, '微信小游戏', 'Dolphin-Sea', '', '<div class=\"markdown-text\"><p>小程序和小游戏的AppID是不可以用一个么，我输入AppID后并没有建立快速启动游戏模板…</p>\n</div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1220, 'Node.js vm 内存泄漏，不知道为啥，快疯了', 'zhaochy1990', '', '<div class=\"markdown-text\"><p>测试代码如下</p>\n<pre class=\"prettyprint\"><code>function memoryUsage() {\n  const mem = process.memoryUsage();\n  console.log(&#96;rss: ${mem.rss &#x2F; 1024 &#x2F; 1024}M, heapTotal: ${mem.heapTotal &#x2F; 1024 &#x2F; 1024}M, heapUsed: ${mem.heapUsed &#x2F; 1024 &#x2F; 1024}M&#96;);\n}\n\napp.post(&#x27;&#x2F;vm&#x2F;test&#x27;, async (req, res) =&gt; {\n  try {\n    let vm = require(&#x27;vm&#x27;);\n    const code = &#96;\n    ${new Array(100000).join(&#x27;&#x2F;&#x27;)}\n    &#96;;\n    let script = vm.createScript(code);\n    let vmCtx = vm.createContext();\n\n    script.runInContext(vmCtx);\n    script = null;\n    vm = null;\n    vmCtx = null;\n    global.gc();\n	memoryUsage(); &#x2F;&#x2F; 打印出来当前的heap状态\n    res.send(&#x27;ok&#x27;);\n  } catch (e) {\n    console.log(e.message);\n    res.status(500).send(e.message);\n  }\n});\n</code></pre><p>然后就发现内存抽风了\n<img src=\"//static.cnodejs.org/Fv_wez2GzYKX2SGjjdrWR8tE1zu8\" alt=\"image.png\"></p>\n<p>求大神帮忙看看什么问题，在线等！</p>\n</div>', '', 63, '//static.cnodejs.org/Fv_wez2GzYKX2SGjjdrWR8tE1zu8', 1537347917, 1546275661, '客户端测试', 0, 0),
(1221, 'express.static(4)托管静态文件', 'xiaoyu311', '', '<div class=\"markdown-text\"><p><img src=\"//static.cnodejs.org/FpOPFuyQhDWVtmLxNygIu4C-tso1\" alt=\"image.png\"></p>\n<p>本地mac开发，托管静态图片可以正常显示，到ubuntu服务器后，图片路径就不对了，必须还要加上public前缀。这是为什么啊</p>\n<p>express版本是4</p>\n</div>', '', 63, '//static.cnodejs.org/FpOPFuyQhDWVtmLxNygIu4C-tso1', 1537347917, 1546275661, '客户端测试', 0, 0),
(1222, '如何使用sequelize框架实现对两字段乘积后求和的运算？', 'spursy', '', '<div class=\"markdown-text\"><p><strong>如何使用sequelize框架实现对两字段乘积后求和的运算？</strong></p>\n<pre class=\"prettyprint\"><code>SELECT sum(volume) as total_volume, sum(price * volume) as total_price, currency from trades \n</code></pre></div>', '', 63, '', 1537347917, 1546275661, '客户端测试', 0, 0),
(1223, '插1000条就把数据库跑死了', '系统测试账号', '', '<p><strong>这是草稿演示</strong><img src=\"//127.0.0.1:10010/static/images/67fac1a01eb8c2deac10c691f056e07922f1c6d4.jpg\" alt=\"fuck_face.jpg\" /></p>\n', '**这是草稿演示**![fuck_face.jpg](//127.0.0.1:10010/static/images/67fac1a01eb8c2deac10c691f056e07922f1c6d4.jpg)\n\n', 63, '//127.0.0.1:10010/static/images/67fac1a01eb8c2deac10c691f056e07922f1c6d4.jpg', 1537348285, 1546275661, '客户端测试,问答', 0, 0),
(1224, '你有得意的开源项目吗？发出来秀秀', '仁贾_陆', '', '<p><strong>你有得意的开源项目吗？发出来秀秀</strong></p>\n', '**你有得意的开源项目吗？发出来秀秀**', 1, '//static.cnodejs.org/Fo64YmGBQVw50pFzvy66KBxttkvw', 1537350260, 1546275661, '编程', 0, 0);

-- --------------------------------------------------------

--
-- 表的结构 `hos_collection`
--

CREATE TABLE IF NOT EXISTS `hos_collection` (
  `user_id` int(11) NOT NULL COMMENT '用户id',
  `article_id` int(11) NOT NULL COMMENT '收藏的文章id',
  KEY `user_id` (`user_id`),
  KEY `article_id` (`article_id`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk COMMENT='收藏表';

--
-- 转存表中的数据 `hos_collection`
--

INSERT INTO `hos_collection` (`user_id`, `article_id`) VALUES
(37, 95),
(37, 110),
(37, 99),
(37, 98),
(37, 105),
(38, 108),
(1, 108),
(1, 1230),
(1, 1224),
(1, 167),
(1, 169);

-- --------------------------------------------------------

--
-- 表的结构 `hos_comment`
--

CREATE TABLE IF NOT EXISTS `hos_comment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `from_id` int(11) NOT NULL COMMENT '评论者id',
  `to_id` int(11) NOT NULL COMMENT '评论对象id',
  `content` varchar(256) NOT NULL,
  `timestamp` int(11) NOT NULL,
  `article_id` int(11) NOT NULL COMMENT '评论发生的文章id',
  PRIMARY KEY (`id`),
  KEY `article_id` (`article_id`),
  KEY `from_id` (`from_id`),
  KEY `to_id` (`to_id`)
) ENGINE=MyISAM AUTO_INCREMENT=98 DEFAULT CHARSET=gbk COMMENT='评论表';

--
-- 转存表中的数据 `hos_comment`
--

INSERT INTO `hos_comment` (`id`, `from_id`, `to_id`, `content`, `timestamp`, `article_id`) VALUES
(1, 1, 38, 'test comment', 1533194273, 110),
(2, 1, 38, '应该可以从另外线程 close，block 的这个可能会读到 EOF 或这异常（可能语言相关）。', 1533194273, 110),
(3, 38, 1, '特别是现在这个动不动就要工作10个小时以上的时代；其次，我用鼠标只要动个手腕，用他的工作台我要手舞足蹈 ···最后···工作台1w，还一定要配备他的手机···<br>那么我如果买了工作台是放在家里还是放在办公室呢···恩··· 手机其实没什么问题，就是这个工作台太鸡肋了，无法连续长时间的使用 ···牛逼吹的太大，导致落差太大。凉还不至于，但温度会低一点是肯定的', 1526645997, 110),
(4, 37, 1, '(...)\r\nbanner_img\r\n:\r\n(...)\r\ndescription\r\n:\r\n(...)\r\neditorHtmlValue\r\n:\r\n(...)\r\neditorMDValue\r\n:\r\n(...)\r\neditorValue\r\n:\r\n(...)\r\nfuckDate\r\n:\r\n(...)\r\njoinTopicList\r\n:\r\n(...)\r\nminuteListValue\r\n:\r\n(...)\r\noptionsList\r\n:\r\n(...)\r\n', 1533194273, 110),
(5, 38, 1, '特别是现在这个动不动就要工作10个小时以上的时代；其次，我用鼠标只要动个手腕，用他的工作台我要手舞足蹈 ···最后···工作台1w，还一定要配备他的手机···<br>那么我如果买了工作台是放在家里还是放在办公室呢···恩··· 手机其实没什么问题，就是这个工作台太鸡肋了，无法连续长时间的使用 ···牛逼吹的太大，导致落差太大。凉还不至于，但温度会低一点是肯定的', 1533194273, 164),
(6, 37, 37, '	Nextcloud 上面的在线编辑完的 Office 文档，能版本控制嘛？', 1533198773, 110),
(7, 1, 37, '学会了ES6，就不会写出那样的代码.声明变量的新姿势,用let不用var', 1533194273, 110),
(23, 1, 38, '有bug,放在最底部可以这样,如果reply组件底下还有东西就应该', 1533349415, 110),
(17, 1, 1, '    this.fetchData()\n            this.initcollectList()', 1533308257, 110),
(16, 1, 38, '    this.fetchData()\n            this.initcollectList()', 1533308151, 110),
(24, 1, 37, '有bug,放在最底部可以这样,如果reply组件底下还有东西就应该', 1533349498, 110),
(25, 1, 1, 'color: #778087;\n    text-decoration: none;\n    word-break: break-all;', 1533349730, 164),
(26, 62, 37, '我是虾米...米...', 1533352544, 110),
(27, 62, 1, 'space-around：子容器沿主轴均匀分布，位于首尾两端的子容器到父容器的距离是子容器间距的一半。', 1533352572, 164),
(28, 62, 1, '虾米测试..//dushizz.top/img/default.jpg', 1533352895, 164),
(29, 62, 1, '我爱彩虹六号', 1533375622, 111),
(30, 1, 62, '我也爱彩虹六号', 1533696855, 111),
(31, 1, 37, '我们都爱彩虹六号', 1533696873, 111),
(32, 1, 37, '回复楼主测试', 1533697117, 111),
(35, 1, 62, '排序来自两个表，所以没办法完全利用索引', 1533714936, 110),
(41, 1, 1, '后端地址 https://github.com/Tyrone2333/hos_Server', 1533816660, 167),
(38, 38, 1, ' MySQL数据库order by 主键(索引) 查询慢解决方案', 1533715066, 111),
(39, 38, 37, 'Shell Script 实现使用 cat 读串口的同时向串口写数据', 1533715219, 111),
(40, 38, 62, '我不爱彩虹六号', 1533715239, 111),
(42, 1, 1, '公司办公室 test', 1534297541, 167),
(43, 1, 1, 'ieoioeo', 1534382229, 169),
(44, 1, 1, 'ontimeout ', 1534400866, 169),
(45, 1, 1, 'vue中$nextTick()作用', 1536625353, 169),
(46, 1, 1, '更改上传路由 <div class=\"markdown-text\"><p>做lesson4的练习时， <img src=\"//static.cnodejs.org/Fn4rCeRCAiZqBbOvJUj1in10w16A\" alt=\"error.jpg\">,使用url.resolve这个方法，提示参数必须为 字符串，但我这个确实字符串啊，求教什么原因啊</p> </div>', 1536745516, 110),
(47, 1, 1, '评论组件测试', 1537263546, 169),
(62, 63, 63, '没有,https://cnodejs.org/?tab=ask&page=2', 1537345058, 668),
(63, 63, 63, '$store.state.user.user.id === val.from_id', 1537345610, 668),
(64, 1, 63, '哦诶哦饿', 1537345987, 668),
(65, 63, 1, 'authorIdauthorIdauthorId', 1537346098, 668),
(66, 1, 63, 'replyreplyreply', 1537350161, 1223),
(67, 1, 1, 'replyreplyreply', 1537350171, 1223),
(68, 57, 1, '<div class=\"markdown-text\"><p>做了点微小的贡献：<a href=\"https://github.com/eggjs\">https://github.com/eggjs</a></p><p><img src=\"//static.cnodejs.org/Fkq4zu7W11ObwjHkRFl6_DKZBEcE\" alt=\"image.png\"></p></div>', 1537350621, 1224),
(69, 58, 1, '<div class=\"markdown-text\"><p><a href=\"https://github.com/xcstream/hama\">https://github.com/xcstream/hama</a>\n蛤语言</p>\n</div>', 1537350621, 1224),
(70, 63, 1, '<div class=\"markdown-text\"><p>暂时没有,后面有了补上</p>\n</div>', 1537350621, 1224),
(71, 37, 1, '<div class=\"markdown-text\"><p>没有呀，我做不出来呀，<img src=\"//static.cnodejs.org/Fo64YmGBQVw50pFzvy66KBxttkvw\" alt=\"u=1236367496,97195680&amp;amp;fm=27&amp;amp;gp=0.jpg\">。只能做做jq小插件。。</p>\n</div>', 1537350621, 1224),
(72, 38, 1, '<div class=\"markdown-text\"><p><a href=\"https://github.com/mtdhb\">https://github.com/mtdhb</a>\n一键领取饿了么、美团手气最佳红包</p>\n</div>', 1537350621, 1224),
(73, 63, 1, '<div class=\"markdown-text\"><p><a href=\"https://fiora.suisuijiang.com/\">https://fiora.suisuijiang.com/</a>\n有意思的聊天室</p>\n</div>', 1537350621, 1224),
(74, 63, 1, '<div class=\"markdown-text\"><p>小程序书城 <a href=\"https://github.com/Andyliwr/mbook.git\">https://github.com/Andyliwr/mbook.git</a></p>\n</div>', 1537350621, 1224),
(75, 63, 1, '<div class=\"markdown-text\"><p><a href=\"/user/xcstream\">@xcstream</a> 。。。</p>\n</div>', 1537350621, 1224),
(76, 63, 1, '<div class=\"markdown-text\"><p><a href=\"https://github.com/BaffinLee/json4json\">https://github.com/BaffinLee/json4json</a>\n简单的 json 模板引擎</p>\n</div>', 1537350621, 1224),
(77, 63, 1, '<div class=\"markdown-text\"><p><a href=\"https://github.com/gateschema/gateschema-js\">https://github.com/gateschema/gateschema-js</a>\n数据验证和表单生成</p>\n</div>', 1537350621, 1224),
(78, 63, 1, '<div class=\"markdown-text\"><p>doodoo.js中文最佳实践Node.js Web快速开发框架，支持Koa.js中间件 <a href=\"https://github.com/doodooke/doodoo.js.git\">https://github.com/doodooke/doodoo.js.git</a></p>\n</div>', 1537350621, 1224),
(79, 63, 1, '<div class=\"markdown-text\"><p>中国原创音乐基地5sing第三方PC客户端  <a href=\"https://github.com/i5sing/i5SING\">https://github.com/i5sing/i5SING</a>  <a href=\"http://i5sing.com\">http://i5sing.com</a></p>\n</div>', 1537350621, 1224),
(80, 63, 1, '<div class=\"markdown-text\"><p>命令行播放器，半成品</p>\n</div>', 1537350621, 1224),
(81, 63, 1, '<div class=\"markdown-text\"><p>Node.js 微信小程序商城 <a href=\"https://github.com/tumobi/nideshop\">NideShop</a></p>\n<p>来自酷炫的 <a href=\"https://github.com/TakWolf/CNode-Material-Design\">CNodeMD</a></p>\n</div>', 1537350621, 1224),
(82, 63, 1, '<div class=\"markdown-text\"><p>Notadd ------  基于nest.js 的微服务框架（开发中）：<a href=\"https://github.com/notadd/notadd\">https://github.com/notadd/notadd</a></p>\n</div>', 1537350621, 1224),
(83, 63, 1, '<div class=\"markdown-text\"><p>Hve - 一个静态博客客户端工具。哦不，一个可能烂尾的静态博客客户端工具。 <a href=\"https://github.com/hellohve/hve\">https://github.com/hellohve/hve</a></p>\n<p>顺路推荐一款最近开源的，比我的好太多的 <a href=\"https://github.com/GetPublii/Publii\">Publii</a></p>\n</div>', 1537350621, 1224),
(84, 63, 1, '<div class=\"markdown-text\"><p><a href=\"https://github.com/pulessrity/ikan_comic\">https://github.com/pulessrity/ikan_comic</a>\n让你躺着看漫画</p>\n</div>', 1537350621, 1224),
(85, 63, 1, '<div class=\"markdown-text\"><p><a href=\"https://github.com/zhaoyu69\">https://github.com/zhaoyu69</a> 了解一下哈哈</p>\n</div>', 1537350621, 1224),
(86, 63, 1, '<div class=\"markdown-text\"><p><a href=\"https://github.com/seekcx/acr\">https://github.com/seekcx/acr</a></p>\n<p>支持链式定义的异步验证插件。</p>\n</div>', 1537350621, 1224),
(87, 63, 1, '<div class=\"markdown-text\"><p><a href=\"https://github.com/wxs77577/rest-admin\">https://github.com/wxs77577/rest-admin</a></p>\n</div>', 1537350621, 1224),
(88, 63, 1, '<div class=\"markdown-text\"><p><a href=\"https://github.com/lincenying/mmf-blog-vue2-pwa-ssr\">https://github.com/lincenying/mmf-blog-vue2-pwa-ssr</a></p>\n</div>', 1537350621, 1224),
(89, 63, 1, '<div class=\"markdown-text\"><p>使用 koa angular mysql 做的前后端全栈项目，类似企业站：<a href=\"https://github.com/LiangJingxuan/tradingAPP\"></a><a href=\"https://github.com/LiangJingxuan/tradingAPP\">https://github.com/LiangJingxuan/tradingAPP</a> ，喜欢的话可以给星星。</p>\n</div>', 1537350621, 1224),
(90, 63, 1, '<div class=\"markdown-text\"><p>使用node，选用express+mysql+ejs的简易博客站点程序（后端渲染）\n学了没多久，不太清楚比较规范的开发方式，写的比较乱\n<a href=\"https://github.com/SURA907/node_blog\">https://github.com/SURA907/node_blog</a></p>\n</div>', 1537350621, 1224),
(91, 63, 1, '<div class=\"markdown-text\"><p>类似迅雷的断点下载，断点上传工具，不限速，vue-electron构建，不方便开源…</p>\n</div>', 1537350621, 1224),
(96, 62, 57, '  .catch(err => {\n                        console.error(err)\n                    })  .catch(err => {\n                        console.error(err)\n                    })', 1537499646, 1224),
(97, 1, 62, 'article_modifyarticle_modify', 1537501231, 1227);

-- --------------------------------------------------------

--
-- 表的结构 `hos_message`
--

CREATE TABLE IF NOT EXISTS `hos_message` (
  `id` int(20) NOT NULL AUTO_INCREMENT,
  `content` varchar(1000) DEFAULT NULL,
  `create_time` int(10) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;

--
-- 转存表中的数据 `hos_message`
--

INSERT INTO `hos_message` (`id`, `content`, `create_time`) VALUES
(1, 'enzo关注了你的文章图片测试', 1533119604),
(2, 'enzo在文章图片测试中回复了你', 1533119604),
(3, 'enzo在文章图片测试中回复了你', 1533119604);

-- --------------------------------------------------------

--
-- 表的结构 `hos_message_notified`
--

CREATE TABLE IF NOT EXISTS `hos_message_notified` (
  `id` int(20) NOT NULL AUTO_INCREMENT,
  `from_id` int(11) DEFAULT NULL,
  `to_id` int(11) DEFAULT NULL,
  `message_id` int(20) DEFAULT NULL,
  `is_read` tinyint(1) DEFAULT '0',
  `create_time` int(10) DEFAULT '0',
  `type` varchar(12) DEFAULT NULL COMMENT '公告 Announce，提醒 Remind，信息 Message',
  `action` varchar(12) DEFAULT NULL COMMENT '\r\n                                                     * reply: xx 回复了你的文章\r\n                                                     * reply2: xx 在文章中回复了你\r\n                                                     * follow: xx 关注了你的文章\r\n                                                     * at: xx ＠了你',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

--
-- 转存表中的数据 `hos_message_notified`
--

INSERT INTO `hos_message_notified` (`id`, `from_id`, `to_id`, `message_id`, `is_read`, `create_time`, `type`, `action`) VALUES
(1, 38, 1, 1, 0, 1533119604, 'remind', 'follow'),
(3, 38, 1, 2, 0, 1533119604, 'remind', 'reply2'),
(4, 39, 2, 2, 0, 1533119604, 'remind', 'reply2');

-- --------------------------------------------------------

--
-- 表的结构 `hos_token`
--

CREATE TABLE IF NOT EXISTS `hos_token` (
  `user_id` int(11) NOT NULL,
  `user_token` varchar(50) NOT NULL,
  `expire_time` int(11) NOT NULL,
  PRIMARY KEY (`user_id`)
) ENGINE=MyISAM DEFAULT CHARSET=gbk;

--
-- 转存表中的数据 `hos_token`
--

INSERT INTO `hos_token` (`user_id`, `user_token`, `expire_time`) VALUES
(44, '5583437dfa88ba9417a172db01d91a811e9383a8', 1515980532),
(43, '3eba8bce454715d344328ca77e2b1ca6f2cb52ae', 1531883290),
(40, '9ba4292b2db0433c47bffb55ab0c1e7ebb511c39', 1515121194),
(41, '19f6c6dd4a36380a07204f63b3f242715d706949', 1515122663),
(42, 'c664d2b44f43a757fc34086b2abd007e86640c8d', 1516023817),
(37, '519ac27514f55c52b489cf8aedeaece91024c2da', 1527685933),
(38, 'f802442e60fffebddde99902c9b178a7e64d8cb6', 1531883284),
(39, '992e1d45fb579455b90ca03710aff87ffc3a3129', 1514901343);

-- --------------------------------------------------------

--
-- 表的结构 `hos_user`
--

CREATE TABLE IF NOT EXISTS `hos_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(25) NOT NULL,
  `nickname` varchar(32) DEFAULT NULL COMMENT '昵称',
  `pwd` varchar(50) NOT NULL,
  `age` int(11) DEFAULT '0',
  `sex` tinyint(4) DEFAULT '0' COMMENT '0为女,1为男',
  `avatar` varchar(255) NOT NULL DEFAULT '//dushizz.top/img/default.jpg' COMMENT '头像',
  `salt` varchar(50) DEFAULT NULL COMMENT '盐值',
  `email` varchar(32) DEFAULT NULL,
  `register_time` int(10) NOT NULL DEFAULT '0',
  `address` varchar(32) DEFAULT NULL COMMENT '地址',
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=MyISAM AUTO_INCREMENT=596437944 DEFAULT CHARSET=gbk;

--
-- 转存表中的数据 `hos_user`
--

INSERT INTO `hos_user` (`id`, `username`, `nickname`, `pwd`, `age`, `sex`, `avatar`, `salt`, `email`, `register_time`, `address`) VALUES
(1, 'root', '仁贾_陆', '4bf994a5467822ec39b76b92c02e792a33c4562a', 23, 1, '//127.0.0.1:10010/static/images/avatar/2bf374bb1caf9a31c82b9bb0047050f183ce8f54.jpg', 'f5c828ff122cd8d0509051584236cceb28c78bfa', '16433543@163.com', 1531198885, '610000,611000,611002'),
(38, 'enzo', 'enzo', 'c3aff9e384feeacc974eb4c41d1d80f16fb0f12f', 8, 0, 'http://placeholder.qiniudn.com/100x100/3c5e91/3c5e91', 'f5c828ff122cd8d0509051584236cceb28c78bfa', '734821424@qq.com', 1531098885, '340000,340100,340102'),
(37, 'Greak Neir', 'Greak Neir', 'e858d82241025b9561667f89db6d2eb963976b4b', 0, NULL, 'https://avatars1.githubusercontent.com/u/5886475?v=4&s=120', 'f5c828ff122cd8d0509051584236cceb28c78bfa', NULL, 0, NULL),
(40, 'DuShiZZ', '渡世之舟', 'a8d1fed8ab12550420e114d4f91dba28e9d32fa7', 0, NULL, '//dushizz.top/img/Best%20Friend_.jpg', '09452736ee45b57466c5d10953717b076fe8d0fa', NULL, 0, NULL),
(41, '123', '杨', '9682e044e74e3d151fa4b00cf99672bf015e41b7', 0, NULL, '//www.yangzq.top/img/fuck_face.jpg', 'aea20ff7fcc9cf6a4b143bbd3c42fb52e557cd03', NULL, 0, NULL),
(42, '123456', '123456', 'b8da0d0b2fa6d17ecf14646604d17ec4daa9dee8', 0, NULL, '//www.yangzq.top/img/fuck_face.jpg', '77ea84b2f8d802b971df82573b348a84810dfeca', NULL, 0, NULL),
(43, 'steamm', 'steamm', '6317b939665456e3c4a9a71744537e5a39a7db3c', 0, NULL, '//www.yangzq.top/img/fuck_face.jpg', '3fd3b769f0fa698bf9c77f8c5cb7fb2b1695acdd', NULL, 0, NULL),
(56, 'Greaka', 'Greak Neir', '4bf994a5467822ec39b76b92c02e792a33c4562a', 0, NULL, '//www.yangzq.top/img/fuck_face.jpg', NULL, NULL, 0, NULL),
(57, 'Greaka1', 'Greak Neir', '4bf994a5467822ec39b76b92c02e792a33c4562a', 0, NULL, 'https://avatars2.githubusercontent.com/u/227713?v=4&s=120', NULL, NULL, 0, NULL),
(58, '54341627e737cbe96dcef3321', NULL, 'b4ec5cb6c6167213f83aa95fb0a4524dfccf8b02', 0, NULL, '//dushizz.top/img/default.jpg', '6259f909af3e9a4c4cf1f5402f5870df4e0ce349', NULL, 1531298885, NULL),
(596437941, 'root2', 'test', '42aeb7a76eb650dc1f13a27c5ab8199446e68d75', 2, NULL, 'https://upload-images.jianshu.io/upload_images/13417663-ba3041d5bd8209cf.png', '57f3ba1c424995ac41d84c8d239963d7da368e75', NULL, 1531299068, NULL),
(60, 'root22', NULL, '9372859f966cec7ee0243407bbe6b17a9f5800f0', 0, NULL, 'https://upload-images.jianshu.io/upload_images/13417663-ba3041d5bd8209cf.png', 'f208e2e375a3afee5a82879608ed2bc1ce683110', NULL, 1531299257, NULL),
(61, 'root23', NULL, '6ddf23c65a59ade890008b8021d538e7ad2a445e', 0, NULL, 'https://upload-images.jianshu.io/upload_images/13417663-ba3041d5bd8209cf.png', 'dcda27377afb502f02c74ca1f3d2c593dec1c7d9', NULL, 1531320861, NULL),
(62, 'xiami', '无味虾米', 'bbc1cd3932f4aa00c58ed57a6340279ec36f4bf0', 2, 0, '//dushizz.top/img/default.jpg', '29abd8e5d203b2a637d31985c89811a9a94cfb01', '154354@qq.com', 1533352350, '140000,140100,140105'),
(63, 'test', '系统测试账号', 'dcb6e499bca985d182672686cc2199d8d481138a', 0, 0, '//dushizz.top/img/default.jpg', 'e77a687f43b88cca90407806b82e47cf423c6f8c', NULL, 1537327987, NULL),
(596437943, 'test233', '', '77b6c18516a8a84828ccbbd4188634909eeb7604', 2, 1, '//127.0.0.1:10010/static/images/avatar/ea136e5d1c36d53d68a9d3571be97239b58829f4.jpg', 'cd4b00d705d347ec2d9eb30b9da9db5a58384648', '', 1537500211, '');
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
